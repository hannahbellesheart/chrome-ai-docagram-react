const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["c-dagre-SWNTG5WE.DWXwo0oD.js","c-graph.LrzKEURD.js","c-_baseUniq.B6F21pIQ.js","c-layout.DW-oGeTY.js","c-_basePickBy.DHYc2WzR.js","c-clone.efIVrz4F.js","c-App.BTybbOiv.js","App.css","c-c4Diagram-GPMAACGM.C32fG0np.js","c-chunk-VCFP4HPQ.P-Zh3yiJ.js","c-flowDiagram-TSWR6T2D.Ck6ffKlE.js","c-chunk-EICJXIV7.DfejhB_s.js","c-channel.DwG3ORrW.js","c-erDiagram-WO52GFNT.LFoF0V0f.js","c-gitGraphDiagram-5C7YHVU6.DJo58C4j.js","c-chunk-BAOP5US2.D69mMcSi.js","c-chunk-RGXPSUNZ.DGZknDz3.js","c-gitGraph-YCYPL57B.Dz7kBqcO.js","c-ganttDiagram-FAOCOTIY.R6hBUM4X.js","c-linear.CFszUfD_.js","c-init.Gi6I4Gst.js","c-infoDiagram-P5D6MX3V.DdIyuX89.js","c-pieDiagram-BLWKPB35.lIooBhwN.js","c-arc.D8ah_K6m.js","c-ordinal.jT623uI2.js","c-quadrantDiagram-QXWEEFXS.DgfFRL-6.js","c-xychartDiagram-MYLB5AYS.Bk6N2-gY.js","c-requirementDiagram-XAUNFCZY.CocmbrW5.js","c-sequenceDiagram-D25TJ2OB.BXnlbrZo.js","c-classDiagram-FEGYTUDG.T4l6upN8.js","c-chunk-CXDZ2C6O.BlaZOBCJ.js","c-classDiagram-v2-R65JCUOM.T4l6upN8.js","c-stateDiagram-GNSP7T6Y.PmTUAwa8.js","c-chunk-JZAHL7AJ.ab2c-n0N.js","c-stateDiagram-v2-HP6YRVRG.mlRZ3fPK.js","c-journeyDiagram-UIGPPNLY.B4jif9w_.js","c-timeline-definition-27KQCCZ3.mVhogevl.js","c-mindmap-definition-R7LC4OIY.CBpJ3Pex.js","c-cytoscape.esm.YXkLVt_w.js","c-kanban-definition-KMT3NSR2.uT1oEA61.js","c-sankeyDiagram-LVV36NHA.BhdocKg_.js","c-diagram-NZMEDLQF.DLTa1rZz.js","c-blockDiagram-XN6IQ5JY.Bftekuos.js","c-architectureDiagram-AYX4OTIS.DGoAurYb.js"])))=>i.map(i=>d[i]);
var Eb=Object.defineProperty;var vh=t=>{throw TypeError(t)};var Ab=(t,e,r)=>e in t?Eb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Lt=(t,e,r)=>Ab(t,typeof e!="symbol"?e+"":e,r),Lb=(t,e,r)=>e.has(t)||vh("Cannot "+r);var Sh=(t,e,r)=>e.has(t)?vh("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r);var Jn=(t,e,r)=>(Lb(t,e,"access private method"),r);import{D as Io,r as X,j as U,b as Sr,d as Bb,a as $o,g as Jf,u as Mb,e as tp,f as ep,h as Ul,P as Br,i as Ze,k as Fb,l as Ib,m as rp,n as $b,C as Ks,o as Zs,B as ia,L as Th,c as Db,R as Rb}from"./c-App.BTybbOiv.js";class Pb{constructor(){this.ai=self.ai,this.model=null,this.summarizeSession=null,this.isInitialized=!1}async checkSupport(){var e,r,n,i;try{const a=await((r=(e=self.ai)==null?void 0:e.languageModel)==null?void 0:r.capabilities()),s=await((i=(n=self.ai)==null?void 0:n.summarizer)==null?void 0:i.capabilities());return{hasLanguageModel:(a==null?void 0:a.available)!=="no",hasSummarizer:(s==null?void 0:s.available)!=="no",languageModelStatus:(a==null?void 0:a.available)||"no",summarizerStatus:(s==null?void 0:s.available)||"no"}}catch(a){return console.error("Error checking AI capabilities:",a),{hasLanguageModel:!1,hasSummarizer:!1,languageModelStatus:"no",summarizerStatus:"no"}}}async initialize(){try{const r=(await chrome.storage.sync.get("docagramOptions")).docagramOptions||Io;await this.destroy();const n=await this.checkSupport();if(!n.hasLanguageModel)throw new Error("Language model not available on this device");return this.model=await this.ai.languageModel.create({temperature:r.temperature,topK:r.topK}),n.hasSummarizer?(this.summarizeSession=await this.ai.summarizer.create(),this.isInitialized=!0,this.model):(this.isInitialized=!0,this.model)}catch(e){throw this.isInitialized=!1,e}}async summarizeContent(e,r=1e3){if(console.log("Summarizing content..."+e),console.log("Length of content: "+e.length),!e||e.length<=r)return console.log("Content does not need to be summarized"),"";if(!this.summarizeSession)return console.warn("Summarizer not available"),"Summarizer not available";try{const n=await this.summarizeSession.summarize(e);return console.log("Summarized content: "+n),n}catch(n){if(n instanceof DOMException&&n.name==="InvalidStateError")try{return(await this.checkSupport()).hasSummarizer?(this.summarizeSession=await self.ai.summarizer.create(),await this.summarizeSession.summarize(e)):(console.warn("Summarizer not available, using original content"),"")}catch(i){console.warn("Failed to reinitialize summarizer:",i)}return console.warn("Summarization failed, using original content:",n),"Failed"}}async streamAnalysis(e,r,n){if(!this.model)throw new Error("Language model session not initialized");const s=`${((await chrome.storage.sync.get("docagramOptions")).docagramOptions||Io).systemPrompt}: ${e}`;try{return this.model.promptStreaming(s)}catch(o){if(console.error("Error streaming analysis:",o),o instanceof DOMException&&o.name==="InvalidStateError"&&(await this.getCapabilities()).available!=="no")return await this.initialize(),this.model.promptStreaming(s);throw o}}async getCapabilities(){try{return await self.ai.languageModel.capabilities()}catch(e){return console.error("Error getting language model capabilities:",e),{available:"no",defaultTopK:0,maxTopK:0,defaultTemperature:0,supportsLanguage:()=>"readily"}}}getSessionStats(){if(!this.model)return null;const{maxTokens:e,temperature:r,tokensLeft:n,tokensSoFar:i,topK:a}=this.model;return{maxTokens:e,temperature:r,tokensLeft:n,tokensSoFar:i,topK:a,hasSummarizer:!!this.summarizeSession,isInitialized:this.isInitialized}}async destroy(){if(console.log("Destroying AI service..."),this.model){try{await this.model.destroy()}catch(e){console.warn("Error destroying language model session:",e)}this.model=null}if(this.summarizeSession){try{await this.summarizeSession.destroy()}catch(e){console.warn("Error destroying summarizer session:",e)}this.summarizeSession=null}this.isInitialized=!1}}const Ob=Bb("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Do=X.forwardRef(({className:t,variant:e,...r},n)=>U.jsx("div",{ref:n,role:"alert",className:Sr(Ob({variant:e}),t),...r}));Do.displayName="Alert";const Nb=X.forwardRef(({className:t,...e},r)=>U.jsx("h5",{ref:r,className:Sr("mb-1 font-medium leading-none tracking-tight",t),...e}));Nb.displayName="AlertTitle";const Ro=X.forwardRef(({className:t,...e},r)=>U.jsx("div",{ref:r,className:Sr("text-sm [&_p]:leading-relaxed",t),...e}));Ro.displayName="AlertDescription";function zb({error:t,status:e}){return!t&&!e?null:U.jsxs("div",{className:"space-y-2",children:[t&&U.jsx(Do,{variant:"destructive",children:U.jsx(Ro,{children:t})}),e&&U.jsxs(Do,{variant:"default",className:"flex items-center",children:[U.jsxs("svg",{className:"animate-spin mr-2 h-5 w-5 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[U.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),U.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),U.jsx(Ro,{className:"mt-2",children:e})]})]})}class np{constructor(){this.relationships=[],this.uniqueEntities=new Map,this.selectedEntity=null,this.uniqueEntityCount=new Map}areRelationshipsEqual(e,r){return e.entity1===r.entity1&&e.entity2===r.entity2&&e.description===r.description||e.entity1===r.entity2&&e.entity2===r.entity1&&e.description===r.description}parseRelationships(e,r){const n=[],i=e.split(`
`);for(const a of i){const s=a.match(/([^()]+?)\s+to\s+([^()]+?)\s*\(([^)]+)\)/i);if(s){const o=s[1].trim(),l=s[2].trim(),c=s[3].trim(),h={entity1:o,entity2:l,description:c,sourceUrl:r};this.relationships.some(f=>this.areRelationshipsEqual(f,h))||(this.uniqueEntityCount.set(o,(this.uniqueEntityCount.get(o)||0)+1),this.uniqueEntityCount.set(l,(this.uniqueEntityCount.get(l)||0)+1),this.uniqueEntities.has(o)||this.uniqueEntities.set(o,r),this.uniqueEntities.has(l)||this.uniqueEntities.set(l,r),n.push(h))}}return this.relationships=[...this.relationships,...n],n}reset(){this.relationships=[],this.uniqueEntities.clear(),this.selectedEntity=null,this.uniqueEntityCount.clear()}getRelationships(){return this.relationships}getEntitiesList(){return Array.from(this.uniqueEntities.keys()).sort()}getEntitySource(e){return this.uniqueEntities.get(e)}selectEntity(e){return this.selectedEntity=e,this.getEntityRelationships(e)}getEntityRelationships(e){return this.relationships.filter(r=>r.entity1===e||r.entity2===e)}exportToJson(){return{relationships:this.relationships,entities:Object.fromEntries(this.uniqueEntities),selectedEntity:this.selectedEntity}}importFromJson(e){this.relationships=e.relationships||[],this.uniqueEntities=new Map(Object.entries(e.entities||{})),this.selectedEntity=e.selectedEntity||null,this.uniqueEntityCount.clear();for(const r of this.relationships)this.uniqueEntityCount.set(r.entity1,(this.uniqueEntityCount.get(r.entity1)||0)+1),this.uniqueEntityCount.set(r.entity2,(this.uniqueEntityCount.get(r.entity2)||0)+1)}getEntityCount(e){return this.uniqueEntityCount.get(e)||0}deleteEntity(e){this.relationships=this.relationships.filter(r=>r.entity1!==e&&r.entity2!==e),this.uniqueEntities.delete(e),this.uniqueEntityCount.delete(e)}}class Eh{static async getPageContent(){const[e]=await chrome.tabs.query({active:!0,currentWindow:!0}),[{result:r}]=await chrome.scripting.executeScript({target:{tabId:e.id},func:()=>{const n=document.createTreeWalker(document.body,NodeFilter.SHOW_TEXT,{acceptNode:function(s){const o=s.parentElement;if(!o||o.offsetHeight===0)return NodeFilter.FILTER_REJECT;const l=o.tagName.toLowerCase();return l==="script"||l==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}});let i="",a;for(;a=n.nextNode();)i+=a.textContent+" ";return i.replace(/\s+/g," ").trim()}});return r}static async splitIntoChunks(e){const i=((await chrome.storage.sync.get("docagramOptions")).docagramOptions||Io).chunkSize,a=[];for(let s=0;s<e.length;s+=i)a.push(e.slice(s,s+i));return a}}const qb="modulepreload",Hb=function(t){return"/"+t},Ah={},Et=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=Hb(l),l in Ah)return;Ah[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":qb,c||(u.as="script"),u.crossOrigin="",u.href=l,o&&u.setAttribute("nonce",o),document.head.appendChild(u),c)return new Promise((f,p)=>{u.addEventListener("load",f),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};var ip={exports:{}};(function(t,e){(function(r,n){t.exports=n()})($o,function(){var r=1e3,n=6e4,i=36e5,a="millisecond",s="second",o="minute",l="hour",c="day",h="week",u="month",f="quarter",p="year",d="date",m="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function($){var I=["th","st","nd","rd"],A=$%100;return"["+$+(I[(A-20)%10]||I[A]||I[0])+"]"}},C=function($,I,A){var B=String($);return!B||B.length>=I?$:""+Array(I+1-B.length).join(A)+$},S={s:C,z:function($){var I=-$.utcOffset(),A=Math.abs(I),B=Math.floor(A/60),L=A%60;return(I<=0?"+":"-")+C(B,2,"0")+":"+C(L,2,"0")},m:function $(I,A){if(I.date()<A.date())return-$(A,I);var B=12*(A.year()-I.year())+(A.month()-I.month()),L=I.clone().add(B,u),W=A-L<0,w=I.clone().add(B+(W?-1:1),u);return+(-(B+(A-L)/(W?L-w:w-L))||0)},a:function($){return $<0?Math.ceil($)||0:Math.floor($)},p:function($){return{M:u,y:p,w:h,d:c,D:d,h:l,m:o,s,ms:a,Q:f}[$]||String($||"").toLowerCase().replace(/s$/,"")},u:function($){return $===void 0}},v="en",_={};_[v]=b;var F="$isDayjsObject",P=function($){return $ instanceof R||!(!$||!$[F])},q=function $(I,A,B){var L;if(!I)return v;if(typeof I=="string"){var W=I.toLowerCase();_[W]&&(L=W),A&&(_[W]=A,L=W);var w=I.split("-");if(!L&&w.length>1)return $(w[0])}else{var j=I.name;_[j]=I,L=j}return!B&&L&&(v=L),L||!B&&v},O=function($,I){if(P($))return $.clone();var A=typeof I=="object"?I:{};return A.date=$,A.args=arguments,new R(A)},E=S;E.l=q,E.i=P,E.w=function($,I){return O($,{locale:I.$L,utc:I.$u,x:I.$x,$offset:I.$offset})};var R=function(){function $(A){this.$L=q(A.locale,null,!0),this.parse(A),this.$x=this.$x||A.x||{},this[F]=!0}var I=$.prototype;return I.parse=function(A){this.$d=function(B){var L=B.date,W=B.utc;if(L===null)return new Date(NaN);if(E.u(L))return new Date;if(L instanceof Date)return new Date(L);if(typeof L=="string"&&!/Z$/i.test(L)){var w=L.match(x);if(w){var j=w[2]-1||0,pt=(w[7]||"0").substring(0,3);return W?new Date(Date.UTC(w[1],j,w[3]||1,w[4]||0,w[5]||0,w[6]||0,pt)):new Date(w[1],j,w[3]||1,w[4]||0,w[5]||0,w[6]||0,pt)}}return new Date(L)}(A),this.init()},I.init=function(){var A=this.$d;this.$y=A.getFullYear(),this.$M=A.getMonth(),this.$D=A.getDate(),this.$W=A.getDay(),this.$H=A.getHours(),this.$m=A.getMinutes(),this.$s=A.getSeconds(),this.$ms=A.getMilliseconds()},I.$utils=function(){return E},I.isValid=function(){return this.$d.toString()!==m},I.isSame=function(A,B){var L=O(A);return this.startOf(B)<=L&&L<=this.endOf(B)},I.isAfter=function(A,B){return O(A)<this.startOf(B)},I.isBefore=function(A,B){return this.endOf(B)<O(A)},I.$g=function(A,B,L){return E.u(A)?this[B]:this.set(L,A)},I.unix=function(){return Math.floor(this.valueOf()/1e3)},I.valueOf=function(){return this.$d.getTime()},I.startOf=function(A,B){var L=this,W=!!E.u(B)||B,w=E.p(A),j=function($t,Tt){var qt=E.w(L.$u?Date.UTC(L.$y,Tt,$t):new Date(L.$y,Tt,$t),L);return W?qt:qt.endOf(c)},pt=function($t,Tt){return E.w(L.toDate()[$t].apply(L.toDate("s"),(W?[0,0,0,0]:[23,59,59,999]).slice(Tt)),L)},k=this.$W,yt=this.$M,ot=this.$D,bt="set"+(this.$u?"UTC":"");switch(w){case p:return W?j(1,0):j(31,11);case u:return W?j(1,yt):j(0,yt+1);case h:var Ot=this.$locale().weekStart||0,Nt=(k<Ot?k+7:k)-Ot;return j(W?ot-Nt:ot+(6-Nt),yt);case c:case d:return pt(bt+"Hours",0);case l:return pt(bt+"Minutes",1);case o:return pt(bt+"Seconds",2);case s:return pt(bt+"Milliseconds",3);default:return this.clone()}},I.endOf=function(A){return this.startOf(A,!1)},I.$set=function(A,B){var L,W=E.p(A),w="set"+(this.$u?"UTC":""),j=(L={},L[c]=w+"Date",L[d]=w+"Date",L[u]=w+"Month",L[p]=w+"FullYear",L[l]=w+"Hours",L[o]=w+"Minutes",L[s]=w+"Seconds",L[a]=w+"Milliseconds",L)[W],pt=W===c?this.$D+(B-this.$W):B;if(W===u||W===p){var k=this.clone().set(d,1);k.$d[j](pt),k.init(),this.$d=k.set(d,Math.min(this.$D,k.daysInMonth())).$d}else j&&this.$d[j](pt);return this.init(),this},I.set=function(A,B){return this.clone().$set(A,B)},I.get=function(A){return this[E.p(A)]()},I.add=function(A,B){var L,W=this;A=Number(A);var w=E.p(B),j=function(yt){var ot=O(W);return E.w(ot.date(ot.date()+Math.round(yt*A)),W)};if(w===u)return this.set(u,this.$M+A);if(w===p)return this.set(p,this.$y+A);if(w===c)return j(1);if(w===h)return j(7);var pt=(L={},L[o]=n,L[l]=i,L[s]=r,L)[w]||1,k=this.$d.getTime()+A*pt;return E.w(k,this)},I.subtract=function(A,B){return this.add(-1*A,B)},I.format=function(A){var B=this,L=this.$locale();if(!this.isValid())return L.invalidDate||m;var W=A||"YYYY-MM-DDTHH:mm:ssZ",w=E.z(this),j=this.$H,pt=this.$m,k=this.$M,yt=L.weekdays,ot=L.months,bt=L.meridiem,Ot=function(Tt,qt,ce,qe){return Tt&&(Tt[qt]||Tt(B,W))||ce[qt].slice(0,qe)},Nt=function(Tt){return E.s(j%12||12,Tt,"0")},$t=bt||function(Tt,qt,ce){var qe=Tt<12?"AM":"PM";return ce?qe.toLowerCase():qe};return W.replace(y,function(Tt,qt){return qt||function(ce){switch(ce){case"YY":return String(B.$y).slice(-2);case"YYYY":return E.s(B.$y,4,"0");case"M":return k+1;case"MM":return E.s(k+1,2,"0");case"MMM":return Ot(L.monthsShort,k,ot,3);case"MMMM":return Ot(ot,k);case"D":return B.$D;case"DD":return E.s(B.$D,2,"0");case"d":return String(B.$W);case"dd":return Ot(L.weekdaysMin,B.$W,yt,2);case"ddd":return Ot(L.weekdaysShort,B.$W,yt,3);case"dddd":return yt[B.$W];case"H":return String(j);case"HH":return E.s(j,2,"0");case"h":return Nt(1);case"hh":return Nt(2);case"a":return $t(j,pt,!0);case"A":return $t(j,pt,!1);case"m":return String(pt);case"mm":return E.s(pt,2,"0");case"s":return String(B.$s);case"ss":return E.s(B.$s,2,"0");case"SSS":return E.s(B.$ms,3,"0");case"Z":return w}return null}(Tt)||w.replace(":","")})},I.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},I.diff=function(A,B,L){var W,w=this,j=E.p(B),pt=O(A),k=(pt.utcOffset()-this.utcOffset())*n,yt=this-pt,ot=function(){return E.m(w,pt)};switch(j){case p:W=ot()/12;break;case u:W=ot();break;case f:W=ot()/3;break;case h:W=(yt-k)/6048e5;break;case c:W=(yt-k)/864e5;break;case l:W=yt/i;break;case o:W=yt/n;break;case s:W=yt/r;break;default:W=yt}return L?W:E.a(W)},I.daysInMonth=function(){return this.endOf(u).$D},I.$locale=function(){return _[this.$L]},I.locale=function(A,B){if(!A)return this.$L;var L=this.clone(),W=q(A,B,!0);return W&&(L.$L=W),L},I.clone=function(){return E.w(this.$d,this)},I.toDate=function(){return new Date(this.valueOf())},I.toJSON=function(){return this.isValid()?this.toISOString():null},I.toISOString=function(){return this.$d.toISOString()},I.toString=function(){return this.$d.toUTCString()},$}(),N=R.prototype;return O.prototype=N,[["$ms",a],["$s",s],["$m",o],["$H",l],["$W",c],["$M",u],["$y",p],["$D",d]].forEach(function($){N[$[1]]=function(I){return this.$g(I,$[0],$[1])}}),O.extend=function($,I){return $.$i||($(I,R,O),$.$i=!0),O},O.locale=q,O.isDayjs=P,O.unix=function($){return O(1e3*$)},O.en=_[v],O.Ls=_,O.p={},O})})(ip);var Wb=ip.exports;const jb=Jf(Wb),ba={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t),hsl2rgb:({h:t,s:e,l:r},n)=>{if(!e)return r*2.55;t/=360,e/=100,r/=100;const i=r<.5?r*(1+e):r+e-r*e,a=2*r-i;switch(n){case"r":return ba.hue2rgb(a,i,t+1/3)*255;case"g":return ba.hue2rgb(a,i,t)*255;case"b":return ba.hue2rgb(a,i,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:r},n)=>{t/=255,e/=255,r/=255;const i=Math.max(t,e,r),a=Math.min(t,e,r),s=(i+a)/2;if(n==="l")return s*100;if(i===a)return 0;const o=i-a,l=s>.5?o/(2-i-a):o/(i+a);if(n==="s")return l*100;switch(i){case t:return((e-r)/o+(e<r?6:0))*60;case e:return((r-t)/o+2)*60;case r:return((t-e)/o+4)*60;default:return-1}}},Ub={clamp:(t,e,r)=>e>r?Math.min(e,Math.max(r,t)):Math.min(r,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},Yb={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},lt={channel:ba,lang:Ub,unit:Yb},Cr={};for(let t=0;t<=255;t++)Cr[t]=lt.unit.dec2hex(t);const Zt={ALL:0,RGB:1,HSL:2};class Vb{constructor(){this.type=Zt.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=Zt.ALL}is(e){return this.type===e}}class Gb{constructor(e,r){this.color=r,this.changed=!1,this.data=e,this.type=new Vb}set(e,r){return this.color=r,this.changed=!1,this.data=e,this.type.type=Zt.ALL,this}_ensureHSL(){const e=this.data,{h:r,s:n,l:i}=e;r===void 0&&(e.h=lt.channel.rgb2hsl(e,"h")),n===void 0&&(e.s=lt.channel.rgb2hsl(e,"s")),i===void 0&&(e.l=lt.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r,g:n,b:i}=e;r===void 0&&(e.r=lt.channel.hsl2rgb(e,"r")),n===void 0&&(e.g=lt.channel.hsl2rgb(e,"g")),i===void 0&&(e.b=lt.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,r=e.r;return!this.type.is(Zt.HSL)&&r!==void 0?r:(this._ensureHSL(),lt.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,r=e.g;return!this.type.is(Zt.HSL)&&r!==void 0?r:(this._ensureHSL(),lt.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,r=e.b;return!this.type.is(Zt.HSL)&&r!==void 0?r:(this._ensureHSL(),lt.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,r=e.h;return!this.type.is(Zt.RGB)&&r!==void 0?r:(this._ensureRGB(),lt.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,r=e.s;return!this.type.is(Zt.RGB)&&r!==void 0?r:(this._ensureRGB(),lt.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,r=e.l;return!this.type.is(Zt.RGB)&&r!==void 0?r:(this._ensureRGB(),lt.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(Zt.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(Zt.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(Zt.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(Zt.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(Zt.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(Zt.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const ys=new Gb({r:0,g:0,b:0,a:0},"transparent"),gn={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(gn.re);if(!e)return;const r=e[1],n=parseInt(r,16),i=r.length,a=i%4===0,s=i>4,o=s?1:17,l=s?8:4,c=a?0:-1,h=s?255:15;return ys.set({r:(n>>l*(c+3)&h)*o,g:(n>>l*(c+2)&h)*o,b:(n>>l*(c+1)&h)*o,a:a?(n&h)*o/255:1},t)},stringify:t=>{const{r:e,g:r,b:n,a:i}=t;return i<1?`#${Cr[Math.round(e)]}${Cr[Math.round(r)]}${Cr[Math.round(n)]}${Cr[Math.round(i*255)]}`:`#${Cr[Math.round(e)]}${Cr[Math.round(r)]}${Cr[Math.round(n)]}`}},qr={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(qr.hueRe);if(e){const[,r,n]=e;switch(n){case"grad":return lt.channel.clamp.h(parseFloat(r)*.9);case"rad":return lt.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return lt.channel.clamp.h(parseFloat(r)*360)}}return lt.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const r=t.match(qr.re);if(!r)return;const[,n,i,a,s,o]=r;return ys.set({h:qr._hue2deg(n),s:lt.channel.clamp.s(parseFloat(i)),l:lt.channel.clamp.l(parseFloat(a)),a:s?lt.channel.clamp.a(o?parseFloat(s)/100:parseFloat(s)):1},t)},stringify:t=>{const{h:e,s:r,l:n,a:i}=t;return i<1?`hsla(${lt.lang.round(e)}, ${lt.lang.round(r)}%, ${lt.lang.round(n)}%, ${i})`:`hsl(${lt.lang.round(e)}, ${lt.lang.round(r)}%, ${lt.lang.round(n)}%)`}},Ci={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=Ci.colors[t];if(e)return gn.parse(e)},stringify:t=>{const e=gn.stringify(t);for(const r in Ci.colors)if(Ci.colors[r]===e)return r}},di={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const r=t.match(di.re);if(!r)return;const[,n,i,a,s,o,l,c,h]=r;return ys.set({r:lt.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:lt.channel.clamp.g(s?parseFloat(a)*2.55:parseFloat(a)),b:lt.channel.clamp.b(l?parseFloat(o)*2.55:parseFloat(o)),a:c?lt.channel.clamp.a(h?parseFloat(c)/100:parseFloat(c)):1},t)},stringify:t=>{const{r:e,g:r,b:n,a:i}=t;return i<1?`rgba(${lt.lang.round(e)}, ${lt.lang.round(r)}, ${lt.lang.round(n)}, ${lt.lang.round(i)})`:`rgb(${lt.lang.round(e)}, ${lt.lang.round(r)}, ${lt.lang.round(n)})`}},Je={format:{keyword:Ci,hex:gn,rgb:di,rgba:di,hsl:qr,hsla:qr},parse:t=>{if(typeof t!="string")return t;const e=gn.parse(t)||di.parse(t)||qr.parse(t)||Ci.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(Zt.HSL)||t.data.r===void 0?qr.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?di.stringify(t):gn.stringify(t)},ap=(t,e)=>{const r=Je.parse(t);for(const n in e)r[n]=lt.channel.clamp[n](e[n]);return Je.stringify(r)},ki=(t,e,r=0,n=1)=>{if(typeof t!="number")return ap(t,{a:e});const i=ys.set({r:lt.channel.clamp.r(t),g:lt.channel.clamp.g(e),b:lt.channel.clamp.b(r),a:lt.channel.clamp.a(n)});return Je.stringify(i)},Xb=t=>{const{r:e,g:r,b:n}=Je.parse(t),i=.2126*lt.channel.toLinear(e)+.7152*lt.channel.toLinear(r)+.0722*lt.channel.toLinear(n);return lt.lang.round(i)},Kb=t=>Xb(t)>=.5,ji=t=>!Kb(t),sp=(t,e,r)=>{const n=Je.parse(t),i=n[e],a=lt.channel.clamp[e](i+r);return i!==a&&(n[e]=a),Je.stringify(n)},rt=(t,e)=>sp(t,"l",e),at=(t,e)=>sp(t,"l",-e),M=(t,e)=>{const r=Je.parse(t),n={};for(const i in e)e[i]&&(n[i]=r[i]+e[i]);return ap(t,n)},Zb=(t,e,r=50)=>{const{r:n,g:i,b:a,a:s}=Je.parse(t),{r:o,g:l,b:c,a:h}=Je.parse(e),u=r/100,f=u*2-1,p=s-h,m=((f*p===-1?f:(f+p)/(1+f*p))+1)/2,x=1-m,y=n*m+o*x,b=i*m+l*x,C=a*m+c*x,S=s*u+h*(1-u);return ki(y,b,C,S)},G=(t,e=100)=>{const r=Je.parse(t);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,Zb(r,t,e)};/*! @license DOMPurify 3.1.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.6/LICENSE */const{entries:op,setPrototypeOf:Lh,isFrozen:Qb,getPrototypeOf:Jb,getOwnPropertyDescriptor:t1}=Object;let{freeze:le,seal:Me,create:lp}=Object,{apply:Po,construct:Oo}=typeof Reflect<"u"&&Reflect;le||(le=function(e){return e});Me||(Me=function(e){return e});Po||(Po=function(e,r,n){return e.apply(r,n)});Oo||(Oo=function(e,r){return new e(...r)});const aa=ve(Array.prototype.forEach),Bh=ve(Array.prototype.pop),ti=ve(Array.prototype.push),wa=ve(String.prototype.toLowerCase),Qs=ve(String.prototype.toString),Mh=ve(String.prototype.match),ei=ve(String.prototype.replace),e1=ve(String.prototype.indexOf),r1=ve(String.prototype.trim),De=ve(Object.prototype.hasOwnProperty),ie=ve(RegExp.prototype.test),ri=n1(TypeError);function ve(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Po(t,e,n)}}function n1(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Oo(t,r)}}function mt(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wa;Lh&&Lh(t,null);let n=e.length;for(;n--;){let i=e[n];if(typeof i=="string"){const a=r(i);a!==i&&(Qb(e)||(e[n]=a),i=a)}t[i]=!0}return t}function i1(t){for(let e=0;e<t.length;e++)De(t,e)||(t[e]=null);return t}function Rr(t){const e=lp(null);for(const[r,n]of op(t))De(t,r)&&(Array.isArray(n)?e[r]=i1(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=Rr(n):e[r]=n);return e}function ni(t,e){for(;t!==null;){const n=t1(t,e);if(n){if(n.get)return ve(n.get);if(typeof n.value=="function")return ve(n.value)}t=Jb(t)}function r(){return null}return r}const Fh=le(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Js=le(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),to=le(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),a1=le(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),eo=le(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),s1=le(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ih=le(["#text"]),$h=le(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ro=le(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Dh=le(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),sa=le(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),o1=Me(/\{\{[\w\W]*|[\w\W]*\}\}/gm),l1=Me(/<%[\w\W]*|[\w\W]*%>/gm),c1=Me(/\${[\w\W]*}/gm),h1=Me(/^data-[\-\w.\u00B7-\uFFFF]/),u1=Me(/^aria-[\-\w]+$/),cp=Me(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),f1=Me(/^(?:\w+script|data):/i),p1=Me(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),hp=Me(/^html$/i),d1=Me(/^[a-z][.\w]*(-[.\w]+)+$/i);var Rh=Object.freeze({__proto__:null,MUSTACHE_EXPR:o1,ERB_EXPR:l1,TMPLIT_EXPR:c1,DATA_ATTR:h1,ARIA_ATTR:u1,IS_ALLOWED_URI:cp,IS_SCRIPT_OR_DATA:f1,ATTR_WHITESPACE:p1,DOCTYPE_NAME:hp,CUSTOM_ELEMENT:d1});const ii={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},g1=function(){return typeof window>"u"?null:window},m1=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function up(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g1();const e=et=>up(et);if(e.version="3.1.6",e.removed=[],!t||!t.document||t.document.nodeType!==ii.document)return e.isSupported=!1,e;let{document:r}=t;const n=r,i=n.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:o,Element:l,NodeFilter:c,NamedNodeMap:h=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:u,DOMParser:f,trustedTypes:p}=t,d=l.prototype,m=ni(d,"cloneNode"),x=ni(d,"remove"),y=ni(d,"nextSibling"),b=ni(d,"childNodes"),C=ni(d,"parentNode");if(typeof s=="function"){const et=r.createElement("template");et.content&&et.content.ownerDocument&&(r=et.content.ownerDocument)}let S,v="";const{implementation:_,createNodeIterator:F,createDocumentFragment:P,getElementsByTagName:q}=r,{importNode:O}=n;let E={};e.isSupported=typeof op=="function"&&typeof C=="function"&&_&&_.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:R,ERB_EXPR:N,TMPLIT_EXPR:$,DATA_ATTR:I,ARIA_ATTR:A,IS_SCRIPT_OR_DATA:B,ATTR_WHITESPACE:L,CUSTOM_ELEMENT:W}=Rh;let{IS_ALLOWED_URI:w}=Rh,j=null;const pt=mt({},[...Fh,...Js,...to,...eo,...Ih]);let k=null;const yt=mt({},[...$h,...ro,...Dh,...sa]);let ot=Object.seal(lp(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),bt=null,Ot=null,Nt=!0,$t=!0,Tt=!1,qt=!0,ce=!1,qe=!0,ir=!1,sn=!1,on=!1,ar=!1,ln=!1,Ir=!1,Xn=!0,ra=!1;const Gs="user-content-";let Kn=!0,$r=!1,xr={},D=null;const V=mt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ft=null;const gt=mt({},["audio","video","img","source","image","track"]);let wt=null;const he=mt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Te="http://www.w3.org/1998/Math/MathML",ue="http://www.w3.org/2000/svg",re="http://www.w3.org/1999/xhtml";let Ee=re,jt=!1,He=null;const $e=mt({},[Te,ue,re],Qs);let Zn=null;const Cb=["application/xhtml+xml","text/html"],kb="text/html";let Ht=null,cn=null;const _b=r.createElement("form"),ch=function(T){return T instanceof RegExp||T instanceof Function},Xs=function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(cn&&cn===T)){if((!T||typeof T!="object")&&(T={}),T=Rr(T),Zn=Cb.indexOf(T.PARSER_MEDIA_TYPE)===-1?kb:T.PARSER_MEDIA_TYPE,Ht=Zn==="application/xhtml+xml"?Qs:wa,j=De(T,"ALLOWED_TAGS")?mt({},T.ALLOWED_TAGS,Ht):pt,k=De(T,"ALLOWED_ATTR")?mt({},T.ALLOWED_ATTR,Ht):yt,He=De(T,"ALLOWED_NAMESPACES")?mt({},T.ALLOWED_NAMESPACES,Qs):$e,wt=De(T,"ADD_URI_SAFE_ATTR")?mt(Rr(he),T.ADD_URI_SAFE_ATTR,Ht):he,ft=De(T,"ADD_DATA_URI_TAGS")?mt(Rr(gt),T.ADD_DATA_URI_TAGS,Ht):gt,D=De(T,"FORBID_CONTENTS")?mt({},T.FORBID_CONTENTS,Ht):V,bt=De(T,"FORBID_TAGS")?mt({},T.FORBID_TAGS,Ht):{},Ot=De(T,"FORBID_ATTR")?mt({},T.FORBID_ATTR,Ht):{},xr=De(T,"USE_PROFILES")?T.USE_PROFILES:!1,Nt=T.ALLOW_ARIA_ATTR!==!1,$t=T.ALLOW_DATA_ATTR!==!1,Tt=T.ALLOW_UNKNOWN_PROTOCOLS||!1,qt=T.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ce=T.SAFE_FOR_TEMPLATES||!1,qe=T.SAFE_FOR_XML!==!1,ir=T.WHOLE_DOCUMENT||!1,ar=T.RETURN_DOM||!1,ln=T.RETURN_DOM_FRAGMENT||!1,Ir=T.RETURN_TRUSTED_TYPE||!1,on=T.FORCE_BODY||!1,Xn=T.SANITIZE_DOM!==!1,ra=T.SANITIZE_NAMED_PROPS||!1,Kn=T.KEEP_CONTENT!==!1,$r=T.IN_PLACE||!1,w=T.ALLOWED_URI_REGEXP||cp,Ee=T.NAMESPACE||re,ot=T.CUSTOM_ELEMENT_HANDLING||{},T.CUSTOM_ELEMENT_HANDLING&&ch(T.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ot.tagNameCheck=T.CUSTOM_ELEMENT_HANDLING.tagNameCheck),T.CUSTOM_ELEMENT_HANDLING&&ch(T.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ot.attributeNameCheck=T.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),T.CUSTOM_ELEMENT_HANDLING&&typeof T.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ot.allowCustomizedBuiltInElements=T.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ce&&($t=!1),ln&&(ar=!0),xr&&(j=mt({},Ih),k=[],xr.html===!0&&(mt(j,Fh),mt(k,$h)),xr.svg===!0&&(mt(j,Js),mt(k,ro),mt(k,sa)),xr.svgFilters===!0&&(mt(j,to),mt(k,ro),mt(k,sa)),xr.mathMl===!0&&(mt(j,eo),mt(k,Dh),mt(k,sa))),T.ADD_TAGS&&(j===pt&&(j=Rr(j)),mt(j,T.ADD_TAGS,Ht)),T.ADD_ATTR&&(k===yt&&(k=Rr(k)),mt(k,T.ADD_ATTR,Ht)),T.ADD_URI_SAFE_ATTR&&mt(wt,T.ADD_URI_SAFE_ATTR,Ht),T.FORBID_CONTENTS&&(D===V&&(D=Rr(D)),mt(D,T.FORBID_CONTENTS,Ht)),Kn&&(j["#text"]=!0),ir&&mt(j,["html","head","body"]),j.table&&(mt(j,["tbody"]),delete bt.tbody),T.TRUSTED_TYPES_POLICY){if(typeof T.TRUSTED_TYPES_POLICY.createHTML!="function")throw ri('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof T.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ri('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=T.TRUSTED_TYPES_POLICY,v=S.createHTML("")}else S===void 0&&(S=m1(p,i)),S!==null&&typeof v=="string"&&(v=S.createHTML(""));le&&le(T),cn=T}},hh=mt({},["mi","mo","mn","ms","mtext"]),uh=mt({},["foreignobject","annotation-xml"]),vb=mt({},["title","style","font","a","script"]),fh=mt({},[...Js,...to,...a1]),ph=mt({},[...eo,...s1]),Sb=function(T){let Y=C(T);(!Y||!Y.tagName)&&(Y={namespaceURI:Ee,tagName:"template"});const Z=wa(T.tagName),At=wa(Y.tagName);return He[T.namespaceURI]?T.namespaceURI===ue?Y.namespaceURI===re?Z==="svg":Y.namespaceURI===Te?Z==="svg"&&(At==="annotation-xml"||hh[At]):!!fh[Z]:T.namespaceURI===Te?Y.namespaceURI===re?Z==="math":Y.namespaceURI===ue?Z==="math"&&uh[At]:!!ph[Z]:T.namespaceURI===re?Y.namespaceURI===ue&&!uh[At]||Y.namespaceURI===Te&&!hh[At]?!1:!ph[Z]&&(vb[Z]||!fh[Z]):!!(Zn==="application/xhtml+xml"&&He[T.namespaceURI]):!1},We=function(T){ti(e.removed,{element:T});try{C(T).removeChild(T)}catch{x(T)}},na=function(T,Y){try{ti(e.removed,{attribute:Y.getAttributeNode(T),from:Y})}catch{ti(e.removed,{attribute:null,from:Y})}if(Y.removeAttribute(T),T==="is"&&!k[T])if(ar||ln)try{We(Y)}catch{}else try{Y.setAttribute(T,"")}catch{}},dh=function(T){let Y=null,Z=null;if(on)T="<remove></remove>"+T;else{const Ut=Mh(T,/^[\r\n\t ]+/);Z=Ut&&Ut[0]}Zn==="application/xhtml+xml"&&Ee===re&&(T='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+T+"</body></html>");const At=S?S.createHTML(T):T;if(Ee===re)try{Y=new f().parseFromString(At,Zn)}catch{}if(!Y||!Y.documentElement){Y=_.createDocument(Ee,"template",null);try{Y.documentElement.innerHTML=jt?v:At}catch{}}const Kt=Y.body||Y.documentElement;return T&&Z&&Kt.insertBefore(r.createTextNode(Z),Kt.childNodes[0]||null),Ee===re?q.call(Y,ir?"html":"body")[0]:ir?Y.documentElement:Kt},gh=function(T){return F.call(T.ownerDocument||T,T,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},mh=function(T){return T instanceof u&&(typeof T.nodeName!="string"||typeof T.textContent!="string"||typeof T.removeChild!="function"||!(T.attributes instanceof h)||typeof T.removeAttribute!="function"||typeof T.setAttribute!="function"||typeof T.namespaceURI!="string"||typeof T.insertBefore!="function"||typeof T.hasChildNodes!="function")},yh=function(T){return typeof o=="function"&&T instanceof o},sr=function(T,Y,Z){E[T]&&aa(E[T],At=>{At.call(e,Y,Z,cn)})},xh=function(T){let Y=null;if(sr("beforeSanitizeElements",T,null),mh(T))return We(T),!0;const Z=Ht(T.nodeName);if(sr("uponSanitizeElement",T,{tagName:Z,allowedTags:j}),T.hasChildNodes()&&!yh(T.firstElementChild)&&ie(/<[/\w]/g,T.innerHTML)&&ie(/<[/\w]/g,T.textContent)||T.nodeType===ii.progressingInstruction||qe&&T.nodeType===ii.comment&&ie(/<[/\w]/g,T.data))return We(T),!0;if(!j[Z]||bt[Z]){if(!bt[Z]&&wh(Z)&&(ot.tagNameCheck instanceof RegExp&&ie(ot.tagNameCheck,Z)||ot.tagNameCheck instanceof Function&&ot.tagNameCheck(Z)))return!1;if(Kn&&!D[Z]){const At=C(T)||T.parentNode,Kt=b(T)||T.childNodes;if(Kt&&At){const Ut=Kt.length;for(let fe=Ut-1;fe>=0;--fe){const je=m(Kt[fe],!0);je.__removalCount=(T.__removalCount||0)+1,At.insertBefore(je,y(T))}}}return We(T),!0}return T instanceof l&&!Sb(T)||(Z==="noscript"||Z==="noembed"||Z==="noframes")&&ie(/<\/no(script|embed|frames)/i,T.innerHTML)?(We(T),!0):(ce&&T.nodeType===ii.text&&(Y=T.textContent,aa([R,N,$],At=>{Y=ei(Y,At," ")}),T.textContent!==Y&&(ti(e.removed,{element:T.cloneNode()}),T.textContent=Y)),sr("afterSanitizeElements",T,null),!1)},bh=function(T,Y,Z){if(Xn&&(Y==="id"||Y==="name")&&(Z in r||Z in _b))return!1;if(!($t&&!Ot[Y]&&ie(I,Y))){if(!(Nt&&ie(A,Y))){if(!k[Y]||Ot[Y]){if(!(wh(T)&&(ot.tagNameCheck instanceof RegExp&&ie(ot.tagNameCheck,T)||ot.tagNameCheck instanceof Function&&ot.tagNameCheck(T))&&(ot.attributeNameCheck instanceof RegExp&&ie(ot.attributeNameCheck,Y)||ot.attributeNameCheck instanceof Function&&ot.attributeNameCheck(Y))||Y==="is"&&ot.allowCustomizedBuiltInElements&&(ot.tagNameCheck instanceof RegExp&&ie(ot.tagNameCheck,Z)||ot.tagNameCheck instanceof Function&&ot.tagNameCheck(Z))))return!1}else if(!wt[Y]){if(!ie(w,ei(Z,L,""))){if(!((Y==="src"||Y==="xlink:href"||Y==="href")&&T!=="script"&&e1(Z,"data:")===0&&ft[T])){if(!(Tt&&!ie(B,ei(Z,L,"")))){if(Z)return!1}}}}}}return!0},wh=function(T){return T!=="annotation-xml"&&Mh(T,W)},Ch=function(T){sr("beforeSanitizeAttributes",T,null);const{attributes:Y}=T;if(!Y)return;const Z={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:k};let At=Y.length;for(;At--;){const Kt=Y[At],{name:Ut,namespaceURI:fe,value:je}=Kt,Qn=Ht(Ut);let ne=Ut==="value"?je:r1(je);if(Z.attrName=Qn,Z.attrValue=ne,Z.keepAttr=!0,Z.forceKeepAttr=void 0,sr("uponSanitizeAttribute",T,Z),ne=Z.attrValue,qe&&ie(/((--!?|])>)|<\/(style|title)/i,ne)){na(Ut,T);continue}if(Z.forceKeepAttr||(na(Ut,T),!Z.keepAttr))continue;if(!qt&&ie(/\/>/i,ne)){na(Ut,T);continue}ce&&aa([R,N,$],_h=>{ne=ei(ne,_h," ")});const kh=Ht(T.nodeName);if(bh(kh,Qn,ne)){if(ra&&(Qn==="id"||Qn==="name")&&(na(Ut,T),ne=Gs+ne),S&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!fe)switch(p.getAttributeType(kh,Qn)){case"TrustedHTML":{ne=S.createHTML(ne);break}case"TrustedScriptURL":{ne=S.createScriptURL(ne);break}}try{fe?T.setAttributeNS(fe,Ut,ne):T.setAttribute(Ut,ne),mh(T)?We(T):Bh(e.removed)}catch{}}}sr("afterSanitizeAttributes",T,null)},Tb=function et(T){let Y=null;const Z=gh(T);for(sr("beforeSanitizeShadowDOM",T,null);Y=Z.nextNode();)sr("uponSanitizeShadowNode",Y,null),!xh(Y)&&(Y.content instanceof a&&et(Y.content),Ch(Y));sr("afterSanitizeShadowDOM",T,null)};return e.sanitize=function(et){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=null,Z=null,At=null,Kt=null;if(jt=!et,jt&&(et="<!-->"),typeof et!="string"&&!yh(et))if(typeof et.toString=="function"){if(et=et.toString(),typeof et!="string")throw ri("dirty is not a string, aborting")}else throw ri("toString is not a function");if(!e.isSupported)return et;if(sn||Xs(T),e.removed=[],typeof et=="string"&&($r=!1),$r){if(et.nodeName){const je=Ht(et.nodeName);if(!j[je]||bt[je])throw ri("root node is forbidden and cannot be sanitized in-place")}}else if(et instanceof o)Y=dh("<!---->"),Z=Y.ownerDocument.importNode(et,!0),Z.nodeType===ii.element&&Z.nodeName==="BODY"||Z.nodeName==="HTML"?Y=Z:Y.appendChild(Z);else{if(!ar&&!ce&&!ir&&et.indexOf("<")===-1)return S&&Ir?S.createHTML(et):et;if(Y=dh(et),!Y)return ar?null:Ir?v:""}Y&&on&&We(Y.firstChild);const Ut=gh($r?et:Y);for(;At=Ut.nextNode();)xh(At)||(At.content instanceof a&&Tb(At.content),Ch(At));if($r)return et;if(ar){if(ln)for(Kt=P.call(Y.ownerDocument);Y.firstChild;)Kt.appendChild(Y.firstChild);else Kt=Y;return(k.shadowroot||k.shadowrootmode)&&(Kt=O.call(n,Kt,!0)),Kt}let fe=ir?Y.outerHTML:Y.innerHTML;return ir&&j["!doctype"]&&Y.ownerDocument&&Y.ownerDocument.doctype&&Y.ownerDocument.doctype.name&&ie(hp,Y.ownerDocument.doctype.name)&&(fe="<!DOCTYPE "+Y.ownerDocument.doctype.name+`>
`+fe),ce&&aa([R,N,$],je=>{fe=ei(fe,je," ")}),S&&Ir?S.createHTML(fe):fe},e.setConfig=function(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Xs(et),sn=!0},e.clearConfig=function(){cn=null,sn=!1},e.isValidAttribute=function(et,T,Y){cn||Xs({});const Z=Ht(et),At=Ht(T);return bh(Z,At,Y)},e.addHook=function(et,T){typeof T=="function"&&(E[et]=E[et]||[],ti(E[et],T))},e.removeHook=function(et){if(E[et])return Bh(E[et])},e.removeHooks=function(et){E[et]&&(E[et]=[])},e.removeAllHooks=function(){E={}},e}var En=up(),fp=Object.defineProperty,g=(t,e)=>fp(t,"name",{value:e,configurable:!0}),y1=(t,e)=>{for(var r in e)fp(t,r,{get:e[r],enumerable:!0})},or={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},z={trace:g((...t)=>{},"trace"),debug:g((...t)=>{},"debug"),info:g((...t)=>{},"info"),warn:g((...t)=>{},"warn"),error:g((...t)=>{},"error"),fatal:g((...t)=>{},"fatal")},Yl=g(function(t="fatal"){let e=or.fatal;typeof t=="string"?t.toLowerCase()in or&&(e=or[t]):typeof t=="number"&&(e=t),z.trace=()=>{},z.debug=()=>{},z.info=()=>{},z.warn=()=>{},z.error=()=>{},z.fatal=()=>{},e<=or.fatal&&(z.fatal=console.error?console.error.bind(console,Ae("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Ae("FATAL"))),e<=or.error&&(z.error=console.error?console.error.bind(console,Ae("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Ae("ERROR"))),e<=or.warn&&(z.warn=console.warn?console.warn.bind(console,Ae("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Ae("WARN"))),e<=or.info&&(z.info=console.info?console.info.bind(console,Ae("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Ae("INFO"))),e<=or.debug&&(z.debug=console.debug?console.debug.bind(console,Ae("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Ae("DEBUG"))),e<=or.trace&&(z.trace=console.debug?console.debug.bind(console,Ae("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Ae("TRACE")))},"setLogLevel"),Ae=g(t=>`%c${jb().format("ss.SSS")} : ${t} : `,"format"),pp=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,_i=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,x1=/\s*%%.*\n/gm,bn,dp=(bn=class extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}},g(bn,"UnknownDiagramError"),bn),An={},Vl=g(function(t,e){t=t.replace(pp,"").replace(_i,"").replace(x1,`
`);for(const[r,{detector:n}]of Object.entries(An))if(n(t,e))return r;throw new dp(`No diagram type detected matching given configuration for text: ${t}`)},"detectType"),gp=g((...t)=>{for(const{id:e,detector:r,loader:n}of t)mp(e,r,n)},"registerLazyLoadedDiagrams"),mp=g((t,e,r)=>{An[t]&&z.warn(`Detector with key ${t} already exists. Overwriting.`),An[t]={detector:e,loader:r},z.debug(`Detector with key ${t} added${r?" with loader":""}`)},"addDetector"),b1=g(t=>An[t].loader,"getDiagramLoader"),No=g((t,e,{depth:r=2,clobber:n=!1}={})=>{const i={depth:r,clobber:n};return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(a=>No(t,a,i)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(a=>{t.includes(a)||t.push(a)}),t):t===void 0||r<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(a=>{typeof e[a]=="object"&&(t[a]===void 0||typeof t[a]=="object")?(t[a]===void 0&&(t[a]=Array.isArray(e[a])?[]:{}),t[a]=No(t[a],e[a],{depth:r-1,clobber:n})):(n||typeof t[a]!="object"&&typeof e[a]!="object")&&(t[a]=e[a])}),t)},"assignWithDepth"),Gt=No,xs="#ffffff",bs="#f2f2f2",ae=g((t,e)=>e?M(t,{s:-40,l:10}):M(t,{s:-40,l:-10}),"mkBorder"),wn,w1=(wn=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var r,n,i,a,s,o,l,c,h,u,f;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||M(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||M(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||ae(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||ae(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||ae(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||ae(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||G(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||G(this.tertiaryColor),this.lineColor=this.lineColor||G(this.background),this.arrowheadColor=this.arrowheadColor||G(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?at(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||at(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||G(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||rt(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||M(this.primaryColor,{h:30}),this.cScale4=this.cScale4||M(this.primaryColor,{h:60}),this.cScale5=this.cScale5||M(this.primaryColor,{h:90}),this.cScale6=this.cScale6||M(this.primaryColor,{h:120}),this.cScale7=this.cScale7||M(this.primaryColor,{h:150}),this.cScale8=this.cScale8||M(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||M(this.primaryColor,{h:270}),this.cScale10=this.cScale10||M(this.primaryColor,{h:300}),this.cScale11=this.cScale11||M(this.primaryColor,{h:330}),this.darkMode)for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScale"+p]=at(this["cScale"+p],75);else for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScale"+p]=at(this["cScale"+p],25);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||G(this["cScale"+p]);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this.darkMode?this["cScalePeer"+p]=this["cScalePeer"+p]||rt(this["cScale"+p],10):this["cScalePeer"+p]=this["cScalePeer"+p]||at(this["cScale"+p],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||M(this.mainBkg,{h:180,s:-15,l:e*(5+p*3)}),this["surfacePeer"+p]=this["surfacePeer"+p]||M(this.mainBkg,{h:180,s:-15,l:e*(8+p*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||M(this.primaryColor,{h:64}),this.fillType3=this.fillType3||M(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||M(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||M(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||M(this.primaryColor,{h:128}),this.fillType7=this.fillType7||M(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||M(this.primaryColor,{l:-10}),this.pie5=this.pie5||M(this.secondaryColor,{l:-10}),this.pie6=this.pie6||M(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||M(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||M(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||M(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||M(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||M(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||M(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||M(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||M(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||M(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||M(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||M(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||M(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ji(this.quadrant1Fill)?rt(this.quadrant1Fill):at(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((r=this.xyChart)==null?void 0:r.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)==null?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((l=this.xyChart)==null?void 0:l.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((c=this.xyChart)==null?void 0:c.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((h=this.xyChart)==null?void 0:h.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((u=this.xyChart)==null?void 0:u.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((f=this.xyChart)==null?void 0:f.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?at(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||M(this.primaryColor,{h:-30}),this.git4=this.git4||M(this.primaryColor,{h:-60}),this.git5=this.git5||M(this.primaryColor,{h:-90}),this.git6=this.git6||M(this.primaryColor,{h:60}),this.git7=this.git7||M(this.primaryColor,{h:120}),this.darkMode?(this.git0=rt(this.git0,25),this.git1=rt(this.git1,25),this.git2=rt(this.git2,25),this.git3=rt(this.git3,25),this.git4=rt(this.git4,25),this.git5=rt(this.git5,25),this.git6=rt(this.git6,25),this.git7=rt(this.git7,25)):(this.git0=at(this.git0,25),this.git1=at(this.git1,25),this.git2=at(this.git2,25),this.git3=at(this.git3,25),this.git4=at(this.git4,25),this.git5=at(this.git5,25),this.git6=at(this.git6,25),this.git7=at(this.git7,25)),this.gitInv0=this.gitInv0||G(this.git0),this.gitInv1=this.gitInv1||G(this.git1),this.gitInv2=this.gitInv2||G(this.git2),this.gitInv3=this.gitInv3||G(this.git3),this.gitInv4=this.gitInv4||G(this.git4),this.gitInv5=this.gitInv5||G(this.git5),this.gitInv6=this.gitInv6||G(this.git6),this.gitInv7=this.gitInv7||G(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||xs,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||bs}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},g(wn,"Theme"),wn),C1=g(t=>{const e=new w1;return e.calculate(t),e},"getThemeVariables"),Cn,k1=(Cn=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=rt(this.primaryColor,16),this.tertiaryColor=M(this.primaryColor,{h:-160}),this.primaryBorderColor=G(this.background),this.secondaryBorderColor=ae(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ae(this.tertiaryColor,this.darkMode),this.primaryTextColor=G(this.primaryColor),this.secondaryTextColor=G(this.secondaryColor),this.tertiaryTextColor=G(this.tertiaryColor),this.lineColor=G(this.background),this.textColor=G(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=rt(G("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=ki(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=at("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=at(this.sectionBkgColor,10),this.taskBorderColor=ki(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=ki(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var e,r,n,i,a,s,o,l,c,h,u;this.secondBkg=rt(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=rt(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=rt(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=M(this.primaryColor,{h:64}),this.fillType3=M(this.secondaryColor,{h:64}),this.fillType4=M(this.primaryColor,{h:-64}),this.fillType5=M(this.secondaryColor,{h:-64}),this.fillType6=M(this.primaryColor,{h:128}),this.fillType7=M(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||M(this.primaryColor,{h:30}),this.cScale4=this.cScale4||M(this.primaryColor,{h:60}),this.cScale5=this.cScale5||M(this.primaryColor,{h:90}),this.cScale6=this.cScale6||M(this.primaryColor,{h:120}),this.cScale7=this.cScale7||M(this.primaryColor,{h:150}),this.cScale8=this.cScale8||M(this.primaryColor,{h:210}),this.cScale9=this.cScale9||M(this.primaryColor,{h:270}),this.cScale10=this.cScale10||M(this.primaryColor,{h:300}),this.cScale11=this.cScale11||M(this.primaryColor,{h:330});for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||G(this["cScale"+f]);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScalePeer"+f]=this["cScalePeer"+f]||rt(this["cScale"+f],10);for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||M(this.mainBkg,{h:30,s:-30,l:-(-10+f*4)}),this["surfacePeer"+f]=this["surfacePeer"+f]||M(this.mainBkg,{h:30,s:-30,l:-(-7+f*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.scaleLabelColor;for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["pie"+f]=this["cScale"+f];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||M(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||M(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||M(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||M(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||M(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||M(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ji(this.quadrant1Fill)?rt(this.quadrant1Fill):at(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((u=this.xyChart)==null?void 0:u.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?at(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=rt(this.secondaryColor,20),this.git1=rt(this.pie2||this.secondaryColor,20),this.git2=rt(this.pie3||this.tertiaryColor,20),this.git3=rt(this.pie4||M(this.primaryColor,{h:-30}),20),this.git4=rt(this.pie5||M(this.primaryColor,{h:-60}),20),this.git5=rt(this.pie6||M(this.primaryColor,{h:-90}),10),this.git6=rt(this.pie7||M(this.primaryColor,{h:60}),10),this.git7=rt(this.pie8||M(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||G(this.git0),this.gitInv1=this.gitInv1||G(this.git1),this.gitInv2=this.gitInv2||G(this.git2),this.gitInv3=this.gitInv3||G(this.git3),this.gitInv4=this.gitInv4||G(this.git4),this.gitInv5=this.gitInv5||G(this.git5),this.gitInv6=this.gitInv6||G(this.git6),this.gitInv7=this.gitInv7||G(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||G(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||G(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||rt(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||rt(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},g(Cn,"Theme"),Cn),_1=g(t=>{const e=new k1;return e.calculate(t),e},"getThemeVariables"),kn,v1=(kn=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=M(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=M(this.primaryColor,{h:-160}),this.primaryBorderColor=ae(this.primaryColor,this.darkMode),this.secondaryBorderColor=ae(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ae(this.tertiaryColor,this.darkMode),this.primaryTextColor=G(this.primaryColor),this.secondaryTextColor=G(this.secondaryColor),this.tertiaryTextColor=G(this.tertiaryColor),this.lineColor=G(this.background),this.textColor=G(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=ki(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var e,r,n,i,a,s,o,l,c,h,u;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||M(this.primaryColor,{h:30}),this.cScale4=this.cScale4||M(this.primaryColor,{h:60}),this.cScale5=this.cScale5||M(this.primaryColor,{h:90}),this.cScale6=this.cScale6||M(this.primaryColor,{h:120}),this.cScale7=this.cScale7||M(this.primaryColor,{h:150}),this.cScale8=this.cScale8||M(this.primaryColor,{h:210}),this.cScale9=this.cScale9||M(this.primaryColor,{h:270}),this.cScale10=this.cScale10||M(this.primaryColor,{h:300}),this.cScale11=this.cScale11||M(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||at(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||at(this.tertiaryColor,40);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScale"+f]=at(this["cScale"+f],10),this["cScalePeer"+f]=this["cScalePeer"+f]||at(this["cScale"+f],25);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||M(this["cScale"+f],{h:180});for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||M(this.mainBkg,{h:30,l:-(5+f*5)}),this["surfacePeer"+f]=this["surfacePeer"+f]||M(this.mainBkg,{h:30,l:-(7+f*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||G(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||G(this.labelTextColor);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=rt(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=M(this.primaryColor,{h:64}),this.fillType3=M(this.secondaryColor,{h:64}),this.fillType4=M(this.primaryColor,{h:-64}),this.fillType5=M(this.secondaryColor,{h:-64}),this.fillType6=M(this.primaryColor,{h:128}),this.fillType7=M(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||M(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||M(this.primaryColor,{l:-10}),this.pie5=this.pie5||M(this.secondaryColor,{l:-30}),this.pie6=this.pie6||M(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||M(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||M(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||M(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||M(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||M(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||M(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||M(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||M(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||M(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||M(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||M(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||M(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ji(this.quadrant1Fill)?rt(this.quadrant1Fill):at(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((u=this.xyChart)==null?void 0:u.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||M(this.primaryColor,{h:-30}),this.git4=this.git4||M(this.primaryColor,{h:-60}),this.git5=this.git5||M(this.primaryColor,{h:-90}),this.git6=this.git6||M(this.primaryColor,{h:60}),this.git7=this.git7||M(this.primaryColor,{h:120}),this.darkMode?(this.git0=rt(this.git0,25),this.git1=rt(this.git1,25),this.git2=rt(this.git2,25),this.git3=rt(this.git3,25),this.git4=rt(this.git4,25),this.git5=rt(this.git5,25),this.git6=rt(this.git6,25),this.git7=rt(this.git7,25)):(this.git0=at(this.git0,25),this.git1=at(this.git1,25),this.git2=at(this.git2,25),this.git3=at(this.git3,25),this.git4=at(this.git4,25),this.git5=at(this.git5,25),this.git6=at(this.git6,25),this.git7=at(this.git7,25)),this.gitInv0=this.gitInv0||at(G(this.git0),25),this.gitInv1=this.gitInv1||G(this.git1),this.gitInv2=this.gitInv2||G(this.git2),this.gitInv3=this.gitInv3||G(this.git3),this.gitInv4=this.gitInv4||G(this.git4),this.gitInv5=this.gitInv5||G(this.git5),this.gitInv6=this.gitInv6||G(this.git6),this.gitInv7=this.gitInv7||G(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||G(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||G(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||xs,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||bs}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},g(kn,"Theme"),kn),S1=g(t=>{const e=new v1;return e.calculate(t),e},"getThemeVariables"),_n,T1=(_n=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=rt("#cde498",10),this.primaryBorderColor=ae(this.primaryColor,this.darkMode),this.secondaryBorderColor=ae(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ae(this.tertiaryColor,this.darkMode),this.primaryTextColor=G(this.primaryColor),this.secondaryTextColor=G(this.secondaryColor),this.tertiaryTextColor=G(this.primaryColor),this.lineColor=G(this.background),this.textColor=G(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,r,n,i,a,s,o,l,c,h,u;this.actorBorder=at(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||M(this.primaryColor,{h:30}),this.cScale4=this.cScale4||M(this.primaryColor,{h:60}),this.cScale5=this.cScale5||M(this.primaryColor,{h:90}),this.cScale6=this.cScale6||M(this.primaryColor,{h:120}),this.cScale7=this.cScale7||M(this.primaryColor,{h:150}),this.cScale8=this.cScale8||M(this.primaryColor,{h:210}),this.cScale9=this.cScale9||M(this.primaryColor,{h:270}),this.cScale10=this.cScale10||M(this.primaryColor,{h:300}),this.cScale11=this.cScale11||M(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||at(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||at(this.tertiaryColor,40);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScale"+f]=at(this["cScale"+f],10),this["cScalePeer"+f]=this["cScalePeer"+f]||at(this["cScale"+f],25);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||M(this["cScale"+f],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.scaleLabelColor;for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||M(this.mainBkg,{h:30,s:-30,l:-(5+f*5)}),this["surfacePeer"+f]=this["surfacePeer"+f]||M(this.mainBkg,{h:30,s:-30,l:-(8+f*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=M(this.primaryColor,{h:64}),this.fillType3=M(this.secondaryColor,{h:64}),this.fillType4=M(this.primaryColor,{h:-64}),this.fillType5=M(this.secondaryColor,{h:-64}),this.fillType6=M(this.primaryColor,{h:128}),this.fillType7=M(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||M(this.primaryColor,{l:-30}),this.pie5=this.pie5||M(this.secondaryColor,{l:-30}),this.pie6=this.pie6||M(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||M(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||M(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||M(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||M(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||M(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||M(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||M(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||M(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||M(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||M(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||M(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||M(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ji(this.quadrant1Fill)?rt(this.quadrant1Fill):at(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((u=this.xyChart)==null?void 0:u.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||M(this.primaryColor,{h:-30}),this.git4=this.git4||M(this.primaryColor,{h:-60}),this.git5=this.git5||M(this.primaryColor,{h:-90}),this.git6=this.git6||M(this.primaryColor,{h:60}),this.git7=this.git7||M(this.primaryColor,{h:120}),this.darkMode?(this.git0=rt(this.git0,25),this.git1=rt(this.git1,25),this.git2=rt(this.git2,25),this.git3=rt(this.git3,25),this.git4=rt(this.git4,25),this.git5=rt(this.git5,25),this.git6=rt(this.git6,25),this.git7=rt(this.git7,25)):(this.git0=at(this.git0,25),this.git1=at(this.git1,25),this.git2=at(this.git2,25),this.git3=at(this.git3,25),this.git4=at(this.git4,25),this.git5=at(this.git5,25),this.git6=at(this.git6,25),this.git7=at(this.git7,25)),this.gitInv0=this.gitInv0||G(this.git0),this.gitInv1=this.gitInv1||G(this.git1),this.gitInv2=this.gitInv2||G(this.git2),this.gitInv3=this.gitInv3||G(this.git3),this.gitInv4=this.gitInv4||G(this.git4),this.gitInv5=this.gitInv5||G(this.git5),this.gitInv6=this.gitInv6||G(this.git6),this.gitInv7=this.gitInv7||G(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||G(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||G(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||xs,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||bs}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},g(_n,"Theme"),_n),E1=g(t=>{const e=new T1;return e.calculate(t),e},"getThemeVariables"),vn,A1=(vn=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=rt(this.contrast,55),this.background="#ffffff",this.tertiaryColor=M(this.primaryColor,{h:-160}),this.primaryBorderColor=ae(this.primaryColor,this.darkMode),this.secondaryBorderColor=ae(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ae(this.tertiaryColor,this.darkMode),this.primaryTextColor=G(this.primaryColor),this.secondaryTextColor=G(this.secondaryColor),this.tertiaryTextColor=G(this.tertiaryColor),this.lineColor=G(this.background),this.textColor=G(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,r,n,i,a,s,o,l,c,h,u;this.secondBkg=rt(this.contrast,55),this.border2=this.contrast,this.actorBorder=rt(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||G(this["cScale"+f]);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this.darkMode?this["cScalePeer"+f]=this["cScalePeer"+f]||rt(this["cScale"+f],10):this["cScalePeer"+f]=this["cScalePeer"+f]||at(this["cScale"+f],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.scaleLabelColor;for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||M(this.mainBkg,{l:-(5+f*5)}),this["surfacePeer"+f]=this["surfacePeer"+f]||M(this.mainBkg,{l:-(8+f*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=rt(this.contrast,30),this.sectionBkgColor2=rt(this.contrast,30),this.taskBorderColor=at(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=rt(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=at(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=M(this.primaryColor,{h:64}),this.fillType3=M(this.secondaryColor,{h:64}),this.fillType4=M(this.primaryColor,{h:-64}),this.fillType5=M(this.secondaryColor,{h:-64}),this.fillType6=M(this.primaryColor,{h:128}),this.fillType7=M(this.secondaryColor,{h:128});for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["pie"+f]=this["cScale"+f];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||M(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||M(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||M(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||M(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||M(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||M(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ji(this.quadrant1Fill)?rt(this.quadrant1Fill):at(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((u=this.xyChart)==null?void 0:u.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=at(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||M(this.primaryColor,{h:-30}),this.git4=this.pie5||M(this.primaryColor,{h:-60}),this.git5=this.pie6||M(this.primaryColor,{h:-90}),this.git6=this.pie7||M(this.primaryColor,{h:60}),this.git7=this.pie8||M(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||G(this.git0),this.gitInv1=this.gitInv1||G(this.git1),this.gitInv2=this.gitInv2||G(this.git2),this.gitInv3=this.gitInv3||G(this.git3),this.gitInv4=this.gitInv4||G(this.git4),this.gitInv5=this.gitInv5||G(this.git5),this.gitInv6=this.gitInv6||G(this.git6),this.gitInv7=this.gitInv7||G(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||xs,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||bs}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},g(vn,"Theme"),vn),L1=g(t=>{const e=new A1;return e.calculate(t),e},"getThemeVariables"),ur={base:{getThemeVariables:C1},dark:{getThemeVariables:_1},default:{getThemeVariables:S1},forest:{getThemeVariables:E1},neutral:{getThemeVariables:L1}},br={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},yp={...br,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:ur.default.getThemeVariables(),sequence:{...br.sequence,messageFont:g(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:g(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:g(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...br.gantt,tickInterval:void 0,useWidth:void 0},c4:{...br.c4,useWidth:void 0,personFont:g(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),external_personFont:g(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:g(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:g(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:g(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:g(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:g(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:g(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:g(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:g(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:g(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:g(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:g(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:g(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:g(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:g(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:g(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:g(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:g(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:g(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:g(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:g(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...br.pie,useWidth:984},xyChart:{...br.xyChart,useWidth:void 0},requirement:{...br.requirement,useWidth:void 0},packet:{...br.packet}},xp=g((t,e="")=>Object.keys(t).reduce((r,n)=>Array.isArray(t[n])?r:typeof t[n]=="object"&&t[n]!==null?[...r,e+n,...xp(t[n],"")]:[...r,e+n],[]),"keyify"),B1=new Set(xp(yp,"")),bp=yp,$a=g(t=>{if(z.debug("sanitizeDirective called with",t),!(typeof t!="object"||t==null)){if(Array.isArray(t)){t.forEach(e=>$a(e));return}for(const e of Object.keys(t)){if(z.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!B1.has(e)||t[e]==null){z.debug("sanitize deleting key: ",e),delete t[e];continue}if(typeof t[e]=="object"){z.debug("sanitizing object",e),$a(t[e]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const n of r)e.includes(n)&&(z.debug("sanitizing css option",e),t[e]=M1(t[e]))}if(t.themeVariables)for(const e of Object.keys(t.themeVariables)){const r=t.themeVariables[e];r!=null&&r.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[e]="")}z.debug("After sanitization",t)}},"sanitizeDirective"),M1=g(t=>{let e=0,r=0;for(const n of t){if(e<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?e++:n==="}"&&r++}return e!==r?"{ /* ERROR: Unbalanced CSS */ }":t},"sanitizeCss"),Ln=Object.freeze(bp),ge=Gt({},Ln),wp,Bn=[],vi=Gt({},Ln),ws=g((t,e)=>{let r=Gt({},t),n={};for(const i of e)_p(i),n=Gt(n,i);if(r=Gt(r,n),n.theme&&n.theme in ur){const i=Gt({},wp),a=Gt(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in ur&&(r.themeVariables=ur[r.theme].getThemeVariables(a))}return vi=r,vp(vi),vi},"updateCurrentConfig"),F1=g(t=>(ge=Gt({},Ln),ge=Gt(ge,t),t.theme&&ur[t.theme]&&(ge.themeVariables=ur[t.theme].getThemeVariables(t.themeVariables)),ws(ge,Bn),ge),"setSiteConfig"),I1=g(t=>{wp=Gt({},t)},"saveConfigFromInitialize"),$1=g(t=>(ge=Gt(ge,t),ws(ge,Bn),ge),"updateSiteConfig"),Cp=g(()=>Gt({},ge),"getSiteConfig"),kp=g(t=>(vp(t),Gt(vi,t),Ne()),"setConfig"),Ne=g(()=>Gt({},vi),"getConfig"),_p=g(t=>{t&&(["secure",...ge.secure??[]].forEach(e=>{Object.hasOwn(t,e)&&(z.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.startsWith("__")&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&_p(t[e])}))},"sanitize"),D1=g(t=>{var e;$a(t),t.fontFamily&&!((e=t.themeVariables)!=null&&e.fontFamily)&&(t.themeVariables={...t.themeVariables,fontFamily:t.fontFamily}),Bn.push(t),ws(ge,Bn)},"addDirective"),Da=g((t=ge)=>{Bn=[],ws(t,Bn)},"reset"),R1={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},Ph={},P1=g(t=>{Ph[t]||(z.warn(R1[t]),Ph[t]=!0)},"issueWarning"),vp=g(t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&P1("LAZY_LOAD_DEPRECATED")},"checkConfig"),Ui=/<br\s*\/?>/gi,O1=g(t=>t?Ep(t).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),N1=(()=>{let t=!1;return()=>{t||(Sp(),t=!0)}})();function Sp(){const t="data-temp-href-target";En.addHook("beforeSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(t,e.getAttribute("target")??"")}),En.addHook("afterSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute(t)&&(e.setAttribute("target",e.getAttribute(t)??""),e.removeAttribute(t),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}g(Sp,"setupDompurifyHooks");var Tp=g(t=>(N1(),En.sanitize(t)),"removeScript"),Oh=g((t,e)=>{var r;if(((r=e.flowchart)==null?void 0:r.htmlLabels)!==!1){const n=e.securityLevel;n==="antiscript"||n==="strict"?t=Tp(t):n!=="loose"&&(t=Ep(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=W1(t))}return t},"sanitizeMore"),Gr=g((t,e)=>t&&(e.dompurifyConfig?t=En.sanitize(Oh(t,e),e.dompurifyConfig).toString():t=En.sanitize(Oh(t,e),{FORBID_TAGS:["style"]}).toString(),t),"sanitizeText"),z1=g((t,e)=>typeof t=="string"?Gr(t,e):t.flat().map(r=>Gr(r,e)),"sanitizeTextOrArray"),q1=g(t=>Ui.test(t),"hasBreaks"),H1=g(t=>t.split(Ui),"splitBreaks"),W1=g(t=>t.replace(/#br#/g,"<br/>"),"placeholderToBreak"),Ep=g(t=>t.replace(Ui,"#br#"),"breakToPlaceholder"),j1=g(t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=e.replaceAll(/\(/g,"\\("),e=e.replaceAll(/\)/g,"\\)")),e},"getUrl"),Xt=g(t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),"evaluate"),U1=g(function(...t){const e=t.filter(r=>!isNaN(r));return Math.max(...e)},"getMax"),Y1=g(function(...t){const e=t.filter(r=>!isNaN(r));return Math.min(...e)},"getMin"),F3=g(function(t){const e=t.split(/(,)/),r=[];for(let n=0;n<e.length;n++){let i=e[n];if(i===","&&n>0&&n+1<e.length){const a=e[n-1],s=e[n+1];V1(a,s)&&(i=a+","+s,n++,r.pop())}r.push(G1(i))}return r.join("")},"parseGenericTypes"),zo=g((t,e)=>Math.max(0,t.split(e).length-1),"countOccurrence"),V1=g((t,e)=>{const r=zo(t,"~"),n=zo(e,"~");return r===1&&n===1},"shouldCombineSets"),G1=g(t=>{const e=zo(t,"~");let r=!1;if(e<=1)return t;e%2!==0&&t.startsWith("~")&&(t=t.substring(1),r=!0);const n=[...t];let i=n.indexOf("~"),a=n.lastIndexOf("~");for(;i!==-1&&a!==-1&&i!==a;)n[i]="<",n[a]=">",i=n.indexOf("~"),a=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),Nh=g(()=>window.MathMLElement!==void 0,"isMathMLSupported"),qo=/\$\$(.*)\$\$/g,Mn=g(t=>{var e;return(((e=t.match(qo))==null?void 0:e.length)??0)>0},"hasKatex"),I3=g(async(t,e)=>{t=await Gl(t,e);const r=document.createElement("div");r.innerHTML=t,r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0";const n=document.querySelector("body");n==null||n.insertAdjacentElement("beforeend",r);const i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i},"calculateMathMLDimensions"),Gl=g(async(t,e)=>{if(!Mn(t))return t;if(!(Nh()||e.legacyMathML||e.forceLegacyMathML))return t.replace(qo,"MathML is unsupported in this environment.");const{default:r}=await Et(async()=>{const{default:i}=await import("./c-katex.CvgdMzdh.js");return{default:i}},[]),n=e.forceLegacyMathML||!Nh()&&e.legacyMathML?"htmlAndMathml":"mathml";return t.split(Ui).map(i=>Mn(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(qo,(i,a)=>r.renderToString(a,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},"renderKatex"),Nn={getRows:O1,sanitizeText:Gr,sanitizeTextOrArray:z1,hasBreaks:q1,splitBreaks:H1,lineBreakRegex:Ui,removeScript:Tp,getUrl:j1,evaluate:Xt,getMax:U1,getMin:Y1},X1=g(function(t,e){for(let r of e)t.attr(r[0],r[1])},"d3Attrs"),K1=g(function(t,e,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${e}px;`)):(n.set("height",t),n.set("width",e)),n},"calculateSvgSizeAttrs"),Ap=g(function(t,e,r,n){const i=K1(e,r,n);X1(t,i)},"configureSvgSize"),Z1=g(function(t,e,r,n){const i=e.node().getBBox(),a=i.width,s=i.height;z.info(`SVG bounds: ${a}x${s}`,i);let o=0,l=0;z.info(`Graph bounds: ${o}x${l}`,t),o=a+r*2,l=s+r*2,z.info(`Calculated bounds: ${o}x${l}`),Ap(e,l,o,n);const c=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;e.attr("viewBox",c)},"setupGraphViewbox"),Ca={},Q1=g((t,e,r)=>{let n="";return t in Ca&&Ca[t]?n=Ca[t](r):z.warn(`No theme found for ${t}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${n}

  ${e}
`},"getStyles"),J1=g((t,e)=>{e!==void 0&&(Ca[t]=e)},"addStylesForDiagram"),tw=Q1,Lp={};y1(Lp,{clear:()=>ew,getAccDescription:()=>aw,getAccTitle:()=>nw,getDiagramTitle:()=>ow,setAccDescription:()=>iw,setAccTitle:()=>rw,setDiagramTitle:()=>sw});var Xl="",Kl="",Zl="",Ql=g(t=>Gr(t,Ne()),"sanitizeText"),ew=g(()=>{Xl="",Zl="",Kl=""},"clear"),rw=g(t=>{Xl=Ql(t).replace(/^\s+/g,"")},"setAccTitle"),nw=g(()=>Xl,"getAccTitle"),iw=g(t=>{Zl=Ql(t).replace(/\n\s+/g,`
`)},"setAccDescription"),aw=g(()=>Zl,"getAccDescription"),sw=g(t=>{Kl=Ql(t)},"setDiagramTitle"),ow=g(()=>Kl,"getDiagramTitle"),zh=z,lw=Yl,_t=Ne,$3=kp,D3=Ln,Bp=g(t=>Gr(t,_t()),"sanitizeText"),cw=Z1,hw=g(()=>Lp,"getCommonDb"),Ra={},Pa=g((t,e,r)=>{var n;Ra[t]&&zh.warn(`Diagram with id ${t} already registered. Overwriting.`),Ra[t]=e,r&&mp(t,r),J1(t,e.styles),(n=e.injectUtils)==null||n.call(e,zh,lw,_t,Bp,cw,hw(),()=>{})},"registerDiagram"),Ho=g(t=>{if(t in Ra)return Ra[t];throw new uw(t)},"getDiagram"),Sn,uw=(Sn=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},g(Sn,"DiagramNotFoundError"),Sn);function Jl(t){return typeof t>"u"||t===null}g(Jl,"isNothing");function Mp(t){return typeof t=="object"&&t!==null}g(Mp,"isObject");function Fp(t){return Array.isArray(t)?t:Jl(t)?[]:[t]}g(Fp,"toArray");function Ip(t,e){var r,n,i,a;if(e)for(a=Object.keys(e),r=0,n=a.length;r<n;r+=1)i=a[r],t[i]=e[i];return t}g(Ip,"extend");function $p(t,e){var r="",n;for(n=0;n<e;n+=1)r+=t;return r}g($p,"repeat");function Dp(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}g(Dp,"isNegativeZero");var fw=Jl,pw=Mp,dw=Fp,gw=$p,mw=Dp,yw=Ip,zt={isNothing:fw,isObject:pw,toArray:dw,repeat:gw,isNegativeZero:mw,extend:yw};function tc(t,e){var r="",n=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(r+='in "'+t.mark.name+'" '),r+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(r+=`

`+t.mark.snippet),n+" "+r):n}g(tc,"formatError");function Fn(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=tc(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}g(Fn,"YAMLException$1");Fn.prototype=Object.create(Error.prototype);Fn.prototype.constructor=Fn;Fn.prototype.toString=g(function(e){return this.name+": "+tc(this,e)},"toString");var me=Fn;function ka(t,e,r,n,i){var a="",s="",o=Math.floor(i/2)-1;return n-e>o&&(a=" ... ",e=n-o+a.length),r-n>o&&(s=" ...",r=n+o-s.length),{str:a+t.slice(e,r).replace(/\t/g,"→")+s,pos:n-e+a.length}}g(ka,"getLine");function _a(t,e){return zt.repeat(" ",e-t.length)+t}g(_a,"padStart");function Rp(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],a,s=-1;a=r.exec(t.buffer);)i.push(a.index),n.push(a.index+a[0].length),t.position<=a.index&&s<0&&(s=n.length-2);s<0&&(s=n.length-1);var o="",l,c,h=Math.min(t.line+e.linesAfter,i.length).toString().length,u=e.maxLength-(e.indent+h+3);for(l=1;l<=e.linesBefore&&!(s-l<0);l++)c=ka(t.buffer,n[s-l],i[s-l],t.position-(n[s]-n[s-l]),u),o=zt.repeat(" ",e.indent)+_a((t.line-l+1).toString(),h)+" | "+c.str+`
`+o;for(c=ka(t.buffer,n[s],i[s],t.position,u),o+=zt.repeat(" ",e.indent)+_a((t.line+1).toString(),h)+" | "+c.str+`
`,o+=zt.repeat("-",e.indent+h+3+c.pos)+`^
`,l=1;l<=e.linesAfter&&!(s+l>=i.length);l++)c=ka(t.buffer,n[s+l],i[s+l],t.position-(n[s]-n[s+l]),u),o+=zt.repeat(" ",e.indent)+_a((t.line+l+1).toString(),h)+" | "+c.str+`
`;return o.replace(/\n$/,"")}g(Rp,"makeSnippet");var xw=Rp,bw=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],ww=["scalar","sequence","mapping"];function Pp(t){var e={};return t!==null&&Object.keys(t).forEach(function(r){t[r].forEach(function(n){e[String(n)]=r})}),e}g(Pp,"compileStyleAliases");function Op(t,e){if(e=e||{},Object.keys(e).forEach(function(r){if(bw.indexOf(r)===-1)throw new me('Unknown option "'+r+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(r){return r},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=Pp(e.styleAliases||null),ww.indexOf(this.kind)===-1)throw new me('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}g(Op,"Type$1");var Jt=Op;function Wo(t,e){var r=[];return t[e].forEach(function(n){var i=r.length;r.forEach(function(a,s){a.tag===n.tag&&a.kind===n.kind&&a.multi===n.multi&&(i=s)}),r[i]=n}),r}g(Wo,"compileList");function Np(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,r;function n(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(g(n,"collectType"),e=0,r=arguments.length;e<r;e+=1)arguments[e].forEach(n);return t}g(Np,"compileMap");function Oa(t){return this.extend(t)}g(Oa,"Schema$1");Oa.prototype.extend=g(function(e){var r=[],n=[];if(e instanceof Jt)n.push(e);else if(Array.isArray(e))n=n.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(r=r.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit));else throw new me("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(a){if(!(a instanceof Jt))throw new me("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new me("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new me("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(a){if(!(a instanceof Jt))throw new me("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Oa.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Wo(i,"implicit"),i.compiledExplicit=Wo(i,"explicit"),i.compiledTypeMap=Np(i.compiledImplicit,i.compiledExplicit),i},"extend");var Cw=Oa,kw=new Jt("tag:yaml.org,2002:str",{kind:"scalar",construct:g(function(t){return t!==null?t:""},"construct")}),_w=new Jt("tag:yaml.org,2002:seq",{kind:"sequence",construct:g(function(t){return t!==null?t:[]},"construct")}),vw=new Jt("tag:yaml.org,2002:map",{kind:"mapping",construct:g(function(t){return t!==null?t:{}},"construct")}),Sw=new Cw({explicit:[kw,_w,vw]});function zp(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}g(zp,"resolveYamlNull");function qp(){return null}g(qp,"constructYamlNull");function Hp(t){return t===null}g(Hp,"isNull");var Tw=new Jt("tag:yaml.org,2002:null",{kind:"scalar",resolve:zp,construct:qp,predicate:Hp,represent:{canonical:g(function(){return"~"},"canonical"),lowercase:g(function(){return"null"},"lowercase"),uppercase:g(function(){return"NULL"},"uppercase"),camelcase:g(function(){return"Null"},"camelcase"),empty:g(function(){return""},"empty")},defaultStyle:"lowercase"});function Wp(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}g(Wp,"resolveYamlBoolean");function jp(t){return t==="true"||t==="True"||t==="TRUE"}g(jp,"constructYamlBoolean");function Up(t){return Object.prototype.toString.call(t)==="[object Boolean]"}g(Up,"isBoolean");var Ew=new Jt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Wp,construct:jp,predicate:Up,represent:{lowercase:g(function(t){return t?"true":"false"},"lowercase"),uppercase:g(function(t){return t?"TRUE":"FALSE"},"uppercase"),camelcase:g(function(t){return t?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function Yp(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}g(Yp,"isHexCode");function Vp(t){return 48<=t&&t<=55}g(Vp,"isOctCode");function Gp(t){return 48<=t&&t<=57}g(Gp,"isDecCode");function Xp(t){if(t===null)return!1;var e=t.length,r=0,n=!1,i;if(!e)return!1;if(i=t[r],(i==="-"||i==="+")&&(i=t[++r]),i==="0"){if(r+1===e)return!0;if(i=t[++r],i==="b"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!Yp(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!Vp(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<e;r++)if(i=t[r],i!=="_"){if(!Gp(t.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}g(Xp,"resolveYamlInteger");function Kp(t){var e=t,r=1,n;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),n=e[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),e=e.slice(1),n=e[0]),e==="0")return 0;if(n==="0"){if(e[1]==="b")return r*parseInt(e.slice(2),2);if(e[1]==="x")return r*parseInt(e.slice(2),16);if(e[1]==="o")return r*parseInt(e.slice(2),8)}return r*parseInt(e,10)}g(Kp,"constructYamlInteger");function Zp(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!zt.isNegativeZero(t)}g(Zp,"isInteger");var Aw=new Jt("tag:yaml.org,2002:int",{kind:"scalar",resolve:Xp,construct:Kp,predicate:Zp,represent:{binary:g(function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},"binary"),octal:g(function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},"octal"),decimal:g(function(t){return t.toString(10)},"decimal"),hexadecimal:g(function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Lw=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Qp(t){return!(t===null||!Lw.test(t)||t[t.length-1]==="_")}g(Qp,"resolveYamlFloat");function Jp(t){var e,r;return e=t.replace(/_/g,"").toLowerCase(),r=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:r*parseFloat(e,10)}g(Jp,"constructYamlFloat");var Bw=/^[-+]?[0-9]+e/;function td(t,e){var r;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(zt.isNegativeZero(t))return"-0.0";return r=t.toString(10),Bw.test(r)?r.replace("e",".e"):r}g(td,"representYamlFloat");function ed(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||zt.isNegativeZero(t))}g(ed,"isFloat");var Mw=new Jt("tag:yaml.org,2002:float",{kind:"scalar",resolve:Qp,construct:Jp,predicate:ed,represent:td,defaultStyle:"lowercase"}),rd=Sw.extend({implicit:[Tw,Ew,Aw,Mw]}),Fw=rd,nd=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),id=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function ad(t){return t===null?!1:nd.exec(t)!==null||id.exec(t)!==null}g(ad,"resolveYamlTimestamp");function sd(t){var e,r,n,i,a,s,o,l=0,c=null,h,u,f;if(e=nd.exec(t),e===null&&(e=id.exec(t)),e===null)throw new Error("Date resolve error");if(r=+e[1],n=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(r,n,i));if(a=+e[4],s=+e[5],o=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(h=+e[10],u=+(e[11]||0),c=(h*60+u)*6e4,e[9]==="-"&&(c=-c)),f=new Date(Date.UTC(r,n,i,a,s,o,l)),c&&f.setTime(f.getTime()-c),f}g(sd,"constructYamlTimestamp");function od(t){return t.toISOString()}g(od,"representYamlTimestamp");var Iw=new Jt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:ad,construct:sd,instanceOf:Date,represent:od});function ld(t){return t==="<<"||t===null}g(ld,"resolveYamlMerge");var $w=new Jt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:ld}),ec=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function cd(t){if(t===null)return!1;var e,r,n=0,i=t.length,a=ec;for(r=0;r<i;r++)if(e=a.indexOf(t.charAt(r)),!(e>64)){if(e<0)return!1;n+=6}return n%8===0}g(cd,"resolveYamlBinary");function hd(t){var e,r,n=t.replace(/[\r\n=]/g,""),i=n.length,a=ec,s=0,o=[];for(e=0;e<i;e++)e%4===0&&e&&(o.push(s>>16&255),o.push(s>>8&255),o.push(s&255)),s=s<<6|a.indexOf(n.charAt(e));return r=i%4*6,r===0?(o.push(s>>16&255),o.push(s>>8&255),o.push(s&255)):r===18?(o.push(s>>10&255),o.push(s>>2&255)):r===12&&o.push(s>>4&255),new Uint8Array(o)}g(hd,"constructYamlBinary");function ud(t){var e="",r=0,n,i,a=t.length,s=ec;for(n=0;n<a;n++)n%3===0&&n&&(e+=s[r>>18&63],e+=s[r>>12&63],e+=s[r>>6&63],e+=s[r&63]),r=(r<<8)+t[n];return i=a%3,i===0?(e+=s[r>>18&63],e+=s[r>>12&63],e+=s[r>>6&63],e+=s[r&63]):i===2?(e+=s[r>>10&63],e+=s[r>>4&63],e+=s[r<<2&63],e+=s[64]):i===1&&(e+=s[r>>2&63],e+=s[r<<4&63],e+=s[64],e+=s[64]),e}g(ud,"representYamlBinary");function fd(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}g(fd,"isBinary");var Dw=new Jt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:cd,construct:hd,predicate:fd,represent:ud}),Rw=Object.prototype.hasOwnProperty,Pw=Object.prototype.toString;function pd(t){if(t===null)return!0;var e=[],r,n,i,a,s,o=t;for(r=0,n=o.length;r<n;r+=1){if(i=o[r],s=!1,Pw.call(i)!=="[object Object]")return!1;for(a in i)if(Rw.call(i,a))if(!s)s=!0;else return!1;if(!s)return!1;if(e.indexOf(a)===-1)e.push(a);else return!1}return!0}g(pd,"resolveYamlOmap");function dd(t){return t!==null?t:[]}g(dd,"constructYamlOmap");var Ow=new Jt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:pd,construct:dd}),Nw=Object.prototype.toString;function gd(t){if(t===null)return!0;var e,r,n,i,a,s=t;for(a=new Array(s.length),e=0,r=s.length;e<r;e+=1){if(n=s[e],Nw.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;a[e]=[i[0],n[i[0]]]}return!0}g(gd,"resolveYamlPairs");function md(t){if(t===null)return[];var e,r,n,i,a,s=t;for(a=new Array(s.length),e=0,r=s.length;e<r;e+=1)n=s[e],i=Object.keys(n),a[e]=[i[0],n[i[0]]];return a}g(md,"constructYamlPairs");var zw=new Jt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:gd,construct:md}),qw=Object.prototype.hasOwnProperty;function yd(t){if(t===null)return!0;var e,r=t;for(e in r)if(qw.call(r,e)&&r[e]!==null)return!1;return!0}g(yd,"resolveYamlSet");function xd(t){return t!==null?t:{}}g(xd,"constructYamlSet");var Hw=new Jt("tag:yaml.org,2002:set",{kind:"mapping",resolve:yd,construct:xd}),bd=Fw.extend({implicit:[Iw,$w],explicit:[Dw,Ow,zw,Hw]}),Tr=Object.prototype.hasOwnProperty,Na=1,wd=2,Cd=3,za=4,no=1,Ww=2,qh=3,jw=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Uw=/[\x85\u2028\u2029]/,Yw=/[,\[\]\{\}]/,kd=/^(?:!|!!|![a-z\-]+!)$/i,_d=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function jo(t){return Object.prototype.toString.call(t)}g(jo,"_class");function Pe(t){return t===10||t===13}g(Pe,"is_EOL");function vr(t){return t===9||t===32}g(vr,"is_WHITE_SPACE");function se(t){return t===9||t===32||t===10||t===13}g(se,"is_WS_OR_EOL");function Hr(t){return t===44||t===91||t===93||t===123||t===125}g(Hr,"is_FLOW_INDICATOR");function vd(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}g(vd,"fromHexCode");function Sd(t){return t===120?2:t===117?4:t===85?8:0}g(Sd,"escapedHexLen");function Td(t){return 48<=t&&t<=57?t-48:-1}g(Td,"fromDecimalCode");function Uo(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?" ":t===76?"\u2028":t===80?"\u2029":""}g(Uo,"simpleEscapeSequence");function Ed(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}g(Ed,"charFromCodepoint");var Ad=new Array(256),Ld=new Array(256);for(Dr=0;Dr<256;Dr++)Ad[Dr]=Uo(Dr)?1:0,Ld[Dr]=Uo(Dr);var Dr;function Bd(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||bd,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}g(Bd,"State$1");function rc(t,e){var r={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return r.snippet=xw(r),new me(e,r)}g(rc,"generateError");function tt(t,e){throw rc(t,e)}g(tt,"throwError");function Bi(t,e){t.onWarning&&t.onWarning.call(null,rc(t,e))}g(Bi,"throwWarning");var Hh={YAML:g(function(e,r,n){var i,a,s;e.version!==null&&tt(e,"duplication of %YAML directive"),n.length!==1&&tt(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&tt(e,"ill-formed argument of the YAML directive"),a=parseInt(i[1],10),s=parseInt(i[2],10),a!==1&&tt(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=s<2,s!==1&&s!==2&&Bi(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:g(function(e,r,n){var i,a;n.length!==2&&tt(e,"TAG directive accepts exactly two arguments"),i=n[0],a=n[1],kd.test(i)||tt(e,"ill-formed tag handle (first argument) of the TAG directive"),Tr.call(e.tagMap,i)&&tt(e,'there is a previously declared suffix for "'+i+'" tag handle'),_d.test(a)||tt(e,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{tt(e,"tag prefix is malformed: "+a)}e.tagMap[i]=a},"handleTagDirective")};function fr(t,e,r,n){var i,a,s,o;if(e<r){if(o=t.input.slice(e,r),n)for(i=0,a=o.length;i<a;i+=1)s=o.charCodeAt(i),s===9||32<=s&&s<=1114111||tt(t,"expected valid JSON character");else jw.test(o)&&tt(t,"the stream contains non-printable characters");t.result+=o}}g(fr,"captureSegment");function Yo(t,e,r,n){var i,a,s,o;for(zt.isObject(r)||tt(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,o=i.length;s<o;s+=1)a=i[s],Tr.call(e,a)||(e[a]=r[a],n[a]=!0)}g(Yo,"mergeMappings");function Wr(t,e,r,n,i,a,s,o,l){var c,h;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,h=i.length;c<h;c+=1)Array.isArray(i[c])&&tt(t,"nested arrays are not supported inside keys"),typeof i=="object"&&jo(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&jo(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(c=0,h=a.length;c<h;c+=1)Yo(t,e,a[c],r);else Yo(t,e,a,r);else!t.json&&!Tr.call(r,i)&&Tr.call(e,i)&&(t.line=s||t.line,t.lineStart=o||t.lineStart,t.position=l||t.position,tt(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):e[i]=a,delete r[i];return e}g(Wr,"storeMappingPair");function Cs(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):tt(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}g(Cs,"readLineBreak");function Dt(t,e,r){for(var n=0,i=t.input.charCodeAt(t.position);i!==0;){for(;vr(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(Pe(i))for(Cs(t),i=t.input.charCodeAt(t.position),n++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return r!==-1&&n!==0&&t.lineIndent<r&&Bi(t,"deficient indentation"),n}g(Dt,"skipSeparationSpace");function Yi(t){var e=t.position,r;return r=t.input.charCodeAt(e),!!((r===45||r===46)&&r===t.input.charCodeAt(e+1)&&r===t.input.charCodeAt(e+2)&&(e+=3,r=t.input.charCodeAt(e),r===0||se(r)))}g(Yi,"testDocumentSeparator");function ks(t,e){e===1?t.result+=" ":e>1&&(t.result+=zt.repeat(`
`,e-1))}g(ks,"writeFoldedLines");function Md(t,e,r){var n,i,a,s,o,l,c,h,u=t.kind,f=t.result,p;if(p=t.input.charCodeAt(t.position),se(p)||Hr(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=t.input.charCodeAt(t.position+1),se(i)||r&&Hr(i)))return!1;for(t.kind="scalar",t.result="",a=s=t.position,o=!1;p!==0;){if(p===58){if(i=t.input.charCodeAt(t.position+1),se(i)||r&&Hr(i))break}else if(p===35){if(n=t.input.charCodeAt(t.position-1),se(n))break}else{if(t.position===t.lineStart&&Yi(t)||r&&Hr(p))break;if(Pe(p))if(l=t.line,c=t.lineStart,h=t.lineIndent,Dt(t,!1,-1),t.lineIndent>=e){o=!0,p=t.input.charCodeAt(t.position);continue}else{t.position=s,t.line=l,t.lineStart=c,t.lineIndent=h;break}}o&&(fr(t,a,s,!1),ks(t,t.line-l),a=s=t.position,o=!1),vr(p)||(s=t.position+1),p=t.input.charCodeAt(++t.position)}return fr(t,a,s,!1),t.result?!0:(t.kind=u,t.result=f,!1)}g(Md,"readPlainScalar");function Fd(t,e){var r,n,i;if(r=t.input.charCodeAt(t.position),r!==39)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(r=t.input.charCodeAt(t.position))!==0;)if(r===39)if(fr(t,n,t.position,!0),r=t.input.charCodeAt(++t.position),r===39)n=t.position,t.position++,i=t.position;else return!0;else Pe(r)?(fr(t,n,i,!0),ks(t,Dt(t,!1,e)),n=i=t.position):t.position===t.lineStart&&Yi(t)?tt(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);tt(t,"unexpected end of the stream within a single quoted scalar")}g(Fd,"readSingleQuotedScalar");function Id(t,e){var r,n,i,a,s,o;if(o=t.input.charCodeAt(t.position),o!==34)return!1;for(t.kind="scalar",t.result="",t.position++,r=n=t.position;(o=t.input.charCodeAt(t.position))!==0;){if(o===34)return fr(t,r,t.position,!0),t.position++,!0;if(o===92){if(fr(t,r,t.position,!0),o=t.input.charCodeAt(++t.position),Pe(o))Dt(t,!1,e);else if(o<256&&Ad[o])t.result+=Ld[o],t.position++;else if((s=Sd(o))>0){for(i=s,a=0;i>0;i--)o=t.input.charCodeAt(++t.position),(s=vd(o))>=0?a=(a<<4)+s:tt(t,"expected hexadecimal character");t.result+=Ed(a),t.position++}else tt(t,"unknown escape sequence");r=n=t.position}else Pe(o)?(fr(t,r,n,!0),ks(t,Dt(t,!1,e)),r=n=t.position):t.position===t.lineStart&&Yi(t)?tt(t,"unexpected end of the document within a double quoted scalar"):(t.position++,n=t.position)}tt(t,"unexpected end of the stream within a double quoted scalar")}g(Id,"readDoubleQuotedScalar");function $d(t,e){var r=!0,n,i,a,s=t.tag,o,l=t.anchor,c,h,u,f,p,d=Object.create(null),m,x,y,b;if(b=t.input.charCodeAt(t.position),b===91)h=93,p=!1,o=[];else if(b===123)h=125,p=!0,o={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),b=t.input.charCodeAt(++t.position);b!==0;){if(Dt(t,!0,e),b=t.input.charCodeAt(t.position),b===h)return t.position++,t.tag=s,t.anchor=l,t.kind=p?"mapping":"sequence",t.result=o,!0;r?b===44&&tt(t,"expected the node content, but found ','"):tt(t,"missed comma between flow collection entries"),x=m=y=null,u=f=!1,b===63&&(c=t.input.charCodeAt(t.position+1),se(c)&&(u=f=!0,t.position++,Dt(t,!0,e))),n=t.line,i=t.lineStart,a=t.position,Xr(t,e,Na,!1,!0),x=t.tag,m=t.result,Dt(t,!0,e),b=t.input.charCodeAt(t.position),(f||t.line===n)&&b===58&&(u=!0,b=t.input.charCodeAt(++t.position),Dt(t,!0,e),Xr(t,e,Na,!1,!0),y=t.result),p?Wr(t,o,d,x,m,y,n,i,a):u?o.push(Wr(t,null,d,x,m,y,n,i,a)):o.push(m),Dt(t,!0,e),b=t.input.charCodeAt(t.position),b===44?(r=!0,b=t.input.charCodeAt(++t.position)):r=!1}tt(t,"unexpected end of the stream within a flow collection")}g($d,"readFlowCollection");function Dd(t,e){var r,n,i=no,a=!1,s=!1,o=e,l=0,c=!1,h,u;if(u=t.input.charCodeAt(t.position),u===124)n=!1;else if(u===62)n=!0;else return!1;for(t.kind="scalar",t.result="";u!==0;)if(u=t.input.charCodeAt(++t.position),u===43||u===45)no===i?i=u===43?qh:Ww:tt(t,"repeat of a chomping mode identifier");else if((h=Td(u))>=0)h===0?tt(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?tt(t,"repeat of an indentation width identifier"):(o=e+h-1,s=!0);else break;if(vr(u)){do u=t.input.charCodeAt(++t.position);while(vr(u));if(u===35)do u=t.input.charCodeAt(++t.position);while(!Pe(u)&&u!==0)}for(;u!==0;){for(Cs(t),t.lineIndent=0,u=t.input.charCodeAt(t.position);(!s||t.lineIndent<o)&&u===32;)t.lineIndent++,u=t.input.charCodeAt(++t.position);if(!s&&t.lineIndent>o&&(o=t.lineIndent),Pe(u)){l++;continue}if(t.lineIndent<o){i===qh?t.result+=zt.repeat(`
`,a?1+l:l):i===no&&a&&(t.result+=`
`);break}for(n?vr(u)?(c=!0,t.result+=zt.repeat(`
`,a?1+l:l)):c?(c=!1,t.result+=zt.repeat(`
`,l+1)):l===0?a&&(t.result+=" "):t.result+=zt.repeat(`
`,l):t.result+=zt.repeat(`
`,a?1+l:l),a=!0,s=!0,l=0,r=t.position;!Pe(u)&&u!==0;)u=t.input.charCodeAt(++t.position);fr(t,r,t.position,!1)}return!0}g(Dd,"readBlockScalar");function Vo(t,e){var r,n=t.tag,i=t.anchor,a=[],s,o=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,tt(t,"tab characters must not be used in indentation")),!(l!==45||(s=t.input.charCodeAt(t.position+1),!se(s))));){if(o=!0,t.position++,Dt(t,!0,-1)&&t.lineIndent<=e){a.push(null),l=t.input.charCodeAt(t.position);continue}if(r=t.line,Xr(t,e,Cd,!1,!0),a.push(t.result),Dt(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===r||t.lineIndent>e)&&l!==0)tt(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return o?(t.tag=n,t.anchor=i,t.kind="sequence",t.result=a,!0):!1}g(Vo,"readBlockSequence");function Rd(t,e,r){var n,i,a,s,o,l,c=t.tag,h=t.anchor,u={},f=Object.create(null),p=null,d=null,m=null,x=!1,y=!1,b;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=u),b=t.input.charCodeAt(t.position);b!==0;){if(!x&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,tt(t,"tab characters must not be used in indentation")),n=t.input.charCodeAt(t.position+1),a=t.line,(b===63||b===58)&&se(n))b===63?(x&&(Wr(t,u,f,p,d,null,s,o,l),p=d=m=null),y=!0,x=!0,i=!0):x?(x=!1,i=!0):tt(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,b=n;else{if(s=t.line,o=t.lineStart,l=t.position,!Xr(t,r,wd,!1,!0))break;if(t.line===a){for(b=t.input.charCodeAt(t.position);vr(b);)b=t.input.charCodeAt(++t.position);if(b===58)b=t.input.charCodeAt(++t.position),se(b)||tt(t,"a whitespace character is expected after the key-value separator within a block mapping"),x&&(Wr(t,u,f,p,d,null,s,o,l),p=d=m=null),y=!0,x=!1,i=!1,p=t.tag,d=t.result;else if(y)tt(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=c,t.anchor=h,!0}else if(y)tt(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=c,t.anchor=h,!0}if((t.line===a||t.lineIndent>e)&&(x&&(s=t.line,o=t.lineStart,l=t.position),Xr(t,e,za,!0,i)&&(x?d=t.result:m=t.result),x||(Wr(t,u,f,p,d,m,s,o,l),p=d=m=null),Dt(t,!0,-1),b=t.input.charCodeAt(t.position)),(t.line===a||t.lineIndent>e)&&b!==0)tt(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return x&&Wr(t,u,f,p,d,null,s,o,l),y&&(t.tag=c,t.anchor=h,t.kind="mapping",t.result=u),y}g(Rd,"readBlockMapping");function Pd(t){var e,r=!1,n=!1,i,a,s;if(s=t.input.charCodeAt(t.position),s!==33)return!1;if(t.tag!==null&&tt(t,"duplication of a tag property"),s=t.input.charCodeAt(++t.position),s===60?(r=!0,s=t.input.charCodeAt(++t.position)):s===33?(n=!0,i="!!",s=t.input.charCodeAt(++t.position)):i="!",e=t.position,r){do s=t.input.charCodeAt(++t.position);while(s!==0&&s!==62);t.position<t.length?(a=t.input.slice(e,t.position),s=t.input.charCodeAt(++t.position)):tt(t,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!se(s);)s===33&&(n?tt(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),kd.test(i)||tt(t,"named tag handle cannot contain such characters"),n=!0,e=t.position+1)),s=t.input.charCodeAt(++t.position);a=t.input.slice(e,t.position),Yw.test(a)&&tt(t,"tag suffix cannot contain flow indicator characters")}a&&!_d.test(a)&&tt(t,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{tt(t,"tag name is malformed: "+a)}return r?t.tag=a:Tr.call(t.tagMap,i)?t.tag=t.tagMap[i]+a:i==="!"?t.tag="!"+a:i==="!!"?t.tag="tag:yaml.org,2002:"+a:tt(t,'undeclared tag handle "'+i+'"'),!0}g(Pd,"readTagProperty");function Od(t){var e,r;if(r=t.input.charCodeAt(t.position),r!==38)return!1;for(t.anchor!==null&&tt(t,"duplication of an anchor property"),r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!se(r)&&!Hr(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&tt(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}g(Od,"readAnchorProperty");function Nd(t){var e,r,n;if(n=t.input.charCodeAt(t.position),n!==42)return!1;for(n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!se(n)&&!Hr(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&tt(t,"name of an alias node must contain at least one character"),r=t.input.slice(e,t.position),Tr.call(t.anchorMap,r)||tt(t,'unidentified alias "'+r+'"'),t.result=t.anchorMap[r],Dt(t,!0,-1),!0}g(Nd,"readAlias");function Xr(t,e,r,n,i){var a,s,o,l=1,c=!1,h=!1,u,f,p,d,m,x;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,a=s=o=za===r||Cd===r,n&&Dt(t,!0,-1)&&(c=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;Pd(t)||Od(t);)Dt(t,!0,-1)?(c=!0,o=a,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):o=!1;if(o&&(o=c||i),(l===1||za===r)&&(Na===r||wd===r?m=e:m=e+1,x=t.position-t.lineStart,l===1?o&&(Vo(t,x)||Rd(t,x,m))||$d(t,m)?h=!0:(s&&Dd(t,m)||Fd(t,m)||Id(t,m)?h=!0:Nd(t)?(h=!0,(t.tag!==null||t.anchor!==null)&&tt(t,"alias node should not have any properties")):Md(t,m,Na===r)&&(h=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(h=o&&Vo(t,x))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&tt(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),u=0,f=t.implicitTypes.length;u<f;u+=1)if(d=t.implicitTypes[u],d.resolve(t.result)){t.result=d.construct(t.result),t.tag=d.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Tr.call(t.typeMap[t.kind||"fallback"],t.tag))d=t.typeMap[t.kind||"fallback"][t.tag];else for(d=null,p=t.typeMap.multi[t.kind||"fallback"],u=0,f=p.length;u<f;u+=1)if(t.tag.slice(0,p[u].tag.length)===p[u].tag){d=p[u];break}d||tt(t,"unknown tag !<"+t.tag+">"),t.result!==null&&d.kind!==t.kind&&tt(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+d.kind+'", not "'+t.kind+'"'),d.resolve(t.result,t.tag)?(t.result=d.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):tt(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||h}g(Xr,"composeNode");function zd(t){var e=t.position,r,n,i,a=!1,s;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(s=t.input.charCodeAt(t.position))!==0&&(Dt(t,!0,-1),s=t.input.charCodeAt(t.position),!(t.lineIndent>0||s!==37));){for(a=!0,s=t.input.charCodeAt(++t.position),r=t.position;s!==0&&!se(s);)s=t.input.charCodeAt(++t.position);for(n=t.input.slice(r,t.position),i=[],n.length<1&&tt(t,"directive name must not be less than one character in length");s!==0;){for(;vr(s);)s=t.input.charCodeAt(++t.position);if(s===35){do s=t.input.charCodeAt(++t.position);while(s!==0&&!Pe(s));break}if(Pe(s))break;for(r=t.position;s!==0&&!se(s);)s=t.input.charCodeAt(++t.position);i.push(t.input.slice(r,t.position))}s!==0&&Cs(t),Tr.call(Hh,n)?Hh[n](t,n,i):Bi(t,'unknown document directive "'+n+'"')}if(Dt(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Dt(t,!0,-1)):a&&tt(t,"directives end mark is expected"),Xr(t,t.lineIndent-1,za,!1,!0),Dt(t,!0,-1),t.checkLineBreaks&&Uw.test(t.input.slice(e,t.position))&&Bi(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Yi(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Dt(t,!0,-1));return}if(t.position<t.length-1)tt(t,"end of the stream or a document separator is expected");else return}g(zd,"readDocument");function nc(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var r=new Bd(t,e),n=t.indexOf("\0");for(n!==-1&&(r.position=n,tt(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)zd(r);return r.documents}g(nc,"loadDocuments");function qd(t,e,r){e!==null&&typeof e=="object"&&typeof r>"u"&&(r=e,e=null);var n=nc(t,r);if(typeof e!="function")return n;for(var i=0,a=n.length;i<a;i+=1)e(n[i])}g(qd,"loadAll$1");function Hd(t,e){var r=nc(t,e);if(r.length!==0){if(r.length===1)return r[0];throw new me("expected a single document in the stream, but found more")}}g(Hd,"load$1");var Vw=qd,Gw=Hd,Xw={loadAll:Vw,load:Gw},Wd=Object.prototype.toString,jd=Object.prototype.hasOwnProperty,ic=65279,Kw=9,Mi=10,Zw=13,Qw=32,Jw=33,tC=34,Go=35,eC=37,rC=38,nC=39,iC=42,Ud=44,aC=45,qa=58,sC=61,oC=62,lC=63,cC=64,Yd=91,Vd=93,hC=96,Gd=123,uC=124,Xd=125,te={};te[0]="\\0";te[7]="\\a";te[8]="\\b";te[9]="\\t";te[10]="\\n";te[11]="\\v";te[12]="\\f";te[13]="\\r";te[27]="\\e";te[34]='\\"';te[92]="\\\\";te[133]="\\N";te[160]="\\_";te[8232]="\\L";te[8233]="\\P";var fC=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],pC=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Kd(t,e){var r,n,i,a,s,o,l;if(e===null)return{};for(r={},n=Object.keys(e),i=0,a=n.length;i<a;i+=1)s=n[i],o=String(e[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),l=t.compiledTypeMap.fallback[s],l&&jd.call(l.styleAliases,o)&&(o=l.styleAliases[o]),r[s]=o;return r}g(Kd,"compileStyleMap");function Zd(t){var e,r,n;if(e=t.toString(16).toUpperCase(),t<=255)r="x",n=2;else if(t<=65535)r="u",n=4;else if(t<=4294967295)r="U",n=8;else throw new me("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+zt.repeat("0",n-e.length)+e}g(Zd,"encodeHex");var dC=1,Fi=2;function Qd(t){this.schema=t.schema||bd,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=zt.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=Kd(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Fi:dC,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}g(Qd,"State");function Xo(t,e){for(var r=zt.repeat(" ",e),n=0,i=-1,a="",s,o=t.length;n<o;)i=t.indexOf(`
`,n),i===-1?(s=t.slice(n),n=o):(s=t.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(a+=r),a+=s;return a}g(Xo,"indentString");function Ha(t,e){return`
`+zt.repeat(" ",t.indent*e)}g(Ha,"generateNextLine");function Jd(t,e){var r,n,i;for(r=0,n=t.implicitTypes.length;r<n;r+=1)if(i=t.implicitTypes[r],i.resolve(e))return!0;return!1}g(Jd,"testImplicitResolving");function Ii(t){return t===Qw||t===Kw}g(Ii,"isWhitespace");function In(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==ic||65536<=t&&t<=1114111}g(In,"isPrintable");function Ko(t){return In(t)&&t!==ic&&t!==Zw&&t!==Mi}g(Ko,"isNsCharOrWhitespace");function Zo(t,e,r){var n=Ko(t),i=n&&!Ii(t);return(r?n:n&&t!==Ud&&t!==Yd&&t!==Vd&&t!==Gd&&t!==Xd)&&t!==Go&&!(e===qa&&!i)||Ko(e)&&!Ii(e)&&t===Go||e===qa&&i}g(Zo,"isPlainSafe");function tg(t){return In(t)&&t!==ic&&!Ii(t)&&t!==aC&&t!==lC&&t!==qa&&t!==Ud&&t!==Yd&&t!==Vd&&t!==Gd&&t!==Xd&&t!==Go&&t!==rC&&t!==iC&&t!==Jw&&t!==uC&&t!==sC&&t!==oC&&t!==nC&&t!==tC&&t!==eC&&t!==cC&&t!==hC}g(tg,"isPlainSafeFirst");function eg(t){return!Ii(t)&&t!==qa}g(eg,"isPlainSafeLast");function dn(t,e){var r=t.charCodeAt(e),n;return r>=55296&&r<=56319&&e+1<t.length&&(n=t.charCodeAt(e+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}g(dn,"codePointAt");function ac(t){var e=/^\n* /;return e.test(t)}g(ac,"needIndentIndicator");var rg=1,Qo=2,ng=3,ig=4,pn=5;function ag(t,e,r,n,i,a,s,o){var l,c=0,h=null,u=!1,f=!1,p=n!==-1,d=-1,m=tg(dn(t,0))&&eg(dn(t,t.length-1));if(e||s)for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=dn(t,l),!In(c))return pn;m=m&&Zo(c,h,o),h=c}else{for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=dn(t,l),c===Mi)u=!0,p&&(f=f||l-d-1>n&&t[d+1]!==" ",d=l);else if(!In(c))return pn;m=m&&Zo(c,h,o),h=c}f=f||p&&l-d-1>n&&t[d+1]!==" "}return!u&&!f?m&&!s&&!i(t)?rg:a===Fi?pn:Qo:r>9&&ac(t)?pn:s?a===Fi?pn:Qo:f?ig:ng}g(ag,"chooseScalarStyle");function sg(t,e,r,n,i){t.dump=function(){if(e.length===0)return t.quotingType===Fi?'""':"''";if(!t.noCompatMode&&(fC.indexOf(e)!==-1||pC.test(e)))return t.quotingType===Fi?'"'+e+'"':"'"+e+"'";var a=t.indent*Math.max(1,r),s=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-a),o=n||t.flowLevel>-1&&r>=t.flowLevel;function l(c){return Jd(t,c)}switch(g(l,"testAmbiguity"),ag(e,o,t.indent,s,l,t.quotingType,t.forceQuotes&&!n,i)){case rg:return e;case Qo:return"'"+e.replace(/'/g,"''")+"'";case ng:return"|"+Jo(e,t.indent)+tl(Xo(e,a));case ig:return">"+Jo(e,t.indent)+tl(Xo(og(e,s),a));case pn:return'"'+lg(e)+'"';default:throw new me("impossible error: invalid scalar style")}}()}g(sg,"writeScalar");function Jo(t,e){var r=ac(t)?String(e):"",n=t[t.length-1]===`
`,i=n&&(t[t.length-2]===`
`||t===`
`),a=i?"+":n?"":"-";return r+a+`
`}g(Jo,"blockHeader");function tl(t){return t[t.length-1]===`
`?t.slice(0,-1):t}g(tl,"dropEndingNewline");function og(t,e){for(var r=/(\n+)([^\n]*)/g,n=function(){var c=t.indexOf(`
`);return c=c!==-1?c:t.length,r.lastIndex=c,el(t.slice(0,c),e)}(),i=t[0]===`
`||t[0]===" ",a,s;s=r.exec(t);){var o=s[1],l=s[2];a=l[0]===" ",n+=o+(!i&&!a&&l!==""?`
`:"")+el(l,e),i=a}return n}g(og,"foldString");function el(t,e){if(t===""||t[0]===" ")return t;for(var r=/ [^ ]/g,n,i=0,a,s=0,o=0,l="";n=r.exec(t);)o=n.index,o-i>e&&(a=s>i?s:o,l+=`
`+t.slice(i,a),i=a+1),s=o;return l+=`
`,t.length-i>e&&s>i?l+=t.slice(i,s)+`
`+t.slice(s+1):l+=t.slice(i),l.slice(1)}g(el,"foldLine");function lg(t){for(var e="",r=0,n,i=0;i<t.length;r>=65536?i+=2:i++)r=dn(t,i),n=te[r],!n&&In(r)?(e+=t[i],r>=65536&&(e+=t[i+1])):e+=n||Zd(r);return e}g(lg,"escapeString");function cg(t,e,r){var n="",i=t.tag,a,s,o;for(a=0,s=r.length;a<s;a+=1)o=r[a],t.replacer&&(o=t.replacer.call(r,String(a),o)),(tr(t,e,o,!1,!1)||typeof o>"u"&&tr(t,e,null,!1,!1))&&(n!==""&&(n+=","+(t.condenseFlow?"":" ")),n+=t.dump);t.tag=i,t.dump="["+n+"]"}g(cg,"writeFlowSequence");function rl(t,e,r,n){var i="",a=t.tag,s,o,l;for(s=0,o=r.length;s<o;s+=1)l=r[s],t.replacer&&(l=t.replacer.call(r,String(s),l)),(tr(t,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&tr(t,e+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Ha(t,e)),t.dump&&Mi===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=a,t.dump=i||"[]"}g(rl,"writeBlockSequence");function hg(t,e,r){var n="",i=t.tag,a=Object.keys(r),s,o,l,c,h;for(s=0,o=a.length;s<o;s+=1)h="",n!==""&&(h+=", "),t.condenseFlow&&(h+='"'),l=a[s],c=r[l],t.replacer&&(c=t.replacer.call(r,l,c)),tr(t,e,l,!1,!1)&&(t.dump.length>1024&&(h+="? "),h+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),tr(t,e,c,!1,!1)&&(h+=t.dump,n+=h));t.tag=i,t.dump="{"+n+"}"}g(hg,"writeFlowMapping");function ug(t,e,r,n){var i="",a=t.tag,s=Object.keys(r),o,l,c,h,u,f;if(t.sortKeys===!0)s.sort();else if(typeof t.sortKeys=="function")s.sort(t.sortKeys);else if(t.sortKeys)throw new me("sortKeys must be a boolean or a function");for(o=0,l=s.length;o<l;o+=1)f="",(!n||i!=="")&&(f+=Ha(t,e)),c=s[o],h=r[c],t.replacer&&(h=t.replacer.call(r,c,h)),tr(t,e+1,c,!0,!0,!0)&&(u=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,u&&(t.dump&&Mi===t.dump.charCodeAt(0)?f+="?":f+="? "),f+=t.dump,u&&(f+=Ha(t,e)),tr(t,e+1,h,!0,u)&&(t.dump&&Mi===t.dump.charCodeAt(0)?f+=":":f+=": ",f+=t.dump,i+=f));t.tag=a,t.dump=i||"{}"}g(ug,"writeBlockMapping");function nl(t,e,r){var n,i,a,s,o,l;for(i=r?t.explicitTypes:t.implicitTypes,a=0,s=i.length;a<s;a+=1)if(o=i[a],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof e=="object"&&e instanceof o.instanceOf)&&(!o.predicate||o.predicate(e))){if(r?o.multi&&o.representName?t.tag=o.representName(e):t.tag=o.tag:t.tag="?",o.represent){if(l=t.styleMap[o.tag]||o.defaultStyle,Wd.call(o.represent)==="[object Function]")n=o.represent(e,l);else if(jd.call(o.represent,l))n=o.represent[l](e,l);else throw new me("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');t.dump=n}return!0}return!1}g(nl,"detectType");function tr(t,e,r,n,i,a,s){t.tag=null,t.dump=r,nl(t,r,!1)||nl(t,r,!0);var o=Wd.call(t.dump),l=n,c;n&&(n=t.flowLevel<0||t.flowLevel>e);var h=o==="[object Object]"||o==="[object Array]",u,f;if(h&&(u=t.duplicates.indexOf(r),f=u!==-1),(t.tag!==null&&t.tag!=="?"||f||t.indent!==2&&e>0)&&(i=!1),f&&t.usedDuplicates[u])t.dump="*ref_"+u;else{if(h&&f&&!t.usedDuplicates[u]&&(t.usedDuplicates[u]=!0),o==="[object Object]")n&&Object.keys(t.dump).length!==0?(ug(t,e,t.dump,i),f&&(t.dump="&ref_"+u+t.dump)):(hg(t,e,t.dump),f&&(t.dump="&ref_"+u+" "+t.dump));else if(o==="[object Array]")n&&t.dump.length!==0?(t.noArrayIndent&&!s&&e>0?rl(t,e-1,t.dump,i):rl(t,e,t.dump,i),f&&(t.dump="&ref_"+u+t.dump)):(cg(t,e,t.dump),f&&(t.dump="&ref_"+u+" "+t.dump));else if(o==="[object String]")t.tag!=="?"&&sg(t,t.dump,e,a,l);else{if(o==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new me("unacceptable kind of an object to dump "+o)}t.tag!==null&&t.tag!=="?"&&(c=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",t.dump=c+" "+t.dump)}return!0}g(tr,"writeNode");function fg(t,e){var r=[],n=[],i,a;for(Wa(t,r,n),i=0,a=n.length;i<a;i+=1)e.duplicates.push(r[n[i]]);e.usedDuplicates=new Array(a)}g(fg,"getDuplicateReferences");function Wa(t,e,r){var n,i,a;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(e.push(t),Array.isArray(t))for(i=0,a=t.length;i<a;i+=1)Wa(t[i],e,r);else for(n=Object.keys(t),i=0,a=n.length;i<a;i+=1)Wa(t[n[i]],e,r)}g(Wa,"inspectNode");function gC(t,e){e=e||{};var r=new Qd(e);r.noRefs||fg(t,r);var n=t;return r.replacer&&(n=r.replacer.call({"":n},"",n)),tr(r,0,n,!0,!0)?r.dump+`
`:""}g(gC,"dump$1");function mC(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}g(mC,"renamed");var yC=rd,xC=Xw.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/const bC=Object.freeze({left:0,top:0,width:16,height:16}),ja=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),pg=Object.freeze({...bC,...ja}),wC=Object.freeze({...pg,body:"",hidden:!1}),CC=Object.freeze({width:null,height:null}),kC=Object.freeze({...CC,...ja}),io=/^[a-z0-9]+(-[a-z0-9]+)*$/,_C=(t,e,r,n="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const o=i.pop(),l=i.pop(),c={provider:i.length>0?i[0]:n,prefix:l,name:o};return ao(c)?c:null}const a=i[0],s=a.split("-");if(s.length>1){const o={provider:n,prefix:s.shift(),name:s.join("-")};return ao(o)?o:null}if(r&&n===""){const o={provider:n,prefix:"",name:a};return ao(o,r)?o:null}return null},ao=(t,e)=>t?!!((t.provider===""||t.provider.match(io))&&(e&&t.prefix===""||t.prefix.match(io))&&t.name.match(io)):!1;function vC(t,e){const r={};!t.hFlip!=!e.hFlip&&(r.hFlip=!0),!t.vFlip!=!e.vFlip&&(r.vFlip=!0);const n=((t.rotate||0)+(e.rotate||0))%4;return n&&(r.rotate=n),r}function Wh(t,e){const r=vC(t,e);for(const n in wC)n in ja?n in t&&!(n in r)&&(r[n]=ja[n]):n in e?r[n]=e[n]:n in t&&(r[n]=t[n]);return r}function SC(t,e){const r=t.icons,n=t.aliases||Object.create(null),i=Object.create(null);function a(s){if(r[s])return i[s]=[];if(!(s in i)){i[s]=null;const o=n[s]&&n[s].parent,l=o&&a(o);l&&(i[s]=[o].concat(l))}return i[s]}return(e||Object.keys(r).concat(Object.keys(n))).forEach(a),i}function jh(t,e,r){const n=t.icons,i=t.aliases||Object.create(null);let a={};function s(o){a=Wh(n[o]||i[o],a)}return s(e),r.forEach(s),Wh(t,a)}function TC(t,e){if(t.icons[e])return jh(t,e,[]);const r=SC(t,[e])[e];return r?jh(t,e,r):null}const EC=/(-?[0-9.]*[0-9]+[0-9.]*)/g,AC=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Uh(t,e,r){if(e===1)return t;if(r=r||100,typeof t=="number")return Math.ceil(t*e*r)/r;if(typeof t!="string")return t;const n=t.split(EC);if(n===null||!n.length)return t;const i=[];let a=n.shift(),s=AC.test(a);for(;;){if(s){const o=parseFloat(a);isNaN(o)?i.push(a):i.push(Math.ceil(o*e*r)/r)}else i.push(a);if(a=n.shift(),a===void 0)return i.join("");s=!s}}function LC(t,e="defs"){let r="";const n=t.indexOf("<"+e);for(;n>=0;){const i=t.indexOf(">",n),a=t.indexOf("</"+e);if(i===-1||a===-1)break;const s=t.indexOf(">",a);if(s===-1)break;r+=t.slice(i+1,a).trim(),t=t.slice(0,n).trim()+t.slice(s+1)}return{defs:r,content:t}}function BC(t,e){return t?"<defs>"+t+"</defs>"+e:e}function MC(t,e,r){const n=LC(t);return BC(n.defs,e+n.content+r)}const FC=t=>t==="unset"||t==="undefined"||t==="none";function IC(t,e){const r={...pg,...t},n={...kC,...e},i={left:r.left,top:r.top,width:r.width,height:r.height};let a=r.body;[r,n].forEach(m=>{const x=[],y=m.hFlip,b=m.vFlip;let C=m.rotate;y?b?C+=2:(x.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),x.push("scale(-1 1)"),i.top=i.left=0):b&&(x.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),x.push("scale(1 -1)"),i.top=i.left=0);let S;switch(C<0&&(C-=Math.floor(C/4)*4),C=C%4,C){case 1:S=i.height/2+i.top,x.unshift("rotate(90 "+S.toString()+" "+S.toString()+")");break;case 2:x.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:S=i.width/2+i.left,x.unshift("rotate(-90 "+S.toString()+" "+S.toString()+")");break}C%2===1&&(i.left!==i.top&&(S=i.left,i.left=i.top,i.top=S),i.width!==i.height&&(S=i.width,i.width=i.height,i.height=S)),x.length&&(a=MC(a,'<g transform="'+x.join(" ")+'">',"</g>"))});const s=n.width,o=n.height,l=i.width,c=i.height;let h,u;s===null?(u=o===null?"1em":o==="auto"?c:o,h=Uh(u,l/c)):(h=s==="auto"?l:s,u=o===null?Uh(h,c/l):o==="auto"?c:o);const f={},p=(m,x)=>{FC(x)||(f[m]=x.toString())};p("width",h),p("height",u);const d=[i.left,i.top,l,c];return f.viewBox=d.join(" "),{attributes:f,viewBox:d,body:a}}const $C=/\sid="(\S+)"/g,DC="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let RC=0;function PC(t,e=DC){const r=[];let n;for(;n=$C.exec(t);)r.push(n[1]);if(!r.length)return t;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(a=>{const s=typeof e=="function"?e(a):e+(RC++).toString(),o=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+s+i+"$3")}),t=t.replace(new RegExp(i,"g"),""),t}function OC(t,e){let r=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in e)r+=" "+n+'="'+e[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+t+"</svg>"}var NC={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},il=new Map,dg=new Map,zC=g(t=>{for(const e of t){if(!e.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(z.debug("Registering icon pack:",e.name),"loader"in e)dg.set(e.name,e.loader);else if("icons"in e)il.set(e.name,e.icons);else throw z.error("Invalid icon loader:",e),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),qC=g(async(t,e)=>{const r=_C(t,!0,e!==void 0);if(!r)throw new Error(`Invalid icon name: ${t}`);const n=r.prefix||e;if(!n)throw new Error(`Icon name must contain a prefix: ${t}`);let i=il.get(n);if(!i){const s=dg.get(n);if(!s)throw new Error(`Icon set not found: ${r.prefix}`);try{i={...await s(),prefix:n},il.set(n,i)}catch(o){throw z.error(o),new Error(`Failed to load icon set: ${r.prefix}`)}}const a=TC(i,r.name);if(!a)throw new Error(`Icon not found: ${t}`);return a},"getRegisteredIconData"),_s=g(async(t,e)=>{let r;try{r=await qC(t,e==null?void 0:e.fallbackPrefix)}catch(a){z.error(a),r=NC}const n=IC(r,e);return OC(PC(n.body),n.attributes)},"getIconSVG"),sc=g(({flowchart:t})=>{var i,a;const e=((i=t==null?void 0:t.subGraphTitleMargin)==null?void 0:i.top)??0,r=((a=t==null?void 0:t.subGraphTitleMargin)==null?void 0:a.bottom)??0,n=e+r;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:n}},"getSubGraphTitleMargins"),oc={},Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.BLANK_URL=Wt.relativeFirstCharacters=Wt.whitespaceEscapeCharsRegex=Wt.urlSchemeRegex=Wt.ctrlCharactersRegex=Wt.htmlCtrlEntityRegex=Wt.htmlEntitiesRegex=Wt.invalidProtocolRegex=void 0;Wt.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im;Wt.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g;Wt.htmlCtrlEntityRegex=/&(newline|tab);/gi;Wt.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;Wt.urlSchemeRegex=/^.+(:|&colon;)/gim;Wt.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g;Wt.relativeFirstCharacters=[".","/"];Wt.BLANK_URL="about:blank";Object.defineProperty(oc,"__esModule",{value:!0});var gg=oc.sanitizeUrl=void 0,Qt=Wt;function HC(t){return Qt.relativeFirstCharacters.indexOf(t[0])>-1}function WC(t){var e=t.replace(Qt.ctrlCharactersRegex,"");return e.replace(Qt.htmlEntitiesRegex,function(r,n){return String.fromCharCode(n)})}function jC(t){return URL.canParse(t)}function Yh(t){try{return decodeURIComponent(t)}catch{return t}}function UC(t){if(!t)return Qt.BLANK_URL;var e,r=Yh(t.trim());do r=WC(r).replace(Qt.htmlCtrlEntityRegex,"").replace(Qt.ctrlCharactersRegex,"").replace(Qt.whitespaceEscapeCharsRegex,"").trim(),r=Yh(r),e=r.match(Qt.ctrlCharactersRegex)||r.match(Qt.htmlEntitiesRegex)||r.match(Qt.htmlCtrlEntityRegex)||r.match(Qt.whitespaceEscapeCharsRegex);while(e&&e.length>0);var n=r;if(!n)return Qt.BLANK_URL;if(HC(n))return n;var i=n.trimStart(),a=i.match(Qt.urlSchemeRegex);if(!a)return n;var s=a[0].toLowerCase().trim();if(Qt.invalidProtocolRegex.test(s))return Qt.BLANK_URL;var o=i.replace(/\\/g,"/");if(s==="mailto:"||s.includes("://"))return o;if(s==="http:"||s==="https:"){if(!jC(o))return Qt.BLANK_URL;var l=new URL(o);return l.protocol=l.protocol.toLowerCase(),l.hostname=l.hostname.toLowerCase(),l.toString()}return o}gg=oc.sanitizeUrl=UC;var YC={value:()=>{}};function mg(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new va(r)}function va(t){this._=t}function VC(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}va.prototype=mg.prototype={constructor:va,on:function(t,e){var r=this._,n=VC(t+"",r),i,a=-1,s=n.length;if(arguments.length<2){for(;++a<s;)if((i=(t=n[a]).type)&&(i=GC(r[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(i=(t=n[a]).type)r[i]=Vh(r[i],t.name,e);else if(e==null)for(i in r)r[i]=Vh(r[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new va(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,a;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],n=0,i=a.length;n<i;++n)a[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],i=0,a=n.length;i<a;++i)n[i].value.apply(e,r)}};function GC(t,e){for(var r=0,n=t.length,i;r<n;++r)if((i=t[r]).name===e)return i.value}function Vh(t,e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=YC,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var al="http://www.w3.org/1999/xhtml";const Gh={svg:"http://www.w3.org/2000/svg",xhtml:al,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function vs(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),Gh.hasOwnProperty(e)?{space:Gh[e],local:t}:t}function XC(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===al&&e.documentElement.namespaceURI===al?e.createElement(t):e.createElementNS(r,t)}}function KC(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function yg(t){var e=vs(t);return(e.local?KC:XC)(e)}function ZC(){}function lc(t){return t==null?ZC:function(){return this.querySelector(t)}}function QC(t){typeof t!="function"&&(t=lc(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var a=e[i],s=a.length,o=n[i]=new Array(s),l,c,h=0;h<s;++h)(l=a[h])&&(c=t.call(l,l.__data__,h,a))&&("__data__"in l&&(c.__data__=l.__data__),o[h]=c);return new Se(n,this._parents)}function JC(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function tk(){return[]}function xg(t){return t==null?tk:function(){return this.querySelectorAll(t)}}function ek(t){return function(){return JC(t.apply(this,arguments))}}function rk(t){typeof t=="function"?t=ek(t):t=xg(t);for(var e=this._groups,r=e.length,n=[],i=[],a=0;a<r;++a)for(var s=e[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&(n.push(t.call(l,l.__data__,c,s)),i.push(l));return new Se(n,i)}function bg(t){return function(){return this.matches(t)}}function wg(t){return function(e){return e.matches(t)}}var nk=Array.prototype.find;function ik(t){return function(){return nk.call(this.children,t)}}function ak(){return this.firstElementChild}function sk(t){return this.select(t==null?ak:ik(typeof t=="function"?t:wg(t)))}var ok=Array.prototype.filter;function lk(){return Array.from(this.children)}function ck(t){return function(){return ok.call(this.children,t)}}function hk(t){return this.selectAll(t==null?lk:ck(typeof t=="function"?t:wg(t)))}function uk(t){typeof t!="function"&&(t=bg(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var a=e[i],s=a.length,o=n[i]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new Se(n,this._parents)}function Cg(t){return new Array(t.length)}function fk(){return new Se(this._enter||this._groups.map(Cg),this._parents)}function Ua(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ua.prototype={constructor:Ua,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function pk(t){return function(){return t}}function dk(t,e,r,n,i,a){for(var s=0,o,l=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],n[s]=o):r[s]=new Ua(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function gk(t,e,r,n,i,a,s){var o,l,c=new Map,h=e.length,u=a.length,f=new Array(h),p;for(o=0;o<h;++o)(l=e[o])&&(f[o]=p=s.call(l,l.__data__,o,e)+"",c.has(p)?i[o]=l:c.set(p,l));for(o=0;o<u;++o)p=s.call(t,a[o],o,a)+"",(l=c.get(p))?(n[o]=l,l.__data__=a[o],c.delete(p)):r[o]=new Ua(t,a[o]);for(o=0;o<h;++o)(l=e[o])&&c.get(f[o])===l&&(i[o]=l)}function mk(t){return t.__data__}function yk(t,e){if(!arguments.length)return Array.from(this,mk);var r=e?gk:dk,n=this._parents,i=this._groups;typeof t!="function"&&(t=pk(t));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),c=0;c<a;++c){var h=n[c],u=i[c],f=u.length,p=xk(t.call(h,h&&h.__data__,c,n)),d=p.length,m=o[c]=new Array(d),x=s[c]=new Array(d),y=l[c]=new Array(f);r(h,u,m,x,y,p,e);for(var b=0,C=0,S,v;b<d;++b)if(S=m[b]){for(b>=C&&(C=b+1);!(v=x[C])&&++C<d;);S._next=v||null}}return s=new Se(s,n),s._enter=o,s._exit=l,s}function xk(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function bk(){return new Se(this._exit||this._groups.map(Cg),this._parents)}function wk(t,e,r){var n=this.enter(),i=this,a=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),r==null?a.remove():r(a),n&&i?n.merge(i).order():i}function Ck(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,i=r.length,a=n.length,s=Math.min(i,a),o=new Array(i),l=0;l<s;++l)for(var c=r[l],h=n[l],u=c.length,f=o[l]=new Array(u),p,d=0;d<u;++d)(p=c[d]||h[d])&&(f[d]=p);for(;l<i;++l)o[l]=r[l];return new Se(o,this._parents)}function kk(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],i=n.length-1,a=n[i],s;--i>=0;)(s=n[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function _k(t){t||(t=vk);function e(u,f){return u&&f?t(u.__data__,f.__data__):!u-!f}for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var s=r[a],o=s.length,l=i[a]=new Array(o),c,h=0;h<o;++h)(c=s[h])&&(l[h]=c);l.sort(e)}return new Se(i,this._parents).order()}function vk(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Sk(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Tk(){return Array.from(this)}function Ek(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,a=n.length;i<a;++i){var s=n[i];if(s)return s}return null}function Ak(){let t=0;for(const e of this)++t;return t}function Lk(){return!this.node()}function Bk(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],a=0,s=i.length,o;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this}function Mk(t){return function(){this.removeAttribute(t)}}function Fk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ik(t,e){return function(){this.setAttribute(t,e)}}function $k(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Dk(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function Rk(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function Pk(t,e){var r=vs(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?Fk:Mk:typeof e=="function"?r.local?Rk:Dk:r.local?$k:Ik)(r,e))}function kg(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ok(t){return function(){this.style.removeProperty(t)}}function Nk(t,e,r){return function(){this.style.setProperty(t,e,r)}}function zk(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function qk(t,e,r){return arguments.length>1?this.each((e==null?Ok:typeof e=="function"?zk:Nk)(t,e,r??"")):$n(this.node(),t)}function $n(t,e){return t.style.getPropertyValue(e)||kg(t).getComputedStyle(t,null).getPropertyValue(e)}function Hk(t){return function(){delete this[t]}}function Wk(t,e){return function(){this[t]=e}}function jk(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function Uk(t,e){return arguments.length>1?this.each((e==null?Hk:typeof e=="function"?jk:Wk)(t,e)):this.node()[t]}function _g(t){return t.trim().split(/^|\s+/)}function cc(t){return t.classList||new vg(t)}function vg(t){this._node=t,this._names=_g(t.getAttribute("class")||"")}vg.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Sg(t,e){for(var r=cc(t),n=-1,i=e.length;++n<i;)r.add(e[n])}function Tg(t,e){for(var r=cc(t),n=-1,i=e.length;++n<i;)r.remove(e[n])}function Yk(t){return function(){Sg(this,t)}}function Vk(t){return function(){Tg(this,t)}}function Gk(t,e){return function(){(e.apply(this,arguments)?Sg:Tg)(this,t)}}function Xk(t,e){var r=_g(t+"");if(arguments.length<2){for(var n=cc(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof e=="function"?Gk:e?Yk:Vk)(r,e))}function Kk(){this.textContent=""}function Zk(t){return function(){this.textContent=t}}function Qk(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Jk(t){return arguments.length?this.each(t==null?Kk:(typeof t=="function"?Qk:Zk)(t)):this.node().textContent}function t_(){this.innerHTML=""}function e_(t){return function(){this.innerHTML=t}}function r_(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function n_(t){return arguments.length?this.each(t==null?t_:(typeof t=="function"?r_:e_)(t)):this.node().innerHTML}function i_(){this.nextSibling&&this.parentNode.appendChild(this)}function a_(){return this.each(i_)}function s_(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function o_(){return this.each(s_)}function l_(t){var e=typeof t=="function"?t:yg(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function c_(){return null}function h_(t,e){var r=typeof t=="function"?t:yg(t),n=e==null?c_:typeof e=="function"?e:lc(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function u_(){var t=this.parentNode;t&&t.removeChild(this)}function f_(){return this.each(u_)}function p_(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function d_(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function g_(t){return this.select(t?d_:p_)}function m_(t){return arguments.length?this.property("__data__",t):this.node().__data__}function y_(t){return function(e){t.call(this,e,this.__data__)}}function x_(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function b_(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,i=e.length,a;r<i;++r)a=e[r],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++n]=a;++n?e.length=n:delete this.__on}}}function w_(t,e,r){return function(){var n=this.__on,i,a=y_(e);if(n){for(var s=0,o=n.length;s<o;++s)if((i=n[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),i.value=e;return}}this.addEventListener(t.type,a,r),i={type:t.type,name:t.name,value:e,listener:a,options:r},n?n.push(i):this.__on=[i]}}function C_(t,e,r){var n=x_(t+""),i,a=n.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,h;l<c;++l)for(i=0,h=o[l];i<a;++i)if((s=n[i]).type===h.type&&s.name===h.name)return h.value}return}for(o=e?w_:b_,i=0;i<a;++i)this.each(o(n[i],e,r));return this}function Eg(t,e,r){var n=kg(t),i=n.CustomEvent;typeof i=="function"?i=new i(e,r):(i=n.document.createEvent("Event"),r?(i.initEvent(e,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function k_(t,e){return function(){return Eg(this,t,e)}}function __(t,e){return function(){return Eg(this,t,e.apply(this,arguments))}}function v_(t,e){return this.each((typeof e=="function"?__:k_)(t,e))}function*S_(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,a=n.length,s;i<a;++i)(s=n[i])&&(yield s)}var Ag=[null];function Se(t,e){this._groups=t,this._parents=e}function Vi(){return new Se([[document.documentElement]],Ag)}function T_(){return this}Se.prototype=Vi.prototype={constructor:Se,select:QC,selectAll:rk,selectChild:sk,selectChildren:hk,filter:uk,data:yk,enter:fk,exit:bk,join:wk,merge:Ck,selection:T_,order:kk,sort:_k,call:Sk,nodes:Tk,node:Ek,size:Ak,empty:Lk,each:Bk,attr:Pk,style:qk,property:Uk,classed:Xk,text:Jk,html:n_,raise:a_,lower:o_,append:l_,insert:h_,remove:f_,clone:g_,datum:m_,on:C_,dispatch:v_,[Symbol.iterator]:S_};function kt(t){return typeof t=="string"?new Se([[document.querySelector(t)]],[document.documentElement]):new Se([[t]],Ag)}function hc(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Lg(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Gi(){}var $i=.7,Ya=1/$i,mn="\\s*([+-]?\\d+)\\s*",Di="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",E_=/^#([0-9a-f]{3,8})$/,A_=new RegExp(`^rgb\\(${mn},${mn},${mn}\\)$`),L_=new RegExp(`^rgb\\(${Qe},${Qe},${Qe}\\)$`),B_=new RegExp(`^rgba\\(${mn},${mn},${mn},${Di}\\)$`),M_=new RegExp(`^rgba\\(${Qe},${Qe},${Qe},${Di}\\)$`),F_=new RegExp(`^hsl\\(${Di},${Qe},${Qe}\\)$`),I_=new RegExp(`^hsla\\(${Di},${Qe},${Qe},${Di}\\)$`),Xh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hc(Gi,Ri,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Kh,formatHex:Kh,formatHex8:$_,formatHsl:D_,formatRgb:Zh,toString:Zh});function Kh(){return this.rgb().formatHex()}function $_(){return this.rgb().formatHex8()}function D_(){return Bg(this).formatHsl()}function Zh(){return this.rgb().formatRgb()}function Ri(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=E_.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Qh(e):r===3?new ye(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?oa(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?oa(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=A_.exec(t))?new ye(e[1],e[2],e[3],1):(e=L_.exec(t))?new ye(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=B_.exec(t))?oa(e[1],e[2],e[3],e[4]):(e=M_.exec(t))?oa(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=F_.exec(t))?eu(e[1],e[2]/100,e[3]/100,1):(e=I_.exec(t))?eu(e[1],e[2]/100,e[3]/100,e[4]):Xh.hasOwnProperty(t)?Qh(Xh[t]):t==="transparent"?new ye(NaN,NaN,NaN,0):null}function Qh(t){return new ye(t>>16&255,t>>8&255,t&255,1)}function oa(t,e,r,n){return n<=0&&(t=e=r=NaN),new ye(t,e,r,n)}function R_(t){return t instanceof Gi||(t=Ri(t)),t?(t=t.rgb(),new ye(t.r,t.g,t.b,t.opacity)):new ye}function sl(t,e,r,n){return arguments.length===1?R_(t):new ye(t,e,r,n??1)}function ye(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}hc(ye,sl,Lg(Gi,{brighter(t){return t=t==null?Ya:Math.pow(Ya,t),new ye(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?$i:Math.pow($i,t),new ye(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ye(Yr(this.r),Yr(this.g),Yr(this.b),Va(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jh,formatHex:Jh,formatHex8:P_,formatRgb:tu,toString:tu}));function Jh(){return`#${jr(this.r)}${jr(this.g)}${jr(this.b)}`}function P_(){return`#${jr(this.r)}${jr(this.g)}${jr(this.b)}${jr((isNaN(this.opacity)?1:this.opacity)*255)}`}function tu(){const t=Va(this.opacity);return`${t===1?"rgb(":"rgba("}${Yr(this.r)}, ${Yr(this.g)}, ${Yr(this.b)}${t===1?")":`, ${t})`}`}function Va(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Yr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function jr(t){return t=Yr(t),(t<16?"0":"")+t.toString(16)}function eu(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Re(t,e,r,n)}function Bg(t){if(t instanceof Re)return new Re(t.h,t.s,t.l,t.opacity);if(t instanceof Gi||(t=Ri(t)),!t)return new Re;if(t instanceof Re)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Re(s,o,l,t.opacity)}function O_(t,e,r,n){return arguments.length===1?Bg(t):new Re(t,e,r,n??1)}function Re(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}hc(Re,O_,Lg(Gi,{brighter(t){return t=t==null?Ya:Math.pow(Ya,t),new Re(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?$i:Math.pow($i,t),new Re(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new ye(so(t>=240?t-240:t+120,i,n),so(t,i,n),so(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Re(ru(this.h),la(this.s),la(this.l),Va(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Va(this.opacity);return`${t===1?"hsl(":"hsla("}${ru(this.h)}, ${la(this.s)*100}%, ${la(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ru(t){return t=(t||0)%360,t<0?t+360:t}function la(t){return Math.max(0,Math.min(1,t||0))}function so(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const uc=t=>()=>t;function Mg(t,e){return function(r){return t+r*e}}function N_(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function R3(t,e){var r=e-t;return r?Mg(t,r>180||r<-180?r-360*Math.round(r/360):r):uc(isNaN(t)?e:t)}function z_(t){return(t=+t)==1?Fg:function(e,r){return r-e?N_(e,r,t):uc(isNaN(e)?r:e)}}function Fg(t,e){var r=e-t;return r?Mg(t,r):uc(isNaN(t)?e:t)}const nu=function t(e){var r=z_(e);function n(i,a){var s=r((i=sl(i)).r,(a=sl(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),c=Fg(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=o(h),i.b=l(h),i.opacity=c(h),i+""}}return n.gamma=t,n}(1);function kr(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}var ol=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oo=new RegExp(ol.source,"g");function q_(t){return function(){return t}}function H_(t){return function(e){return t(e)+""}}function W_(t,e){var r=ol.lastIndex=oo.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=ol.exec(t))&&(i=oo.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:kr(n,i)})),r=oo.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?H_(l[0].x):q_(e):(e=l.length,function(c){for(var h=0,u;h<e;++h)o[(u=l[h]).i]=u.x(c);return o.join("")})}var iu=180/Math.PI,ll={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ig(t,e,r,n,i,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*r+e*n)&&(r-=t*l,n-=e*l),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,l/=o),t*n<e*r&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*iu,skewX:Math.atan(l)*iu,scaleX:s,scaleY:o}}var ca;function j_(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ll:Ig(e.a,e.b,e.c,e.d,e.e,e.f)}function U_(t){return t==null||(ca||(ca=document.createElementNS("http://www.w3.org/2000/svg","g")),ca.setAttribute("transform",t),!(t=ca.transform.baseVal.consolidate()))?ll:(t=t.matrix,Ig(t.a,t.b,t.c,t.d,t.e,t.f))}function $g(t,e,r,n){function i(c){return c.length?c.pop()+" ":""}function a(c,h,u,f,p,d){if(c!==u||h!==f){var m=p.push("translate(",null,e,null,r);d.push({i:m-4,x:kr(c,u)},{i:m-2,x:kr(h,f)})}else(u||f)&&p.push("translate("+u+e+f+r)}function s(c,h,u,f){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),f.push({i:u.push(i(u)+"rotate(",null,n)-2,x:kr(c,h)})):h&&u.push(i(u)+"rotate("+h+n)}function o(c,h,u,f){c!==h?f.push({i:u.push(i(u)+"skewX(",null,n)-2,x:kr(c,h)}):h&&u.push(i(u)+"skewX("+h+n)}function l(c,h,u,f,p,d){if(c!==u||h!==f){var m=p.push(i(p)+"scale(",null,",",null,")");d.push({i:m-4,x:kr(c,u)},{i:m-2,x:kr(h,f)})}else(u!==1||f!==1)&&p.push(i(p)+"scale("+u+","+f+")")}return function(c,h){var u=[],f=[];return c=t(c),h=t(h),a(c.translateX,c.translateY,h.translateX,h.translateY,u,f),s(c.rotate,h.rotate,u,f),o(c.skewX,h.skewX,u,f),l(c.scaleX,c.scaleY,h.scaleX,h.scaleY,u,f),c=h=null,function(p){for(var d=-1,m=f.length,x;++d<m;)u[(x=f[d]).i]=x.x(p);return u.join("")}}}var Y_=$g(j_,"px, ","px)","deg)"),V_=$g(U_,", ",")",")"),Dn=0,gi=0,ai=0,Dg=1e3,Ga,mi,Xa=0,Kr=0,Ss=0,Pi=typeof performance=="object"&&performance.now?performance:Date,Rg=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function fc(){return Kr||(Rg(G_),Kr=Pi.now()+Ss)}function G_(){Kr=0}function Ka(){this._call=this._time=this._next=null}Ka.prototype=Pg.prototype={constructor:Ka,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?fc():+r)+(e==null?0:+e),!this._next&&mi!==this&&(mi?mi._next=this:Ga=this,mi=this),this._call=t,this._time=r,cl()},stop:function(){this._call&&(this._call=null,this._time=1/0,cl())}};function Pg(t,e,r){var n=new Ka;return n.restart(t,e,r),n}function X_(){fc(),++Dn;for(var t=Ga,e;t;)(e=Kr-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Dn}function au(){Kr=(Xa=Pi.now())+Ss,Dn=gi=0;try{X_()}finally{Dn=0,Z_(),Kr=0}}function K_(){var t=Pi.now(),e=t-Xa;e>Dg&&(Ss-=e,Xa=t)}function Z_(){for(var t,e=Ga,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:Ga=r);mi=t,cl(n)}function cl(t){if(!Dn){gi&&(gi=clearTimeout(gi));var e=t-Kr;e>24?(t<1/0&&(gi=setTimeout(au,t-Pi.now()-Ss)),ai&&(ai=clearInterval(ai))):(ai||(Xa=Pi.now(),ai=setInterval(K_,Dg)),Dn=1,Rg(au))}}function su(t,e,r){var n=new Ka;return e=e==null?0:+e,n.restart(i=>{n.stop(),t(i+e)},e,r),n}var Q_=mg("start","end","cancel","interrupt"),J_=[],Og=0,ou=1,hl=2,Sa=3,lu=4,ul=5,Ta=6;function Ts(t,e,r,n,i,a){var s=t.__transition;if(!s)t.__transition={};else if(r in s)return;t2(t,r,{name:e,index:n,group:i,on:Q_,tween:J_,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Og})}function pc(t,e){var r=ze(t,e);if(r.state>Og)throw new Error("too late; already scheduled");return r}function rr(t,e){var r=ze(t,e);if(r.state>Sa)throw new Error("too late; already running");return r}function ze(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function t2(t,e,r){var n=t.__transition,i;n[e]=r,r.timer=Pg(a,0,r.time);function a(c){r.state=ou,r.timer.restart(s,r.delay,r.time),r.delay<=c&&s(c-r.delay)}function s(c){var h,u,f,p;if(r.state!==ou)return l();for(h in n)if(p=n[h],p.name===r.name){if(p.state===Sa)return su(s);p.state===lu?(p.state=Ta,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete n[h]):+h<e&&(p.state=Ta,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete n[h])}if(su(function(){r.state===Sa&&(r.state=lu,r.timer.restart(o,r.delay,r.time),o(c))}),r.state=hl,r.on.call("start",t,t.__data__,r.index,r.group),r.state===hl){for(r.state=Sa,i=new Array(f=r.tween.length),h=0,u=-1;h<f;++h)(p=r.tween[h].value.call(t,t.__data__,r.index,r.group))&&(i[++u]=p);i.length=u+1}}function o(c){for(var h=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=ul,1),u=-1,f=i.length;++u<f;)i[u].call(t,h);r.state===ul&&(r.on.call("end",t,t.__data__,r.index,r.group),l())}function l(){r.state=Ta,r.timer.stop(),delete n[e];for(var c in n)return;delete t.__transition}}function e2(t,e){var r=t.__transition,n,i,a=!0,s;if(r){e=e==null?null:e+"";for(s in r){if((n=r[s]).name!==e){a=!1;continue}i=n.state>hl&&n.state<ul,n.state=Ta,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[s]}a&&delete t.__transition}}function r2(t){return this.each(function(){e2(this,t)})}function n2(t,e){var r,n;return function(){var i=rr(this,t),a=i.tween;if(a!==r){n=r=a;for(var s=0,o=n.length;s<o;++s)if(n[s].name===e){n=n.slice(),n.splice(s,1);break}}i.tween=n}}function i2(t,e,r){var n,i;if(typeof r!="function")throw new Error;return function(){var a=rr(this,t),s=a.tween;if(s!==n){i=(n=s).slice();for(var o={name:e,value:r},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=o;break}l===c&&i.push(o)}a.tween=i}}function a2(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=ze(this.node(),r).tween,i=0,a=n.length,s;i<a;++i)if((s=n[i]).name===t)return s.value;return null}return this.each((e==null?n2:i2)(r,t,e))}function dc(t,e,r){var n=t._id;return t.each(function(){var i=rr(this,n);(i.value||(i.value={}))[e]=r.apply(this,arguments)}),function(i){return ze(i,n).value[e]}}function Ng(t,e){var r;return(typeof e=="number"?kr:e instanceof Ri?nu:(r=Ri(e))?(e=r,nu):W_)(t,e)}function s2(t){return function(){this.removeAttribute(t)}}function o2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function l2(t,e,r){var n,i=r+"",a;return function(){var s=this.getAttribute(t);return s===i?null:s===n?a:a=e(n=s,r)}}function c2(t,e,r){var n,i=r+"",a;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===n?a:a=e(n=s,r)}}function h2(t,e,r){var n,i,a;return function(){var s,o=r(this),l;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=o+"",s===l?null:s===n&&l===i?a:(i=l,a=e(n=s,o)))}}function u2(t,e,r){var n,i,a;return function(){var s,o=r(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=o+"",s===l?null:s===n&&l===i?a:(i=l,a=e(n=s,o)))}}function f2(t,e){var r=vs(t),n=r==="transform"?V_:Ng;return this.attrTween(t,typeof e=="function"?(r.local?u2:h2)(r,n,dc(this,"attr."+t,e)):e==null?(r.local?o2:s2)(r):(r.local?c2:l2)(r,n,e))}function p2(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function d2(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function g2(t,e){var r,n;function i(){var a=e.apply(this,arguments);return a!==n&&(r=(n=a)&&d2(t,a)),r}return i._value=e,i}function m2(t,e){var r,n;function i(){var a=e.apply(this,arguments);return a!==n&&(r=(n=a)&&p2(t,a)),r}return i._value=e,i}function y2(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=vs(t);return this.tween(r,(n.local?g2:m2)(n,e))}function x2(t,e){return function(){pc(this,t).delay=+e.apply(this,arguments)}}function b2(t,e){return e=+e,function(){pc(this,t).delay=e}}function w2(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?x2:b2)(e,t)):ze(this.node(),e).delay}function C2(t,e){return function(){rr(this,t).duration=+e.apply(this,arguments)}}function k2(t,e){return e=+e,function(){rr(this,t).duration=e}}function _2(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?C2:k2)(e,t)):ze(this.node(),e).duration}function v2(t,e){if(typeof e!="function")throw new Error;return function(){rr(this,t).ease=e}}function S2(t){var e=this._id;return arguments.length?this.each(v2(e,t)):ze(this.node(),e).ease}function T2(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;rr(this,t).ease=r}}function E2(t){if(typeof t!="function")throw new Error;return this.each(T2(this._id,t))}function A2(t){typeof t!="function"&&(t=bg(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var a=e[i],s=a.length,o=n[i]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new pr(n,this._parents,this._name,this._id)}function L2(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,i=r.length,a=Math.min(n,i),s=new Array(n),o=0;o<a;++o)for(var l=e[o],c=r[o],h=l.length,u=s[o]=new Array(h),f,p=0;p<h;++p)(f=l[p]||c[p])&&(u[p]=f);for(;o<n;++o)s[o]=e[o];return new pr(s,this._parents,this._name,this._id)}function B2(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function M2(t,e,r){var n,i,a=B2(e)?pc:rr;return function(){var s=a(this,t),o=s.on;o!==n&&(i=(n=o).copy()).on(e,r),s.on=i}}function F2(t,e){var r=this._id;return arguments.length<2?ze(this.node(),r).on.on(t):this.each(M2(r,t,e))}function I2(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function $2(){return this.on("end.remove",I2(this._id))}function D2(t){var e=this._name,r=this._id;typeof t!="function"&&(t=lc(t));for(var n=this._groups,i=n.length,a=new Array(i),s=0;s<i;++s)for(var o=n[s],l=o.length,c=a[s]=new Array(l),h,u,f=0;f<l;++f)(h=o[f])&&(u=t.call(h,h.__data__,f,o))&&("__data__"in h&&(u.__data__=h.__data__),c[f]=u,Ts(c[f],e,r,f,c,ze(h,r)));return new pr(a,this._parents,e,r)}function R2(t){var e=this._name,r=this._id;typeof t!="function"&&(t=xg(t));for(var n=this._groups,i=n.length,a=[],s=[],o=0;o<i;++o)for(var l=n[o],c=l.length,h,u=0;u<c;++u)if(h=l[u]){for(var f=t.call(h,h.__data__,u,l),p,d=ze(h,r),m=0,x=f.length;m<x;++m)(p=f[m])&&Ts(p,e,r,m,f,d);a.push(f),s.push(h)}return new pr(a,s,e,r)}var P2=Vi.prototype.constructor;function O2(){return new P2(this._groups,this._parents)}function N2(t,e){var r,n,i;return function(){var a=$n(this,t),s=(this.style.removeProperty(t),$n(this,t));return a===s?null:a===r&&s===n?i:i=e(r=a,n=s)}}function zg(t){return function(){this.style.removeProperty(t)}}function z2(t,e,r){var n,i=r+"",a;return function(){var s=$n(this,t);return s===i?null:s===n?a:a=e(n=s,r)}}function q2(t,e,r){var n,i,a;return function(){var s=$n(this,t),o=r(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),$n(this,t))),s===l?null:s===n&&l===i?a:(i=l,a=e(n=s,o))}}function H2(t,e){var r,n,i,a="style."+e,s="end."+a,o;return function(){var l=rr(this,t),c=l.on,h=l.value[a]==null?o||(o=zg(e)):void 0;(c!==r||i!==h)&&(n=(r=c).copy()).on(s,i=h),l.on=n}}function W2(t,e,r){var n=(t+="")=="transform"?Y_:Ng;return e==null?this.styleTween(t,N2(t,n)).on("end.style."+t,zg(t)):typeof e=="function"?this.styleTween(t,q2(t,n,dc(this,"style."+t,e))).each(H2(this._id,t)):this.styleTween(t,z2(t,n,e),r).on("end.style."+t,null)}function j2(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function U2(t,e,r){var n,i;function a(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&j2(t,s,r)),n}return a._value=e,a}function Y2(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,U2(t,e,r??""))}function V2(t){return function(){this.textContent=t}}function G2(t){return function(){var e=t(this);this.textContent=e??""}}function X2(t){return this.tween("text",typeof t=="function"?G2(dc(this,"text",t)):V2(t==null?"":t+""))}function K2(t){return function(e){this.textContent=t.call(this,e)}}function Z2(t){var e,r;function n(){var i=t.apply(this,arguments);return i!==r&&(e=(r=i)&&K2(i)),e}return n._value=t,n}function Q2(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Z2(t))}function J2(){for(var t=this._name,e=this._id,r=qg(),n=this._groups,i=n.length,a=0;a<i;++a)for(var s=n[a],o=s.length,l,c=0;c<o;++c)if(l=s[c]){var h=ze(l,e);Ts(l,t,r,c,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new pr(n,this._parents,t,r)}function tv(){var t,e,r=this,n=r._id,i=r.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};r.each(function(){var c=rr(this,n),h=c.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),c.on=e}),i===0&&a()})}var ev=0;function pr(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function qg(){return++ev}var lr=Vi.prototype;pr.prototype={constructor:pr,select:D2,selectAll:R2,selectChild:lr.selectChild,selectChildren:lr.selectChildren,filter:A2,merge:L2,selection:O2,transition:J2,call:lr.call,nodes:lr.nodes,node:lr.node,size:lr.size,empty:lr.empty,each:lr.each,on:F2,attr:f2,attrTween:y2,style:W2,styleTween:Y2,text:X2,textTween:Q2,remove:$2,tween:a2,delay:w2,duration:_2,ease:S2,easeVarying:E2,end:tv,[Symbol.iterator]:lr[Symbol.iterator]};function rv(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var nv={time:null,delay:0,duration:250,ease:rv};function iv(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function av(t){var e,r;t instanceof pr?(e=t._id,t=t._name):(e=qg(),(r=nv).time=fc(),t=t==null?null:t+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var s=n[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&Ts(l,t,e,c,s,r||iv(l,e));return new pr(n,this._parents,t,e)}Vi.prototype.interrupt=r2;Vi.prototype.transition=av;const fl=Math.PI,pl=2*fl,Pr=1e-6,sv=pl-Pr;function Hg(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function ov(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Hg;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class lv{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Hg:ov(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,c=i-r,h=s-e,u=o-r,f=h*h+u*u;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>Pr)if(!(Math.abs(u*l-c*h)>Pr)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-s,d=i-o,m=l*l+c*c,x=p*p+d*d,y=Math.sqrt(m),b=Math.sqrt(f),C=a*Math.tan((fl-Math.acos((m+f-x)/(2*y*b)))/2),S=C/b,v=C/y;Math.abs(S-1)>Pr&&this._append`L${e+S*h},${r+S*u}`,this._append`A${a},${a},0,0,${+(u*p>h*d)},${this._x1=e+v*l},${this._y1=r+v*c}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=e+o,h=r+l,u=1^s,f=s?i-a:a-i;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>Pr||Math.abs(this._y1-h)>Pr)&&this._append`L${c},${h}`,n&&(f<0&&(f=f%pl+pl),f>sv?this._append`A${n},${n},0,1,${u},${e-o},${r-l}A${n},${n},0,1,${u},${this._x1=c},${this._y1=h}`:f>Pr&&this._append`A${n},${n},0,${+(f>=fl)},${u},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function hn(t){return function(){return t}}const P3=Math.abs,O3=Math.atan2,N3=Math.cos,z3=Math.max,q3=Math.min,H3=Math.sin,W3=Math.sqrt,cu=1e-12,gc=Math.PI,hu=gc/2,j3=2*gc;function U3(t){return t>1?0:t<-1?gc:Math.acos(t)}function Y3(t){return t>=1?hu:t<=-1?-hu:Math.asin(t)}function cv(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new lv(e)}function hv(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Wg(t){this._context=t}Wg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function jg(t){return new Wg(t)}function uv(t){return t[0]}function fv(t){return t[1]}function pv(t,e){var r=hn(!0),n=null,i=jg,a=null,s=cv(o);t=typeof t=="function"?t:t===void 0?uv:hn(t),e=typeof e=="function"?e:e===void 0?fv:hn(e);function o(l){var c,h=(l=hv(l)).length,u,f=!1,p;for(n==null&&(a=i(p=s())),c=0;c<=h;++c)!(c<h&&r(u=l[c],c,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(u,c,l),+e(u,c,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:hn(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:hn(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:hn(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}class Ug{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function dv(t){return new Ug(t,!0)}function gv(t){return new Ug(t,!1)}function Er(){}function Za(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Es(t){this._context=t}Es.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Za(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Za(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Yg(t){return new Es(t)}function Vg(t){this._context=t}Vg.prototype={areaStart:Er,areaEnd:Er,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Za(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mv(t){return new Vg(t)}function Gg(t){this._context=t}Gg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Za(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yv(t){return new Gg(t)}function Xg(t,e){this._basis=new Es(t),this._beta=e}Xg.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,r=t.length-1;if(r>0)for(var n=t[0],i=e[0],a=t[r]-n,s=e[r]-i,o=-1,l;++o<=r;)l=o/r,this._basis.point(this._beta*t[o]+(1-this._beta)*(n+l*a),this._beta*e[o]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const xv=function t(e){function r(n){return e===1?new Es(n):new Xg(n,e)}return r.beta=function(n){return t(+n)},r}(.85);function Qa(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function mc(t,e){this._context=t,this._k=(1-e)/6}mc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Qa(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Qa(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const bv=function t(e){function r(n){return new mc(n,e)}return r.tension=function(n){return t(+n)},r}(0);function yc(t,e){this._context=t,this._k=(1-e)/6}yc.prototype={areaStart:Er,areaEnd:Er,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Qa(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const wv=function t(e){function r(n){return new yc(n,e)}return r.tension=function(n){return t(+n)},r}(0);function xc(t,e){this._context=t,this._k=(1-e)/6}xc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Qa(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Cv=function t(e){function r(n){return new xc(n,e)}return r.tension=function(n){return t(+n)},r}(0);function bc(t,e,r){var n=t._x1,i=t._y1,a=t._x2,s=t._y2;if(t._l01_a>cu){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);n=(n*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>cu){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/h,s=(s*c+t._y1*t._l23_2a-r*t._l12_2a)/h}t._context.bezierCurveTo(n,i,a,s,t._x2,t._y2)}function Kg(t,e){this._context=t,this._alpha=e}Kg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:bc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const kv=function t(e){function r(n){return e?new Kg(n,e):new mc(n,0)}return r.alpha=function(n){return t(+n)},r}(.5);function Zg(t,e){this._context=t,this._alpha=e}Zg.prototype={areaStart:Er,areaEnd:Er,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:bc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const _v=function t(e){function r(n){return e?new Zg(n,e):new yc(n,0)}return r.alpha=function(n){return t(+n)},r}(.5);function Qg(t,e){this._context=t,this._alpha=e}Qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:bc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const vv=function t(e){function r(n){return e?new Qg(n,e):new xc(n,0)}return r.alpha=function(n){return t(+n)},r}(.5);function Jg(t){this._context=t}Jg.prototype={areaStart:Er,areaEnd:Er,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Sv(t){return new Jg(t)}function uu(t){return t<0?-1:1}function fu(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(uu(a)+uu(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function pu(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function lo(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function Ja(t){this._context=t}Ja.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lo(this,this._t0,pu(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,lo(this,pu(this,r=fu(this,t,e)),r);break;default:lo(this,this._t0,r=fu(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function tm(t){this._context=new em(t)}(tm.prototype=Object.create(Ja.prototype)).point=function(t,e){Ja.prototype.point.call(this,e,t)};function em(t){this._context=t}em.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function Tv(t){return new Ja(t)}function Ev(t){return new tm(t)}function rm(t){this._context=t}rm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=du(t),i=du(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function du(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Av(t){return new rm(t)}function As(t,e){this._context=t,this._t=e}As.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Lv(t){return new As(t,.5)}function Bv(t){return new As(t,0)}function Mv(t){return new As(t,1)}function yi(t,e,r){this.k=t,this.x=e,this.y=r}yi.prototype={constructor:yi,scale:function(t){return t===1?this:new yi(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new yi(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};yi.prototype;var nm=typeof global=="object"&&global&&global.Object===Object&&global,Fv=typeof self=="object"&&self&&self.Object===Object&&self,nr=nm||Fv||Function("return this")(),ts=nr.Symbol,im=Object.prototype,Iv=im.hasOwnProperty,$v=im.toString,si=ts?ts.toStringTag:void 0;function Dv(t){var e=Iv.call(t,si),r=t[si];try{t[si]=void 0;var n=!0}catch{}var i=$v.call(t);return n&&(e?t[si]=r:delete t[si]),i}var Rv=Object.prototype,Pv=Rv.toString;function Ov(t){return Pv.call(t)}var Nv="[object Null]",zv="[object Undefined]",gu=ts?ts.toStringTag:void 0;function zn(t){return t==null?t===void 0?zv:Nv:gu&&gu in Object(t)?Dv(t):Ov(t)}function tn(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var qv="[object AsyncFunction]",Hv="[object Function]",Wv="[object GeneratorFunction]",jv="[object Proxy]";function wc(t){if(!tn(t))return!1;var e=zn(t);return e==Hv||e==Wv||e==qv||e==jv}var co=nr["__core-js_shared__"],mu=function(){var t=/[^.]+$/.exec(co&&co.keys&&co.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Uv(t){return!!mu&&mu in t}var Yv=Function.prototype,Vv=Yv.toString;function en(t){if(t!=null){try{return Vv.call(t)}catch{}try{return t+""}catch{}}return""}var Gv=/[\\^$.*+?()[\]{}|]/g,Xv=/^\[object .+?Constructor\]$/,Kv=Function.prototype,Zv=Object.prototype,Qv=Kv.toString,Jv=Zv.hasOwnProperty,tS=RegExp("^"+Qv.call(Jv).replace(Gv,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eS(t){if(!tn(t)||Uv(t))return!1;var e=wc(t)?tS:Xv;return e.test(en(t))}function rS(t,e){return t==null?void 0:t[e]}function rn(t,e){var r=rS(t,e);return eS(r)?r:void 0}var Oi=rn(Object,"create");function nS(){this.__data__=Oi?Oi(null):{},this.size=0}function iS(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var aS="__lodash_hash_undefined__",sS=Object.prototype,oS=sS.hasOwnProperty;function lS(t){var e=this.__data__;if(Oi){var r=e[t];return r===aS?void 0:r}return oS.call(e,t)?e[t]:void 0}var cS=Object.prototype,hS=cS.hasOwnProperty;function uS(t){var e=this.__data__;return Oi?e[t]!==void 0:hS.call(e,t)}var fS="__lodash_hash_undefined__";function pS(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Oi&&e===void 0?fS:e,this}function Zr(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Zr.prototype.clear=nS;Zr.prototype.delete=iS;Zr.prototype.get=lS;Zr.prototype.has=uS;Zr.prototype.set=pS;function dS(){this.__data__=[],this.size=0}function Ls(t,e){return t===e||t!==t&&e!==e}function Bs(t,e){for(var r=t.length;r--;)if(Ls(t[r][0],e))return r;return-1}var gS=Array.prototype,mS=gS.splice;function yS(t){var e=this.__data__,r=Bs(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():mS.call(e,r,1),--this.size,!0}function xS(t){var e=this.__data__,r=Bs(e,t);return r<0?void 0:e[r][1]}function bS(t){return Bs(this.__data__,t)>-1}function wS(t,e){var r=this.__data__,n=Bs(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function gr(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}gr.prototype.clear=dS;gr.prototype.delete=yS;gr.prototype.get=xS;gr.prototype.has=bS;gr.prototype.set=wS;var Ni=rn(nr,"Map");function CS(){this.size=0,this.__data__={hash:new Zr,map:new(Ni||gr),string:new Zr}}function kS(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Ms(t,e){var r=t.__data__;return kS(e)?r[typeof e=="string"?"string":"hash"]:r.map}function _S(t){var e=Ms(this,t).delete(t);return this.size-=e?1:0,e}function vS(t){return Ms(this,t).get(t)}function SS(t){return Ms(this,t).has(t)}function TS(t,e){var r=Ms(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Mr(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Mr.prototype.clear=CS;Mr.prototype.delete=_S;Mr.prototype.get=vS;Mr.prototype.has=SS;Mr.prototype.set=TS;var ES="Expected a function";function Xi(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(ES);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(Xi.Cache||Mr),r}Xi.Cache=Mr;function AS(){this.__data__=new gr,this.size=0}function LS(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function BS(t){return this.__data__.get(t)}function MS(t){return this.__data__.has(t)}var FS=200;function IS(t,e){var r=this.__data__;if(r instanceof gr){var n=r.__data__;if(!Ni||n.length<FS-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Mr(n)}return r.set(t,e),this.size=r.size,this}function qn(t){var e=this.__data__=new gr(t);this.size=e.size}qn.prototype.clear=AS;qn.prototype.delete=LS;qn.prototype.get=BS;qn.prototype.has=MS;qn.prototype.set=IS;var es=function(){try{var t=rn(Object,"defineProperty");return t({},"",{}),t}catch{}}();function Cc(t,e,r){e=="__proto__"&&es?es(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function dl(t,e,r){(r!==void 0&&!Ls(t[e],r)||r===void 0&&!(e in t))&&Cc(t,e,r)}function $S(t){return function(e,r,n){for(var i=-1,a=Object(e),s=n(e),o=s.length;o--;){var l=s[++i];if(r(a[l],l,a)===!1)break}return e}}var DS=$S(),am=typeof exports=="object"&&exports&&!exports.nodeType&&exports,yu=am&&typeof module=="object"&&module&&!module.nodeType&&module,RS=yu&&yu.exports===am,xu=RS?nr.Buffer:void 0,bu=xu?xu.allocUnsafe:void 0;function PS(t,e){if(e)return t.slice();var r=t.length,n=bu?bu(r):new t.constructor(r);return t.copy(n),n}var wu=nr.Uint8Array;function OS(t){var e=new t.constructor(t.byteLength);return new wu(e).set(new wu(t)),e}function NS(t,e){var r=e?OS(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function zS(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Cu=Object.create,qS=function(){function t(){}return function(e){if(!tn(e))return{};if(Cu)return Cu(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function sm(t,e){return function(r){return t(e(r))}}var om=sm(Object.getPrototypeOf,Object),HS=Object.prototype;function Fs(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||HS;return t===r}function WS(t){return typeof t.constructor=="function"&&!Fs(t)?qS(om(t)):{}}function Ki(t){return t!=null&&typeof t=="object"}var jS="[object Arguments]";function ku(t){return Ki(t)&&zn(t)==jS}var lm=Object.prototype,US=lm.hasOwnProperty,YS=lm.propertyIsEnumerable,rs=ku(function(){return arguments}())?ku:function(t){return Ki(t)&&US.call(t,"callee")&&!YS.call(t,"callee")},ns=Array.isArray,VS=9007199254740991;function cm(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=VS}function Is(t){return t!=null&&cm(t.length)&&!wc(t)}function GS(t){return Ki(t)&&Is(t)}function XS(){return!1}var hm=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_u=hm&&typeof module=="object"&&module&&!module.nodeType&&module,KS=_u&&_u.exports===hm,vu=KS?nr.Buffer:void 0,ZS=vu?vu.isBuffer:void 0,kc=ZS||XS,QS="[object Object]",JS=Function.prototype,tT=Object.prototype,um=JS.toString,eT=tT.hasOwnProperty,rT=um.call(Object);function nT(t){if(!Ki(t)||zn(t)!=QS)return!1;var e=om(t);if(e===null)return!0;var r=eT.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&um.call(r)==rT}var iT="[object Arguments]",aT="[object Array]",sT="[object Boolean]",oT="[object Date]",lT="[object Error]",cT="[object Function]",hT="[object Map]",uT="[object Number]",fT="[object Object]",pT="[object RegExp]",dT="[object Set]",gT="[object String]",mT="[object WeakMap]",yT="[object ArrayBuffer]",xT="[object DataView]",bT="[object Float32Array]",wT="[object Float64Array]",CT="[object Int8Array]",kT="[object Int16Array]",_T="[object Int32Array]",vT="[object Uint8Array]",ST="[object Uint8ClampedArray]",TT="[object Uint16Array]",ET="[object Uint32Array]",Ft={};Ft[bT]=Ft[wT]=Ft[CT]=Ft[kT]=Ft[_T]=Ft[vT]=Ft[ST]=Ft[TT]=Ft[ET]=!0;Ft[iT]=Ft[aT]=Ft[yT]=Ft[sT]=Ft[xT]=Ft[oT]=Ft[lT]=Ft[cT]=Ft[hT]=Ft[uT]=Ft[fT]=Ft[pT]=Ft[dT]=Ft[gT]=Ft[mT]=!1;function AT(t){return Ki(t)&&cm(t.length)&&!!Ft[zn(t)]}function LT(t){return function(e){return t(e)}}var fm=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Si=fm&&typeof module=="object"&&module&&!module.nodeType&&module,BT=Si&&Si.exports===fm,ho=BT&&nm.process,Su=function(){try{var t=Si&&Si.require&&Si.require("util").types;return t||ho&&ho.binding&&ho.binding("util")}catch{}}(),Tu=Su&&Su.isTypedArray,_c=Tu?LT(Tu):AT;function gl(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var MT=Object.prototype,FT=MT.hasOwnProperty;function IT(t,e,r){var n=t[e];(!(FT.call(t,e)&&Ls(n,r))||r===void 0&&!(e in t))&&Cc(t,e,r)}function $T(t,e,r,n){var i=!r;r||(r={});for(var a=-1,s=e.length;++a<s;){var o=e[a],l=void 0;l===void 0&&(l=t[o]),i?Cc(r,o,l):IT(r,o,l)}return r}function DT(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var RT=9007199254740991,PT=/^(?:0|[1-9]\d*)$/;function pm(t,e){var r=typeof t;return e=e??RT,!!e&&(r=="number"||r!="symbol"&&PT.test(t))&&t>-1&&t%1==0&&t<e}var OT=Object.prototype,NT=OT.hasOwnProperty;function zT(t,e){var r=ns(t),n=!r&&rs(t),i=!r&&!n&&kc(t),a=!r&&!n&&!i&&_c(t),s=r||n||i||a,o=s?DT(t.length,String):[],l=o.length;for(var c in t)(e||NT.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||pm(c,l)))&&o.push(c);return o}function qT(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var HT=Object.prototype,WT=HT.hasOwnProperty;function jT(t){if(!tn(t))return qT(t);var e=Fs(t),r=[];for(var n in t)n=="constructor"&&(e||!WT.call(t,n))||r.push(n);return r}function dm(t){return Is(t)?zT(t,!0):jT(t)}function UT(t){return $T(t,dm(t))}function YT(t,e,r,n,i,a,s){var o=gl(t,r),l=gl(e,r),c=s.get(l);if(c){dl(t,r,c);return}var h=a?a(o,l,r+"",t,e,s):void 0,u=h===void 0;if(u){var f=ns(l),p=!f&&kc(l),d=!f&&!p&&_c(l);h=l,f||p||d?ns(o)?h=o:GS(o)?h=zS(o):p?(u=!1,h=PS(l,!0)):d?(u=!1,h=NS(l,!0)):h=[]:nT(l)||rs(l)?(h=o,rs(o)?h=UT(o):(!tn(o)||wc(o))&&(h=WS(l))):u=!1}u&&(s.set(l,h),i(h,l,n,a,s),s.delete(l)),dl(t,r,h)}function gm(t,e,r,n,i){t!==e&&DS(e,function(a,s){if(i||(i=new qn),tn(a))YT(t,e,s,r,gm,n,i);else{var o=n?n(gl(t,s),a,s+"",t,e,i):void 0;o===void 0&&(o=a),dl(t,s,o)}},dm)}function mm(t){return t}function VT(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Eu=Math.max;function GT(t,e,r){return e=Eu(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=Eu(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(s),VT(t,this,o)}}function XT(t){return function(){return t}}var KT=es?function(t,e){return es(t,"toString",{configurable:!0,enumerable:!1,value:XT(e),writable:!0})}:mm,ZT=800,QT=16,JT=Date.now;function tE(t){var e=0,r=0;return function(){var n=JT(),i=QT-(n-r);if(r=n,i>0){if(++e>=ZT)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var eE=tE(KT);function rE(t,e){return eE(GT(t,e,mm),t+"")}function nE(t,e,r){if(!tn(r))return!1;var n=typeof e;return(n=="number"?Is(r)&&pm(e,r.length):n=="string"&&e in r)?Ls(r[e],t):!1}function iE(t){return rE(function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,s&&nE(r[0],r[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var o=r[n];o&&t(e,o,n,a)}return e})}var aE=iE(function(t,e,r){gm(t,e,r)}),sE="​",oE={curveBasis:Yg,curveBasisClosed:mv,curveBasisOpen:yv,curveBumpX:dv,curveBumpY:gv,curveBundle:xv,curveCardinalClosed:wv,curveCardinalOpen:Cv,curveCardinal:bv,curveCatmullRomClosed:_v,curveCatmullRomOpen:vv,curveCatmullRom:kv,curveLinear:jg,curveLinearClosed:Sv,curveMonotoneX:Tv,curveMonotoneY:Ev,curveNatural:Av,curveStep:Lv,curveStepAfter:Mv,curveStepBefore:Bv},lE=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,cE=g(function(t,e){const r=ym(t,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(r)){const s=r.map(o=>o.args);$a(s),n=Gt(n,[...s])}else n=r.args;if(!n)return;let i=Vl(t,e);const a="config";return n[a]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[a],delete n[a]),n},"detectInit"),ym=g(function(t,e=null){var r,n;try{const i=new RegExp(`[%]{2}(?![{]${lE.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(i,"").replace(/'/gm,'"'),z.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let a;const s=[];for(;(a=_i.exec(t))!==null;)if(a.index===_i.lastIndex&&_i.lastIndex++,a&&!e||e&&((r=a[1])!=null&&r.match(e))||e&&((n=a[2])!=null&&n.match(e))){const o=a[1]?a[1]:a[2],l=a[3]?a[3].trim():a[4]?JSON.parse(a[4].trim()):null;s.push({type:o,args:l})}return s.length===0?{type:t,args:null}:s.length===1?s[0]:s}catch(i){return z.error(`ERROR: ${i.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),hE=g(function(t){return t.replace(_i,"")},"removeDirectives"),uE=g(function(t,e){for(const[r,n]of e.entries())if(n.match(t))return r;return-1},"isSubstringInArray");function vc(t,e){if(!t)return e;const r=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return oE[r]??e}g(vc,"interpolateToCurve");function xm(t,e){const r=t.trim();if(r)return e.securityLevel!=="loose"?gg(r):r}g(xm,"formatUrl");var fE=g((t,...e)=>{const r=t.split("."),n=r.length-1,i=r[n];let a=window;for(let s=0;s<n;s++)if(a=a[r[s]],!a){z.error(`Function name: ${t} not found in window`);return}a[i](...e)},"runFunc");function Sc(t,e){return!t||!e?0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}g(Sc,"distance");function bm(t){let e,r=0;t.forEach(i=>{r+=Sc(i,e),e=i});const n=r/2;return Tc(t,n)}g(bm,"traverseEdge");function wm(t){return t.length===1?t[0]:bm(t)}g(wm,"calcLabelPosition");var Au=g((t,e=2)=>{const r=Math.pow(10,e);return Math.round(t*r)/r},"roundNumber"),Tc=g((t,e)=>{let r,n=e;for(const i of t){if(r){const a=Sc(i,r);if(a<n)n-=a;else{const s=n/a;if(s<=0)return r;if(s>=1)return{x:i.x,y:i.y};if(s>0&&s<1)return{x:Au((1-s)*r.x+s*i.x,5),y:Au((1-s)*r.y+s*i.y,5)}}}r=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),pE=g((t,e,r)=>{z.info(`our points ${JSON.stringify(e)}`),e[0]!==r&&(e=e.reverse());const i=Tc(e,25),a=t?10:5,s=Math.atan2(e[0].y-i.y,e[0].x-i.x),o={x:0,y:0};return o.x=Math.sin(s)*a+(e[0].x+i.x)/2,o.y=-Math.cos(s)*a+(e[0].y+i.y)/2,o},"calcCardinalityPosition");function Cm(t,e,r){const n=structuredClone(r);z.info("our points",n),e!=="start_left"&&e!=="start_right"&&n.reverse();const i=25+t,a=Tc(n,i),s=10+t*.5,o=Math.atan2(n[0].y-a.y,n[0].x-a.x),l={x:0,y:0};return e==="start_left"?(l.x=Math.sin(o+Math.PI)*s+(n[0].x+a.x)/2,l.y=-Math.cos(o+Math.PI)*s+(n[0].y+a.y)/2):e==="end_right"?(l.x=Math.sin(o-Math.PI)*s+(n[0].x+a.x)/2-5,l.y=-Math.cos(o-Math.PI)*s+(n[0].y+a.y)/2-5):e==="end_left"?(l.x=Math.sin(o)*s+(n[0].x+a.x)/2-5,l.y=-Math.cos(o)*s+(n[0].y+a.y)/2-5):(l.x=Math.sin(o)*s+(n[0].x+a.x)/2,l.y=-Math.cos(o)*s+(n[0].y+a.y)/2),l}g(Cm,"calcTerminalLabelPosition");function km(t){let e="",r="";for(const n of t)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":e=e+n+";");return{style:e,labelStyle:r}}g(km,"getStylesFromArray");var Lu=0,dE=g(()=>(Lu++,"id-"+Math.random().toString(36).substr(2,12)+"-"+Lu),"generateId");function _m(t){let e="";const r="0123456789abcdef",n=r.length;for(let i=0;i<t;i++)e+=r.charAt(Math.floor(Math.random()*n));return e}g(_m,"makeRandomHex");var gE=g(t=>_m(t.length),"random"),mE=g(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),yE=g(function(t,e){const r=e.text.replace(Nn.lineBreakRegex," "),[,n]=$s(e.fontSize),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.style("text-anchor",e.anchor),i.style("font-family",e.fontFamily),i.style("font-size",n),i.style("font-weight",e.fontWeight),i.attr("fill",e.fill),e.class!==void 0&&i.attr("class",e.class);const a=i.append("tspan");return a.attr("x",e.x+e.textMargin*2),a.attr("fill",e.fill),a.text(r),i},"drawSimpleText"),xE=Xi((t,e,r)=>{if(!t||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),Nn.lineBreakRegex.test(t)))return t;const n=t.split(" ").filter(Boolean),i=[];let a="";return n.forEach((s,o)=>{const l=Rn(`${s} `,r),c=Rn(a,r);if(l>e){const{hyphenatedStrings:f,remainingWord:p}=bE(s,e,"-",r);i.push(a,...f),a=p}else c+l>=e?(i.push(a),a=s):a=[a,s].filter(Boolean).join(" ");o+1===n.length&&i.push(a)}),i.filter(s=>s!=="").join(r.joinWith)},(t,e,r)=>`${t}${e}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),bE=Xi((t,e,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const i=[...t],a=[];let s="";return i.forEach((o,l)=>{const c=`${s}${o}`;if(Rn(c,n)>=e){const u=l+1,f=i.length===u,p=`${c}${r}`;a.push(f?c:p),s=""}else s=c}),{hyphenatedStrings:a,remainingWord:s}},(t,e,r="-",n)=>`${t}${e}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);function vm(t,e){return Ec(t,e).height}g(vm,"calculateTextHeight");function Rn(t,e){return Ec(t,e).width}g(Rn,"calculateTextWidth");var Ec=Xi((t,e)=>{const{fontSize:r=12,fontFamily:n="Arial",fontWeight:i=400}=e;if(!t)return{width:0,height:0};const[,a]=$s(r),s=["sans-serif",n],o=t.split(Nn.lineBreakRegex),l=[],c=kt("body");if(!c.remove)return{width:0,height:0,lineHeight:0};const h=c.append("svg");for(const f of s){let p=0;const d={width:0,height:0,lineHeight:0};for(const m of o){const x=mE();x.text=m||sE;const y=yE(h,x).style("font-size",a).style("font-weight",i).style("font-family",f),b=(y._groups||y)[0][0].getBBox();if(b.width===0&&b.height===0)throw new Error("svg element not in render tree");d.width=Math.round(Math.max(d.width,b.width)),p=Math.round(b.height),d.height+=p,d.lineHeight=Math.round(Math.max(d.lineHeight,p))}l.push(d)}h.remove();const u=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[u]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),Tn,wE=(Tn=class{constructor(e=!1,r){this.count=0,this.count=r?r.length:0,this.next=e?()=>this.count++:()=>Date.now()}},g(Tn,"InitIDGenerator"),Tn),ha,CE=g(function(t){return ha=ha||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),ha.innerHTML=t,unescape(ha.textContent)},"entityDecode");function Ac(t){return"str"in t}g(Ac,"isDetailedError");var kE=g((t,e,r,n)=>{var a;if(!n)return;const i=(a=t.node())==null?void 0:a.getBBox();i&&t.append("text").text(n).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-r).attr("class",e)},"insertTitle"),$s=g(t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function Lc(t,e){return aE({},t,e)}g(Lc,"cleanAndMerge");var Ve={assignWithDepth:Gt,wrapLabel:xE,calculateTextHeight:vm,calculateTextWidth:Rn,calculateTextDimensions:Ec,cleanAndMerge:Lc,detectInit:cE,detectDirective:ym,isSubstringInArray:uE,interpolateToCurve:vc,calcLabelPosition:wm,calcCardinalityPosition:pE,calcTerminalLabelPosition:Cm,formatUrl:xm,getStylesFromArray:km,generateId:dE,random:gE,runFunc:fE,entityDecode:CE,insertTitle:kE,parseFontSize:$s,InitIDGenerator:wE},_E=g(function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),e=e.replace(/#\w+;/g,function(r){const n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?"ﬂ°°"+n+"¶ß":"ﬂ°"+n+"¶ß"}),e},"encodeEntities"),Hn=g(function(t){return t.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),V3=g((t,e,{counter:r=0,prefix:n,suffix:i})=>`${n?`${n}_`:""}${t}_${e}_${r}${i?`_${i}`:""}`,"getEdgeId");function oe(t){return t??null}g(oe,"handleUndefinedAttr");function Bc(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let nn=Bc();function Sm(t){nn=t}const Tm=/[&<>"']/,vE=new RegExp(Tm.source,"g"),Em=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,SE=new RegExp(Em.source,"g"),TE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Bu=t=>TE[t];function Ce(t,e){if(e){if(Tm.test(t))return t.replace(vE,Bu)}else if(Em.test(t))return t.replace(SE,Bu);return t}const EE=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function AE(t){return t.replace(EE,(e,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}const LE=/(^|[^\[])\^/g;function St(t,e){let r=typeof t=="string"?t:t.source;e=e||"";const n={replace:(i,a)=>{let s=typeof a=="string"?a:a.source;return s=s.replace(LE,"$1"),r=r.replace(i,s),n},getRegex:()=>new RegExp(r,e)};return n}function Mu(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Ti={exec:()=>null};function Fu(t,e){const r=t.replace(/\|/g,(a,s,o)=>{let l=!1,c=s;for(;--c>=0&&o[c]==="\\";)l=!l;return l?"|":" |"}),n=r.split(/ \|/);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function oi(t,e,r){const n=t.length;if(n===0)return"";let i=0;for(;i<n;){const a=t.charAt(n-i-1);if(a===e&&!r)i++;else if(a!==e&&r)i++;else break}return t.slice(0,n-i)}function BE(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let n=0;n<t.length;n++)if(t[n]==="\\")n++;else if(t[n]===e[0])r++;else if(t[n]===e[1]&&(r--,r<0))return n;return-1}function Iu(t,e,r,n){const i=e.href,a=e.title?Ce(e.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){n.state.inLink=!0;const o={type:"link",raw:r,href:i,title:a,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,o}return{type:"image",raw:r,href:i,title:a,text:Ce(s)}}function ME(t,e){const r=t.match(/^(\s+)(?:```)/);if(r===null)return e;const n=r[1];return e.split(`
`).map(i=>{const a=i.match(/^\s+/);if(a===null)return i;const[s]=a;return s.length>=n.length?i.slice(n.length):i}).join(`
`)}class is{constructor(e){Lt(this,"options");Lt(this,"rules");Lt(this,"lexer");this.options=e||nn}space(e){const r=this.rules.block.newline.exec(e);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(e){const r=this.rules.block.code.exec(e);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:oi(n,`
`)}}}fences(e){const r=this.rules.block.fences.exec(e);if(r){const n=r[0],i=ME(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:i}}}heading(e){const r=this.rules.block.heading.exec(e);if(r){let n=r[2].trim();if(/#$/.test(n)){const i=oi(n,"#");(this.options.pedantic||!i||/ $/.test(i))&&(n=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const r=this.rules.block.hr.exec(e);if(r)return{type:"hr",raw:oi(r[0],`
`)}}blockquote(e){const r=this.rules.block.blockquote.exec(e);if(r){let n=oi(r[0],`
`).split(`
`),i="",a="";const s=[];for(;n.length>0;){let o=!1;const l=[];let c;for(c=0;c<n.length;c++)if(/^ {0,3}>/.test(n[c]))l.push(n[c]),o=!0;else if(!o)l.push(n[c]);else break;n=n.slice(c);const h=l.join(`
`),u=h.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");i=i?`${i}
${h}`:h,a=a?`${a}
${u}`:u;const f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,s,!0),this.lexer.state.top=f,n.length===0)break;const p=s[s.length-1];if((p==null?void 0:p.type)==="code")break;if((p==null?void 0:p.type)==="blockquote"){const d=p,m=d.raw+`
`+n.join(`
`),x=this.blockquote(m);s[s.length-1]=x,i=i.substring(0,i.length-d.raw.length)+x.raw,a=a.substring(0,a.length-d.text.length)+x.text;break}else if((p==null?void 0:p.type)==="list"){const d=p,m=d.raw+`
`+n.join(`
`),x=this.list(m);s[s.length-1]=x,i=i.substring(0,i.length-p.raw.length)+x.raw,a=a.substring(0,a.length-d.raw.length)+x.raw,n=m.substring(s[s.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:s,text:a}}}list(e){let r=this.rules.block.list.exec(e);if(r){let n=r[1].trim();const i=n.length>1,a={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const s=new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`);let o=!1;for(;e;){let l=!1,c="",h="";if(!(r=s.exec(e))||this.rules.block.hr.test(e))break;c=r[0],e=e.substring(c.length);let u=r[2].split(`
`,1)[0].replace(/^\t+/,y=>" ".repeat(3*y.length)),f=e.split(`
`,1)[0],p=!u.trim(),d=0;if(this.options.pedantic?(d=2,h=u.trimStart()):p?d=r[1].length+1:(d=r[2].search(/[^ ]/),d=d>4?1:d,h=u.slice(d),d+=r[1].length),p&&/^ *$/.test(f)&&(c+=f+`
`,e=e.substring(f.length+1),l=!0),!l){const y=new RegExp(`^ {0,${Math.min(3,d-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),b=new RegExp(`^ {0,${Math.min(3,d-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),C=new RegExp(`^ {0,${Math.min(3,d-1)}}(?:\`\`\`|~~~)`),S=new RegExp(`^ {0,${Math.min(3,d-1)}}#`);for(;e;){const v=e.split(`
`,1)[0];if(f=v,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),C.test(f)||S.test(f)||y.test(f)||b.test(e))break;if(f.search(/[^ ]/)>=d||!f.trim())h+=`
`+f.slice(d);else{if(p||u.search(/[^ ]/)>=4||C.test(u)||S.test(u)||b.test(u))break;h+=`
`+f}!p&&!f.trim()&&(p=!0),c+=v+`
`,e=e.substring(v.length+1),u=f.slice(d)}}a.loose||(o?a.loose=!0:/\n *\n *$/.test(c)&&(o=!0));let m=null,x;this.options.gfm&&(m=/^\[[ xX]\] /.exec(h),m&&(x=m[0]!=="[ ] ",h=h.replace(/^\[[ xX]\] +/,""))),a.items.push({type:"list_item",raw:c,task:!!m,checked:x,loose:!1,text:h,tokens:[]}),a.raw+=c}a.items[a.items.length-1].raw=a.items[a.items.length-1].raw.trimEnd(),a.items[a.items.length-1].text=a.items[a.items.length-1].text.trimEnd(),a.raw=a.raw.trimEnd();for(let l=0;l<a.items.length;l++)if(this.lexer.state.top=!1,a.items[l].tokens=this.lexer.blockTokens(a.items[l].text,[]),!a.loose){const c=a.items[l].tokens.filter(u=>u.type==="space"),h=c.length>0&&c.some(u=>/\n.*\n/.test(u.raw));a.loose=h}if(a.loose)for(let l=0;l<a.items.length;l++)a.items[l].loose=!0;return a}}html(e){const r=this.rules.block.html.exec(e);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(e){const r=this.rules.block.def.exec(e);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),i=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:i,title:a}}}table(e){const r=this.rules.block.table.exec(e);if(!r||!/[:|]/.test(r[2]))return;const n=Fu(r[1]),i=r[2].replace(/^\||\| *$/g,"").split("|"),a=r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split(`
`):[],s={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===i.length){for(const o of i)/^ *-+: *$/.test(o)?s.align.push("right"):/^ *:-+: *$/.test(o)?s.align.push("center"):/^ *:-+ *$/.test(o)?s.align.push("left"):s.align.push(null);for(let o=0;o<n.length;o++)s.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:s.align[o]});for(const o of a)s.rows.push(Fu(o,s.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:s.align[c]})));return s}}lheading(e){const r=this.rules.block.lheading.exec(e);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(e){const r=this.rules.block.paragraph.exec(e);if(r){const n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const r=this.rules.block.text.exec(e);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(e){const r=this.rules.inline.escape.exec(e);if(r)return{type:"escape",raw:r[0],text:Ce(r[1])}}tag(e){const r=this.rules.inline.tag.exec(e);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(e){const r=this.rules.inline.link.exec(e);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const s=oi(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{const s=BE(r[2],"()");if(s>-1){const l=(r[0].indexOf("!")===0?5:4)+r[1].length+s;r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let i=r[2],a="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);s&&(i=s[1],a=s[3])}else a=r[3]?r[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(n)?i=i.slice(1):i=i.slice(1,-1)),Iu(r,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer)}}reflink(e,r){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const i=(n[2]||n[1]).replace(/\s+/g," "),a=r[i.toLowerCase()];if(!a){const s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return Iu(n,a,n[0],this.lexer)}}emStrong(e,r,n=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const s=[...i[0]].length-1;let o,l,c=s,h=0;const u=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,r=r.slice(-1*e.length+s);(i=u.exec(r))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(l=[...o].length,i[3]||i[4]){c+=l;continue}else if((i[5]||i[6])&&s%3&&!((s+l)%3)){h+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+h);const f=[...i[0]][0].length,p=e.slice(0,s+i.index+f+l);if(Math.min(s,l)%2){const m=p.slice(1,-1);return{type:"em",raw:p,text:m,tokens:this.lexer.inlineTokens(m)}}const d=p.slice(2,-2);return{type:"strong",raw:p,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(e){const r=this.rules.inline.code.exec(e);if(r){let n=r[2].replace(/\n/g," ");const i=/[^ ]/.test(n),a=/^ /.test(n)&&/ $/.test(n);return i&&a&&(n=n.substring(1,n.length-1)),n=Ce(n,!0),{type:"codespan",raw:r[0],text:n}}}br(e){const r=this.rules.inline.br.exec(e);if(r)return{type:"br",raw:r[0]}}del(e){const r=this.rules.inline.del.exec(e);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(e){const r=this.rules.inline.autolink.exec(e);if(r){let n,i;return r[2]==="@"?(n=Ce(r[1]),i="mailto:"+n):(n=Ce(r[1]),i=n),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let r;if(r=this.rules.inline.url.exec(e)){let i,a;if(r[2]==="@")i=Ce(r[0]),a="mailto:"+i;else{let s;do s=r[0],r[0]=((n=this.rules.inline._backpedal.exec(r[0]))==null?void 0:n[0])??"";while(s!==r[0]);i=Ce(r[0]),r[1]==="www."?a="http://"+r[0]:a=r[0]}return{type:"link",raw:r[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const r=this.rules.inline.text.exec(e);if(r){let n;return this.lexer.state.inRawBlock?n=r[0]:n=Ce(r[0]),{type:"text",raw:r[0],text:n}}}}const FE=/^(?: *(?:\n|$))+/,IE=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,$E=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Zi=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,DE=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Am=/(?:[*+-]|\d{1,9}[.)])/,Lm=St(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Am).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Mc=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,RE=/^[^\n]+/,Fc=/(?!\s*\])(?:\\.|[^\[\]\\])+/,PE=St(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Fc).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),OE=St(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Am).getRegex(),Ds="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ic=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,NE=St("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Ic).replace("tag",Ds).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Bm=St(Mc).replace("hr",Zi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ds).getRegex(),zE=St(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Bm).getRegex(),$c={blockquote:zE,code:IE,def:PE,fences:$E,heading:DE,hr:Zi,html:NE,lheading:Lm,list:OE,newline:FE,paragraph:Bm,table:Ti,text:RE},$u=St("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Zi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ds).getRegex(),qE={...$c,table:$u,paragraph:St(Mc).replace("hr",Zi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",$u).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ds).getRegex()},HE={...$c,html:St(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ic).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ti,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:St(Mc).replace("hr",Zi).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Lm).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Mm=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,WE=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Fm=/^( {2,}|\\)\n(?!\s*$)/,jE=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Qi="\\p{P}\\p{S}",UE=St(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Qi).getRegex(),YE=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,VE=St(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Qi).getRegex(),GE=St("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Qi).getRegex(),XE=St("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Qi).getRegex(),KE=St(/\\([punct])/,"gu").replace(/punct/g,Qi).getRegex(),ZE=St(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),QE=St(Ic).replace("(?:-->|$)","-->").getRegex(),JE=St("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",QE).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),as=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,tA=St(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",as).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Im=St(/^!?\[(label)\]\[(ref)\]/).replace("label",as).replace("ref",Fc).getRegex(),$m=St(/^!?\[(ref)\](?:\[\])?/).replace("ref",Fc).getRegex(),eA=St("reflink|nolink(?!\\()","g").replace("reflink",Im).replace("nolink",$m).getRegex(),Dc={_backpedal:Ti,anyPunctuation:KE,autolink:ZE,blockSkip:YE,br:Fm,code:WE,del:Ti,emStrongLDelim:VE,emStrongRDelimAst:GE,emStrongRDelimUnd:XE,escape:Mm,link:tA,nolink:$m,punctuation:UE,reflink:Im,reflinkSearch:eA,tag:JE,text:jE,url:Ti},rA={...Dc,link:St(/^!?\[(label)\]\((.*?)\)/).replace("label",as).getRegex(),reflink:St(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",as).getRegex()},ml={...Dc,escape:St(Mm).replace("])","~|])").getRegex(),url:St(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},nA={...ml,br:St(Fm).replace("{2,}","*").getRegex(),text:St(ml.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ua={normal:$c,gfm:qE,pedantic:HE},li={normal:Dc,gfm:ml,breaks:nA,pedantic:rA};class Xe{constructor(e){Lt(this,"tokens");Lt(this,"options");Lt(this,"state");Lt(this,"tokenizer");Lt(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||nn,this.options.tokenizer=this.options.tokenizer||new is,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:ua.normal,inline:li.normal};this.options.pedantic?(r.block=ua.pedantic,r.inline=li.pedantic):this.options.gfm&&(r.block=ua.gfm,this.options.breaks?r.inline=li.breaks:r.inline=li.gfm),this.tokenizer.rules=r}static get rules(){return{block:ua,inline:li}}static lex(e,r){return new Xe(r).lex(e)}static lexInline(e,r){return new Xe(r).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){const n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],n=!1){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(o,l,c)=>l+"    ".repeat(c.length));let i,a,s;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(i=o.call({lexer:this},e,r))?(e=e.substring(i.raw.length),r.push(i),!0):!1))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),i.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),a=r[r.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),a=r[r.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+i.raw,a.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=a.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),r.push(i);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const l=e.slice(1);let c;this.options.extensions.startBlock.forEach(h=>{c=h.call({lexer:this},l),typeof c=="number"&&c>=0&&(o=Math.min(o,c))}),o<1/0&&o>=0&&(s=e.substring(0,o+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){a=r[r.length-1],n&&(a==null?void 0:a.type)==="paragraph"?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(i),n=s.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),a=r[r.length-1],a&&a.type==="text"?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(i);continue}if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){let n,i,a,s=e,o,l,c;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)h.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,o.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>(n=h.call({lexer:this},e,r))?(e=e.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(e,s,c)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(e)){e=e.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e))){e=e.substring(n.raw.length),r.push(n);continue}if(a=e,this.options.extensions&&this.options.extensions.startInline){let h=1/0;const u=e.slice(1);let f;this.options.extensions.startInline.forEach(p=>{f=p.call({lexer:this},u),typeof f=="number"&&f>=0&&(h=Math.min(h,f))}),h<1/0&&h>=0&&(a=e.substring(0,h+1))}if(n=this.tokenizer.inlineText(a)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(c=n.raw.slice(-1)),l=!0,i=r[r.length-1],i&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return r}}class ss{constructor(e){Lt(this,"options");Lt(this,"parser");this.options=e||nn}space(e){return""}code({text:e,lang:r,escaped:n}){var s;const i=(s=(r||"").match(/^\S*/))==null?void 0:s[0],a=e.replace(/\n$/,"")+`
`;return i?'<pre><code class="language-'+Ce(i)+'">'+(n?a:Ce(a,!0))+`</code></pre>
`:"<pre><code>"+(n?a:Ce(a,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:r}){return`<h${r}>${this.parser.parseInline(e)}</h${r}>
`}hr(e){return`<hr>
`}list(e){const r=e.ordered,n=e.start;let i="";for(let o=0;o<e.items.length;o++){const l=e.items[o];i+=this.listitem(l)}const a=r?"ol":"ul",s=r&&n!==1?' start="'+n+'"':"";return"<"+a+s+`>
`+i+"</"+a+`>
`}listitem(e){let r="";if(e.task){const n=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=n+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" "}):r+=n+" "}return r+=this.parser.parse(e.tokens,!!e.loose),`<li>${r}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let r="",n="";for(let a=0;a<e.header.length;a++)n+=this.tablecell(e.header[a]);r+=this.tablerow({text:n});let i="";for(let a=0;a<e.rows.length;a++){const s=e.rows[a];n="";for(let o=0;o<s.length;o++)n+=this.tablecell(s[o]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const r=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:r,tokens:n}){const i=this.parser.parseInline(n),a=Mu(e);if(a===null)return i;e=a;let s='<a href="'+e+'"';return r&&(s+=' title="'+r+'"'),s+=">"+i+"</a>",s}image({href:e,title:r,text:n}){const i=Mu(e);if(i===null)return n;e=i;let a=`<img src="${e}" alt="${n}"`;return r&&(a+=` title="${r}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class Rc{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class Ke{constructor(e){Lt(this,"options");Lt(this,"renderer");Lt(this,"textRenderer");this.options=e||nn,this.options.renderer=this.options.renderer||new ss,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Rc}static parse(e,r){return new Ke(r).parse(e)}static parseInline(e,r){return new Ke(r).parseInline(e)}parse(e,r=!0){let n="";for(let i=0;i<e.length;i++){const a=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const o=a,l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){n+=l||"";continue}}const s=a;switch(s.type){case"space":{n+=this.renderer.space(s);continue}case"hr":{n+=this.renderer.hr(s);continue}case"heading":{n+=this.renderer.heading(s);continue}case"code":{n+=this.renderer.code(s);continue}case"table":{n+=this.renderer.table(s);continue}case"blockquote":{n+=this.renderer.blockquote(s);continue}case"list":{n+=this.renderer.list(s);continue}case"html":{n+=this.renderer.html(s);continue}case"paragraph":{n+=this.renderer.paragraph(s);continue}case"text":{let o=s,l=this.renderer.text(o);for(;i+1<e.length&&e[i+1].type==="text";)o=e[++i],l+=`
`+this.renderer.text(o);r?n+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l}]}):n+=l;continue}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}parseInline(e,r){r=r||this.renderer;let n="";for(let i=0;i<e.length;i++){const a=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const o=this.options.extensions.renderers[a.type].call({parser:this},a);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){n+=o||"";continue}}const s=a;switch(s.type){case"escape":{n+=r.text(s);break}case"html":{n+=r.html(s);break}case"link":{n+=r.link(s);break}case"image":{n+=r.image(s);break}case"strong":{n+=r.strong(s);break}case"em":{n+=r.em(s);break}case"codespan":{n+=r.codespan(s);break}case"br":{n+=r.br(s);break}case"del":{n+=r.del(s);break}case"text":{n+=r.text(s);break}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}}class Ei{constructor(e){Lt(this,"options");this.options=e||nn}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}Lt(Ei,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var dr,Dm,yl,Rm;class iA{constructor(...e){Sh(this,dr);Lt(this,"defaults",Bc());Lt(this,"options",this.setOptions);Lt(this,"parse",Jn(this,dr,yl).call(this,Xe.lex,Ke.parse));Lt(this,"parseInline",Jn(this,dr,yl).call(this,Xe.lexInline,Ke.parseInline));Lt(this,"Parser",Ke);Lt(this,"Renderer",ss);Lt(this,"TextRenderer",Rc);Lt(this,"Lexer",Xe);Lt(this,"Tokenizer",is);Lt(this,"Hooks",Ei);this.use(...e)}walkTokens(e,r){var i,a;let n=[];for(const s of e)switch(n=n.concat(r.call(this,s)),s.type){case"table":{const o=s;for(const l of o.header)n=n.concat(this.walkTokens(l.tokens,r));for(const l of o.rows)for(const c of l)n=n.concat(this.walkTokens(c.tokens,r));break}case"list":{const o=s;n=n.concat(this.walkTokens(o.items,r));break}default:{const o=s;(a=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&a[o.type]?this.defaults.extensions.childTokens[o.type].forEach(l=>{const c=o[l].flat(1/0);n=n.concat(this.walkTokens(c,r))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,r)))}}return n}use(...e){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const s=r.renderers[a.name];s?r.renderers[a.name]=function(...o){let l=a.renderer.apply(this,o);return l===!1&&(l=s.apply(this,o)),l}:r.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=r[a.level];s?s.unshift(a.tokenizer):r[a.level]=[a.tokenizer],a.start&&(a.level==="block"?r.startBlock?r.startBlock.push(a.start):r.startBlock=[a.start]:a.level==="inline"&&(r.startInline?r.startInline.push(a.start):r.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(r.childTokens[a.name]=a.childTokens)}),i.extensions=r),n.renderer){const a=this.defaults.renderer||new ss(this.defaults);for(const s in n.renderer){if(!(s in a))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const o=s;let l=n.renderer[o];n.useNewRenderer||(l=Jn(this,dr,Dm).call(this,l,o,a));const c=a[o];a[o]=(...h)=>{let u=l.apply(a,h);return u===!1&&(u=c.apply(a,h)),u||""}}i.renderer=a}if(n.tokenizer){const a=this.defaults.tokenizer||new is(this.defaults);for(const s in n.tokenizer){if(!(s in a))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const o=s,l=n.tokenizer[o],c=a[o];a[o]=(...h)=>{let u=l.apply(a,h);return u===!1&&(u=c.apply(a,h)),u}}i.tokenizer=a}if(n.hooks){const a=this.defaults.hooks||new Ei;for(const s in n.hooks){if(!(s in a))throw new Error(`hook '${s}' does not exist`);if(s==="options")continue;const o=s,l=n.hooks[o],c=a[o];Ei.passThroughHooks.has(s)?a[o]=h=>{if(this.defaults.async)return Promise.resolve(l.call(a,h)).then(f=>c.call(a,f));const u=l.call(a,h);return c.call(a,u)}:a[o]=(...h)=>{let u=l.apply(a,h);return u===!1&&(u=c.apply(a,h)),u}}i.hooks=a}if(n.walkTokens){const a=this.defaults.walkTokens,s=n.walkTokens;i.walkTokens=function(o){let l=[];return l.push(s.call(this,o)),a&&(l=l.concat(a.call(this,o))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,r){return Xe.lex(e,r??this.defaults)}parser(e,r){return Ke.parse(e,r??this.defaults)}}dr=new WeakSet,Dm=function(e,r,n){switch(r){case"heading":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,n.parser.parseInline(i.tokens),i.depth,AE(n.parser.parseInline(i.tokens,n.parser.textRenderer)))};case"code":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.text,i.lang,!!i.escaped)};case"table":return function(i){if(!i.type||i.type!==r)return e.apply(this,arguments);let a="",s="";for(let l=0;l<i.header.length;l++)s+=this.tablecell({text:i.header[l].text,tokens:i.header[l].tokens,header:!0,align:i.align[l]});a+=this.tablerow({text:s});let o="";for(let l=0;l<i.rows.length;l++){const c=i.rows[l];s="";for(let h=0;h<c.length;h++)s+=this.tablecell({text:c[h].text,tokens:c[h].tokens,header:!1,align:i.align[h]});o+=this.tablerow({text:s})}return e.call(this,a,o)};case"blockquote":return function(i){if(!i.type||i.type!==r)return e.apply(this,arguments);const a=this.parser.parse(i.tokens);return e.call(this,a)};case"list":return function(i){if(!i.type||i.type!==r)return e.apply(this,arguments);const a=i.ordered,s=i.start,o=i.loose;let l="";for(let c=0;c<i.items.length;c++){const h=i.items[c],u=h.checked,f=h.task;let p="";if(h.task){const d=this.checkbox({checked:!!u});o?h.tokens.length>0&&h.tokens[0].type==="paragraph"?(h.tokens[0].text=d+" "+h.tokens[0].text,h.tokens[0].tokens&&h.tokens[0].tokens.length>0&&h.tokens[0].tokens[0].type==="text"&&(h.tokens[0].tokens[0].text=d+" "+h.tokens[0].tokens[0].text)):h.tokens.unshift({type:"text",text:d+" "}):p+=d+" "}p+=this.parser.parse(h.tokens,o),l+=this.listitem({type:"list_item",raw:p,text:p,task:f,checked:!!u,loose:o,tokens:h.tokens})}return e.call(this,l,a,s)};case"html":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.text,i.block)};case"paragraph":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"escape":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.text)};case"link":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.href,i.title,this.parser.parseInline(i.tokens))};case"image":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.href,i.title,i.text)};case"strong":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"em":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"codespan":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.text)};case"del":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"text":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.text)}}return e},yl=function(e,r){return(n,i)=>{const a={...i},s={...this.defaults,...a};this.defaults.async===!0&&a.async===!1&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);const o=Jn(this,dr,Rm).call(this,!!s.silent,!!s.async);if(typeof n>"u"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(n):n).then(l=>e(l,s)).then(l=>s.hooks?s.hooks.processAllTokens(l):l).then(l=>s.walkTokens?Promise.all(this.walkTokens(l,s.walkTokens)).then(()=>l):l).then(l=>r(l,s)).then(l=>s.hooks?s.hooks.postprocess(l):l).catch(o);try{s.hooks&&(n=s.hooks.preprocess(n));let l=e(n,s);s.hooks&&(l=s.hooks.processAllTokens(l)),s.walkTokens&&this.walkTokens(l,s.walkTokens);let c=r(l,s);return s.hooks&&(c=s.hooks.postprocess(c)),c}catch(l){return o(l)}}},Rm=function(e,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+Ce(n.message+"",!0)+"</pre>";return r?Promise.resolve(i):i}if(r)return Promise.reject(n);throw n}};const Qr=new iA;function vt(t,e){return Qr.parse(t,e)}vt.options=vt.setOptions=function(t){return Qr.setOptions(t),vt.defaults=Qr.defaults,Sm(vt.defaults),vt};vt.getDefaults=Bc;vt.defaults=nn;vt.use=function(...t){return Qr.use(...t),vt.defaults=Qr.defaults,Sm(vt.defaults),vt};vt.walkTokens=function(t,e){return Qr.walkTokens(t,e)};vt.parseInline=Qr.parseInline;vt.Parser=Ke;vt.parser=Ke.parse;vt.Renderer=ss;vt.TextRenderer=Rc;vt.Lexer=Xe;vt.lexer=Xe.lex;vt.Tokenizer=is;vt.Hooks=Ei;vt.parse=vt;vt.options;vt.setOptions;vt.use;vt.walkTokens;vt.parseInline;Ke.parse;Xe.lex;function Pm(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Array.from(typeof t=="string"?[t]:t);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(o,l){var c=l.match(/\n([\t ]+|(?!\s).)/g);return c?o.concat(c.map(function(h){var u,f;return(f=(u=h.match(/[\t ]/g))===null||u===void 0?void 0:u.length)!==null&&f!==void 0?f:0})):o},[]);if(i.length){var a=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(o){return o.replace(a,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var s=n[0];return e.forEach(function(o,l){var c=s.match(/(?:^|\n)( *)$/),h=c?c[1]:"",u=o;typeof o=="string"&&o.includes(`
`)&&(u=String(o).split(`
`).map(function(f,p){return p===0?f:""+h+f}).join(`
`)),s+=u+n[l+1]}),s}function Om(t,{markdownAutoWrap:e}){const n=t.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),i=Pm(n);return e===!1?i.replace(/ /g,"&nbsp;"):i}g(Om,"preprocessMarkdown");function Nm(t,e={}){const r=Om(t,e),n=vt.lexer(r),i=[[]];let a=0;function s(o,l="normal"){o.type==="text"?o.text.split(`
`).forEach((h,u)=>{u!==0&&(a++,i.push([])),h.split(" ").forEach(f=>{f=f.replace(/&#39;/g,"'"),f&&i[a].push({content:f,type:l})})}):o.type==="strong"||o.type==="em"?o.tokens.forEach(c=>{s(c,o.type)}):o.type==="html"&&i[a].push({content:o.text,type:"normal"})}return g(s,"processNode"),n.forEach(o=>{var l;o.type==="paragraph"?(l=o.tokens)==null||l.forEach(c=>{s(c)}):o.type==="html"&&i[a].push({content:o.text,type:"normal"})}),i}g(Nm,"markdownToLines");function zm(t,{markdownAutoWrap:e}={}){const r=vt.lexer(t);function n(i){var a,s,o;return i.type==="text"?e===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${(a=i.tokens)==null?void 0:a.map(n).join("")}</strong>`:i.type==="em"?`<em>${(s=i.tokens)==null?void 0:s.map(n).join("")}</em>`:i.type==="paragraph"?`<p>${(o=i.tokens)==null?void 0:o.map(n).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:i.type==="escape"?i.text:`Unsupported markdown: ${i.type}`}return g(n,"output"),r.map(n).join("")}g(zm,"markdownToHTML");function qm(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(e=>e.segment):[...t]}g(qm,"splitTextToChars");function Hm(t,e){const r=qm(e.content);return Pc(t,[],r,e.type)}g(Hm,"splitWordToFitWidth");function Pc(t,e,r,n){if(r.length===0)return[{content:e.join(""),type:n},{content:"",type:n}];const[i,...a]=r,s=[...e,i];return t([{content:s.join(""),type:n}])?Pc(t,s,a,n):(e.length===0&&i&&(e.push(i),r.shift()),[{content:e.join(""),type:n},{content:r.join(""),type:n}])}g(Pc,"splitWordToFitWidthRecursion");function Wm(t,e){if(t.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return os(t,e)}g(Wm,"splitLineToFitWidth");function os(t,e,r=[],n=[]){if(t.length===0)return n.length>0&&r.push(n),r.length>0?r:[];let i="";t[0].content===" "&&(i=" ",t.shift());const a=t.shift()??{content:" ",type:"normal"},s=[...n];if(i!==""&&s.push({content:i,type:"normal"}),s.push(a),e(s))return os(t,e,r,s);if(n.length>0)r.push(n),t.unshift(a);else if(a.content){const[o,l]=Hm(e,a);r.push([o]),l.content&&t.unshift(l)}return os(t,e,r)}g(os,"splitLineToFitWidthRecursion");function xl(t,e){e&&t.attr("style",e)}g(xl,"applyStyle");async function jm(t,e,r,n,i=!1){const a=t.append("foreignObject");a.attr("width",`${10*r}px`),a.attr("height",`${10*r}px`);const s=a.append("xhtml:div");let o=e.label;e.label&&Mn(e.label)&&(o=await Gl(e.label.replace(Nn.lineBreakRegex,`
`),_t()));const l=e.isNode?"nodeLabel":"edgeLabel",c=s.append("span");c.html(o),xl(c,e.labelStyle),c.attr("class",`${l} ${n}`),xl(s,e.labelStyle),s.style("display","table-cell"),s.style("white-space","nowrap"),s.style("line-height","1.5"),s.style("max-width",r+"px"),s.style("text-align","center"),s.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&s.attr("class","labelBkg");let h=s.node().getBoundingClientRect();return h.width===r&&(s.style("display","table"),s.style("white-space","break-spaces"),s.style("width",r+"px"),h=s.node().getBoundingClientRect()),a.node()}g(jm,"addHtmlSpan");function Rs(t,e,r){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*r-.1+"em").attr("dy",r+"em")}g(Rs,"createTspan");function Um(t,e,r){const n=t.append("text"),i=Rs(n,1,e);Ps(i,r);const a=i.node().getComputedTextLength();return n.remove(),a}g(Um,"computeWidthOfText");function aA(t,e,r){var s;const n=t.append("text"),i=Rs(n,1,e);Ps(i,[{content:r,type:"normal"}]);const a=(s=i.node())==null?void 0:s.getBoundingClientRect();return a&&n.remove(),a}g(aA,"computeDimensionOfText");function Ym(t,e,r,n=!1){const a=e.append("g"),s=a.insert("rect").attr("class","background").attr("style","stroke: none"),o=a.append("text").attr("y","-10.1");let l=0;for(const c of r){const h=g(f=>Um(a,1.1,f)<=t,"checkWidth"),u=h(c)?[c]:Wm(c,h);for(const f of u){const p=Rs(o,l,1.1);Ps(p,f),l++}}if(n){const c=o.node().getBBox(),h=2;return s.attr("x",c.x-h).attr("y",c.y-h).attr("width",c.width+2*h).attr("height",c.height+2*h),a.node()}else return o.node()}g(Ym,"createFormattedText");function Ps(t,e){t.text(""),e.forEach((r,n)=>{const i=t.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");n===0?i.text(r.content):i.text(" "+r.content)})}g(Ps,"updateTextContentAndStyles");function Vm(t){return t.replace(/fa[bklrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`)}g(Vm,"replaceIconSubstring");var Wn=g(async(t,e="",{style:r="",isTitle:n=!1,classes:i="",useHtmlLabels:a=!0,isNode:s=!0,width:o=200,addSvgBackground:l=!1}={},c)=>{if(z.debug("XYZ createText",e,r,n,i,a,s,"addSvgBackground: ",l),a){const h=zm(e,c),u=Vm(Hn(h)),f=e.replace(/\\\\/g,"\\"),p={isNode:s,label:Mn(e)?f:u,labelStyle:r.replace("fill:","color:")};return await jm(t,p,o,i,l)}else{const h=e.replace(/<br\s*\/?>/g,"<br/>"),u=Nm(h.replace("<br>","<br/>"),c),f=Ym(o,t,u,e?l:!1);if(s){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");kt(f).attr("style",p)}else{const p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");kt(f).select("rect").attr("style",p.replace(/background:/g,"fill:"));const d=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");kt(f).select("text").attr("style",d)}return f}},"createText");function uo(t,e,r){if(t&&t.length){const[n,i]=e,a=Math.PI/180*r,s=Math.cos(a),o=Math.sin(a);for(const l of t){const[c,h]=l;l[0]=(c-n)*s-(h-i)*o+n,l[1]=(c-n)*o+(h-i)*s+i}}}function sA(t,e){return t[0]===e[0]&&t[1]===e[1]}function oA(t,e,r,n=1){const i=r,a=Math.max(e,.1),s=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,o=[0,0];if(i)for(const c of s)uo(c,o,i);const l=function(c,h,u){const f=[];for(const b of c){const C=[...b];sA(C[0],C[C.length-1])||C.push([C[0][0],C[0][1]]),C.length>2&&f.push(C)}const p=[];h=Math.max(h,.1);const d=[];for(const b of f)for(let C=0;C<b.length-1;C++){const S=b[C],v=b[C+1];if(S[1]!==v[1]){const _=Math.min(S[1],v[1]);d.push({ymin:_,ymax:Math.max(S[1],v[1]),x:_===S[1]?S[0]:v[0],islope:(v[0]-S[0])/(v[1]-S[1])})}}if(d.sort((b,C)=>b.ymin<C.ymin?-1:b.ymin>C.ymin?1:b.x<C.x?-1:b.x>C.x?1:b.ymax===C.ymax?0:(b.ymax-C.ymax)/Math.abs(b.ymax-C.ymax)),!d.length)return p;let m=[],x=d[0].ymin,y=0;for(;m.length||d.length;){if(d.length){let b=-1;for(let C=0;C<d.length&&!(d[C].ymin>x);C++)b=C;d.splice(0,b+1).forEach(C=>{m.push({s:x,edge:C})})}if(m=m.filter(b=>!(b.edge.ymax<=x)),m.sort((b,C)=>b.edge.x===C.edge.x?0:(b.edge.x-C.edge.x)/Math.abs(b.edge.x-C.edge.x)),(u!==1||y%h==0)&&m.length>1)for(let b=0;b<m.length;b+=2){const C=b+1;if(C>=m.length)break;const S=m[b].edge,v=m[C].edge;p.push([[Math.round(S.x),x],[Math.round(v.x),x]])}x+=u,m.forEach(b=>{b.edge.x=b.edge.x+u*b.edge.islope}),y++}return p}(s,a,n);if(i){for(const c of s)uo(c,o,-i);(function(c,h,u){const f=[];c.forEach(p=>f.push(...p)),uo(f,h,u)})(l,o,-i)}return l}function Ji(t,e){var r;const n=e.hachureAngle+90;let i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.round(Math.max(i,.1));let a=1;return e.roughness>=1&&(((r=e.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(a=i),oA(t,i,n,a||1)}class Oc{constructor(e){this.helper=e}fillPolygons(e,r){return this._fillPolygons(e,r)}_fillPolygons(e,r){const n=Ji(e,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(e,r){const n=[];for(const i of e)n.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],r));return n}}function Os(t){const e=t[0],r=t[1];return Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2))}class lA extends Oc{fillPolygons(e,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);const i=Ji(e,Object.assign({},r,{hachureGap:n})),a=Math.PI/180*r.hachureAngle,s=[],o=.5*n*Math.cos(a),l=.5*n*Math.sin(a);for(const[c,h]of i)Os([c,h])&&s.push([[c[0]-o,c[1]+l],[...h]],[[c[0]+o,c[1]-l],[...h]]);return{type:"fillSketch",ops:this.renderLines(s,r)}}}class cA extends Oc{fillPolygons(e,r){const n=this._fillPolygons(e,r),i=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),a=this._fillPolygons(e,i);return n.ops=n.ops.concat(a.ops),n}}class hA{constructor(e){this.helper=e}fillPolygons(e,r){const n=Ji(e,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(e,r){const n=[];let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);let a=r.fillWeight;a<0&&(a=r.strokeWidth/2);const s=i/4;for(const o of e){const l=Os(o),c=l/i,h=Math.ceil(c)-1,u=l-h*i,f=(o[0][0]+o[1][0])/2-i/4,p=Math.min(o[0][1],o[1][1]);for(let d=0;d<h;d++){const m=p+u+d*i,x=f-s+2*Math.random()*s,y=m-s+2*Math.random()*s,b=this.helper.ellipse(x,y,a,a,r);n.push(...b.ops)}}return{type:"fillSketch",ops:n}}}class uA{constructor(e){this.helper=e}fillPolygons(e,r){const n=Ji(e,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(e,r){const n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,i=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,a=[];return e.forEach(s=>{const o=Os(s),l=Math.floor(o/(n+i)),c=(o+i-l*(n+i))/2;let h=s[0],u=s[1];h[0]>u[0]&&(h=s[1],u=s[0]);const f=Math.atan((u[1]-h[1])/(u[0]-h[0]));for(let p=0;p<l;p++){const d=p*(n+i),m=d+n,x=[h[0]+d*Math.cos(f)+c*Math.cos(f),h[1]+d*Math.sin(f)+c*Math.sin(f)],y=[h[0]+m*Math.cos(f)+c*Math.cos(f),h[1]+m*Math.sin(f)+c*Math.sin(f)];a.push(...this.helper.doubleLineOps(x[0],x[1],y[0],y[1],r))}}),a}}class fA{constructor(e){this.helper=e}fillPolygons(e,r){const n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,i=r.zigzagOffset<0?n:r.zigzagOffset,a=Ji(e,r=Object.assign({},r,{hachureGap:n+i}));return{type:"fillSketch",ops:this.zigzagLines(a,i,r)}}zigzagLines(e,r,n){const i=[];return e.forEach(a=>{const s=Os(a),o=Math.round(s/(2*r));let l=a[0],c=a[1];l[0]>c[0]&&(l=a[1],c=a[0]);const h=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let u=0;u<o;u++){const f=2*u*r,p=2*(u+1)*r,d=Math.sqrt(2*Math.pow(r,2)),m=[l[0]+f*Math.cos(h),l[1]+f*Math.sin(h)],x=[l[0]+p*Math.cos(h),l[1]+p*Math.sin(h)],y=[m[0]+d*Math.cos(h+Math.PI/4),m[1]+d*Math.sin(h+Math.PI/4)];i.push(...this.helper.doubleLineOps(m[0],m[1],y[0],y[1],n),...this.helper.doubleLineOps(y[0],y[1],x[0],x[1],n))}}),i}}const pe={};class pA{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const dA=0,fo=1,Du=2,fa={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function po(t,e){return t.type===e}function Nc(t){const e=[],r=function(s){const o=new Array;for(;s!=="";)if(s.match(/^([ \t\r\n,]+)/))s=s.substr(RegExp.$1.length);else if(s.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:dA,text:RegExp.$1},s=s.substr(RegExp.$1.length);else{if(!s.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:fo,text:`${parseFloat(RegExp.$1)}`},s=s.substr(RegExp.$1.length)}return o[o.length]={type:Du,text:""},o}(t);let n="BOD",i=0,a=r[i];for(;!po(a,Du);){let s=0;const o=[];if(n==="BOD"){if(a.text!=="M"&&a.text!=="m")return Nc("M0,0"+t);i++,s=fa[a.text],n=a.text}else po(a,fo)?s=fa[n]:(i++,s=fa[a.text],n=a.text);if(!(i+s<r.length))throw new Error("Path data ended short");for(let l=i;l<i+s;l++){const c=r[l];if(!po(c,fo))throw new Error("Param not a number: "+n+","+c.text);o[o.length]=+c.text}if(typeof fa[n]!="number")throw new Error("Bad segment: "+n);{const l={key:n,data:o};e.push(l),i+=s,a=r[i],n==="M"&&(n="L"),n==="m"&&(n="l")}}return e}function Gm(t){let e=0,r=0,n=0,i=0;const a=[];for(const{key:s,data:o}of t)switch(s){case"M":a.push({key:"M",data:[...o]}),[e,r]=o,[n,i]=o;break;case"m":e+=o[0],r+=o[1],a.push({key:"M",data:[e,r]}),n=e,i=r;break;case"L":a.push({key:"L",data:[...o]}),[e,r]=o;break;case"l":e+=o[0],r+=o[1],a.push({key:"L",data:[e,r]});break;case"C":a.push({key:"C",data:[...o]}),e=o[4],r=o[5];break;case"c":{const l=o.map((c,h)=>h%2?c+r:c+e);a.push({key:"C",data:l}),e=l[4],r=l[5];break}case"Q":a.push({key:"Q",data:[...o]}),e=o[2],r=o[3];break;case"q":{const l=o.map((c,h)=>h%2?c+r:c+e);a.push({key:"Q",data:l}),e=l[2],r=l[3];break}case"A":a.push({key:"A",data:[...o]}),e=o[5],r=o[6];break;case"a":e+=o[5],r+=o[6],a.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],e,r]});break;case"H":a.push({key:"H",data:[...o]}),e=o[0];break;case"h":e+=o[0],a.push({key:"H",data:[e]});break;case"V":a.push({key:"V",data:[...o]}),r=o[0];break;case"v":r+=o[0],a.push({key:"V",data:[r]});break;case"S":a.push({key:"S",data:[...o]}),e=o[2],r=o[3];break;case"s":{const l=o.map((c,h)=>h%2?c+r:c+e);a.push({key:"S",data:l}),e=l[2],r=l[3];break}case"T":a.push({key:"T",data:[...o]}),e=o[0],r=o[1];break;case"t":e+=o[0],r+=o[1],a.push({key:"T",data:[e,r]});break;case"Z":case"z":a.push({key:"Z",data:[]}),e=n,r=i}return a}function Xm(t){const e=[];let r="",n=0,i=0,a=0,s=0,o=0,l=0;for(const{key:c,data:h}of t){switch(c){case"M":e.push({key:"M",data:[...h]}),[n,i]=h,[a,s]=h;break;case"C":e.push({key:"C",data:[...h]}),n=h[4],i=h[5],o=h[2],l=h[3];break;case"L":e.push({key:"L",data:[...h]}),[n,i]=h;break;case"H":n=h[0],e.push({key:"L",data:[n,i]});break;case"V":i=h[0],e.push({key:"L",data:[n,i]});break;case"S":{let u=0,f=0;r==="C"||r==="S"?(u=n+(n-o),f=i+(i-l)):(u=n,f=i),e.push({key:"C",data:[u,f,...h]}),o=h[0],l=h[1],n=h[2],i=h[3];break}case"T":{const[u,f]=h;let p=0,d=0;r==="Q"||r==="T"?(p=n+(n-o),d=i+(i-l)):(p=n,d=i);const m=n+2*(p-n)/3,x=i+2*(d-i)/3,y=u+2*(p-u)/3,b=f+2*(d-f)/3;e.push({key:"C",data:[m,x,y,b,u,f]}),o=p,l=d,n=u,i=f;break}case"Q":{const[u,f,p,d]=h,m=n+2*(u-n)/3,x=i+2*(f-i)/3,y=p+2*(u-p)/3,b=d+2*(f-d)/3;e.push({key:"C",data:[m,x,y,b,p,d]}),o=u,l=f,n=p,i=d;break}case"A":{const u=Math.abs(h[0]),f=Math.abs(h[1]),p=h[2],d=h[3],m=h[4],x=h[5],y=h[6];u===0||f===0?(e.push({key:"C",data:[n,i,x,y,x,y]}),n=x,i=y):(n!==x||i!==y)&&(Km(n,i,x,y,u,f,p,d,m).forEach(function(b){e.push({key:"C",data:b})}),n=x,i=y);break}case"Z":e.push({key:"Z",data:[]}),n=a,i=s}r=c}return e}function ci(t,e,r){return[t*Math.cos(r)-e*Math.sin(r),t*Math.sin(r)+e*Math.cos(r)]}function Km(t,e,r,n,i,a,s,o,l,c){const h=(u=s,Math.PI*u/180);var u;let f=[],p=0,d=0,m=0,x=0;if(c)[p,d,m,x]=c;else{[t,e]=ci(t,e,-h),[r,n]=ci(r,n,-h);const N=(t-r)/2,$=(e-n)/2;let I=N*N/(i*i)+$*$/(a*a);I>1&&(I=Math.sqrt(I),i*=I,a*=I);const A=i*i,B=a*a,L=A*B-A*$*$-B*N*N,W=A*$*$+B*N*N,w=(o===l?-1:1)*Math.sqrt(Math.abs(L/W));m=w*i*$/a+(t+r)/2,x=w*-a*N/i+(e+n)/2,p=Math.asin(parseFloat(((e-x)/a).toFixed(9))),d=Math.asin(parseFloat(((n-x)/a).toFixed(9))),t<m&&(p=Math.PI-p),r<m&&(d=Math.PI-d),p<0&&(p=2*Math.PI+p),d<0&&(d=2*Math.PI+d),l&&p>d&&(p-=2*Math.PI),!l&&d>p&&(d-=2*Math.PI)}let y=d-p;if(Math.abs(y)>120*Math.PI/180){const N=d,$=r,I=n;d=l&&d>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,f=Km(r=m+i*Math.cos(d),n=x+a*Math.sin(d),$,I,i,a,s,0,l,[d,N,m,x])}y=d-p;const b=Math.cos(p),C=Math.sin(p),S=Math.cos(d),v=Math.sin(d),_=Math.tan(y/4),F=4/3*i*_,P=4/3*a*_,q=[t,e],O=[t+F*C,e-P*b],E=[r+F*v,n-P*S],R=[r,n];if(O[0]=2*q[0]-O[0],O[1]=2*q[1]-O[1],c)return[O,E,R].concat(f);{f=[O,E,R].concat(f);const N=[];for(let $=0;$<f.length;$+=3){const I=ci(f[$][0],f[$][1],h),A=ci(f[$+1][0],f[$+1][1],h),B=ci(f[$+2][0],f[$+2][1],h);N.push([I[0],I[1],A[0],A[1],B[0],B[1]])}return N}}const gA={randOffset:function(t,e){return st(t,e)},randOffsetWithRange:function(t,e,r){return ls(t,e,r)},ellipse:function(t,e,r,n,i){const a=Qm(r,n,i);return bl(t,e,i,a).opset},doubleLineOps:function(t,e,r,n,i){return Ar(t,e,r,n,i,!0)}};function Zm(t,e,r,n,i){return{type:"path",ops:Ar(t,e,r,n,i)}}function Ea(t,e,r){const n=(t||[]).length;if(n>2){const i=[];for(let a=0;a<n-1;a++)i.push(...Ar(t[a][0],t[a][1],t[a+1][0],t[a+1][1],r));return e&&i.push(...Ar(t[n-1][0],t[n-1][1],t[0][0],t[0][1],r)),{type:"path",ops:i}}return n===2?Zm(t[0][0],t[0][1],t[1][0],t[1][1],r):{type:"path",ops:[]}}function mA(t,e,r,n,i){return function(a,s){return Ea(a,!0,s)}([[t,e],[t+r,e],[t+r,e+n],[t,e+n]],i)}function Ru(t,e){if(t.length){const r=typeof t[0][0]=="number"?[t]:t,n=pa(r[0],1*(1+.2*e.roughness),e),i=e.disableMultiStroke?[]:pa(r[0],1.5*(1+.22*e.roughness),Nu(e));for(let a=1;a<r.length;a++){const s=r[a];if(s.length){const o=pa(s,1*(1+.2*e.roughness),e),l=e.disableMultiStroke?[]:pa(s,1.5*(1+.22*e.roughness),Nu(e));for(const c of o)c.op!=="move"&&n.push(c);for(const c of l)c.op!=="move"&&i.push(c)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function Qm(t,e,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),a=2*Math.PI/i;let s=Math.abs(t/2),o=Math.abs(e/2);const l=1-r.curveFitting;return s+=st(s*l,r),o+=st(o*l,r),{increment:a,rx:s,ry:o}}function bl(t,e,r,n){const[i,a]=zu(n.increment,t,e,n.rx,n.ry,1,n.increment*ls(.1,ls(.4,1,r),r),r);let s=cs(i,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[o]=zu(n.increment,t,e,n.rx,n.ry,1.5,0,r),l=cs(o,null,r);s=s.concat(l)}return{estimatedPoints:a,opset:{type:"path",ops:s}}}function Pu(t,e,r,n,i,a,s,o,l){const c=t,h=e;let u=Math.abs(r/2),f=Math.abs(n/2);u+=st(.01*u,l),f+=st(.01*f,l);let p=i,d=a;for(;p<0;)p+=2*Math.PI,d+=2*Math.PI;d-p>2*Math.PI&&(p=0,d=2*Math.PI);const m=2*Math.PI/l.curveStepCount,x=Math.min(m/2,(d-p)/2),y=qu(x,c,h,u,f,p,d,1,l);if(!l.disableMultiStroke){const b=qu(x,c,h,u,f,p,d,1.5,l);y.push(...b)}return s&&(o?y.push(...Ar(c,h,c+u*Math.cos(p),h+f*Math.sin(p),l),...Ar(c,h,c+u*Math.cos(d),h+f*Math.sin(d),l)):y.push({op:"lineTo",data:[c,h]},{op:"lineTo",data:[c+u*Math.cos(p),h+f*Math.sin(p)]})),{type:"path",ops:y}}function Ou(t,e){const r=Xm(Gm(Nc(t))),n=[];let i=[0,0],a=[0,0];for(const{key:s,data:o}of r)switch(s){case"M":a=[o[0],o[1]],i=[o[0],o[1]];break;case"L":n.push(...Ar(a[0],a[1],o[0],o[1],e)),a=[o[0],o[1]];break;case"C":{const[l,c,h,u,f,p]=o;n.push(...yA(l,c,h,u,f,p,a,e)),a=[f,p];break}case"Z":n.push(...Ar(a[0],a[1],i[0],i[1],e)),a=[i[0],i[1]]}return{type:"path",ops:n}}function go(t,e){const r=[];for(const n of t)if(n.length){const i=e.maxRandomnessOffset||0,a=n.length;if(a>2){r.push({op:"move",data:[n[0][0]+st(i,e),n[0][1]+st(i,e)]});for(let s=1;s<a;s++)r.push({op:"lineTo",data:[n[s][0]+st(i,e),n[s][1]+st(i,e)]})}}return{type:"fillPath",ops:r}}function un(t,e){return function(r,n){let i=r.fillStyle||"hachure";if(!pe[i])switch(i){case"zigzag":pe[i]||(pe[i]=new lA(n));break;case"cross-hatch":pe[i]||(pe[i]=new cA(n));break;case"dots":pe[i]||(pe[i]=new hA(n));break;case"dashed":pe[i]||(pe[i]=new uA(n));break;case"zigzag-line":pe[i]||(pe[i]=new fA(n));break;default:i="hachure",pe[i]||(pe[i]=new Oc(n))}return pe[i]}(e,gA).fillPolygons(t,e)}function Nu(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function Jm(t){return t.randomizer||(t.randomizer=new pA(t.seed||0)),t.randomizer.next()}function ls(t,e,r,n=1){return r.roughness*n*(Jm(r)*(e-t)+t)}function st(t,e,r=1){return ls(-t,t,e,r)}function Ar(t,e,r,n,i,a=!1){const s=a?i.disableMultiStrokeFill:i.disableMultiStroke,o=wl(t,e,r,n,i,!0,!1);if(s)return o;const l=wl(t,e,r,n,i,!0,!0);return o.concat(l)}function wl(t,e,r,n,i,a,s){const o=Math.pow(t-r,2)+Math.pow(e-n,2),l=Math.sqrt(o);let c=1;c=l<200?1:l>500?.4:-.0016668*l+1.233334;let h=i.maxRandomnessOffset||0;h*h*100>o&&(h=l/10);const u=h/2,f=.2+.2*Jm(i);let p=i.bowing*i.maxRandomnessOffset*(n-e)/200,d=i.bowing*i.maxRandomnessOffset*(t-r)/200;p=st(p,i,c),d=st(d,i,c);const m=[],x=()=>st(u,i,c),y=()=>st(h,i,c),b=i.preserveVertices;return s?m.push({op:"move",data:[t+(b?0:x()),e+(b?0:x())]}):m.push({op:"move",data:[t+(b?0:st(h,i,c)),e+(b?0:st(h,i,c))]}),s?m.push({op:"bcurveTo",data:[p+t+(r-t)*f+x(),d+e+(n-e)*f+x(),p+t+2*(r-t)*f+x(),d+e+2*(n-e)*f+x(),r+(b?0:x()),n+(b?0:x())]}):m.push({op:"bcurveTo",data:[p+t+(r-t)*f+y(),d+e+(n-e)*f+y(),p+t+2*(r-t)*f+y(),d+e+2*(n-e)*f+y(),r+(b?0:y()),n+(b?0:y())]}),m}function pa(t,e,r){if(!t.length)return[];const n=[];n.push([t[0][0]+st(e,r),t[0][1]+st(e,r)]),n.push([t[0][0]+st(e,r),t[0][1]+st(e,r)]);for(let i=1;i<t.length;i++)n.push([t[i][0]+st(e,r),t[i][1]+st(e,r)]),i===t.length-1&&n.push([t[i][0]+st(e,r),t[i][1]+st(e,r)]);return cs(n,null,r)}function cs(t,e,r){const n=t.length,i=[];if(n>3){const a=[],s=1-r.curveTightness;i.push({op:"move",data:[t[1][0],t[1][1]]});for(let o=1;o+2<n;o++){const l=t[o];a[0]=[l[0],l[1]],a[1]=[l[0]+(s*t[o+1][0]-s*t[o-1][0])/6,l[1]+(s*t[o+1][1]-s*t[o-1][1])/6],a[2]=[t[o+1][0]+(s*t[o][0]-s*t[o+2][0])/6,t[o+1][1]+(s*t[o][1]-s*t[o+2][1])/6],a[3]=[t[o+1][0],t[o+1][1]],i.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}}else n===3?(i.push({op:"move",data:[t[1][0],t[1][1]]}),i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):n===2&&i.push(...wl(t[0][0],t[0][1],t[1][0],t[1][1],r,!0,!0));return i}function zu(t,e,r,n,i,a,s,o){const l=[],c=[];if(o.roughness===0){t/=4,c.push([e+n*Math.cos(-t),r+i*Math.sin(-t)]);for(let h=0;h<=2*Math.PI;h+=t){const u=[e+n*Math.cos(h),r+i*Math.sin(h)];l.push(u),c.push(u)}c.push([e+n*Math.cos(0),r+i*Math.sin(0)]),c.push([e+n*Math.cos(t),r+i*Math.sin(t)])}else{const h=st(.5,o)-Math.PI/2;c.push([st(a,o)+e+.9*n*Math.cos(h-t),st(a,o)+r+.9*i*Math.sin(h-t)]);const u=2*Math.PI+h-.01;for(let f=h;f<u;f+=t){const p=[st(a,o)+e+n*Math.cos(f),st(a,o)+r+i*Math.sin(f)];l.push(p),c.push(p)}c.push([st(a,o)+e+n*Math.cos(h+2*Math.PI+.5*s),st(a,o)+r+i*Math.sin(h+2*Math.PI+.5*s)]),c.push([st(a,o)+e+.98*n*Math.cos(h+s),st(a,o)+r+.98*i*Math.sin(h+s)]),c.push([st(a,o)+e+.9*n*Math.cos(h+.5*s),st(a,o)+r+.9*i*Math.sin(h+.5*s)])}return[c,l]}function qu(t,e,r,n,i,a,s,o,l){const c=a+st(.1,l),h=[];h.push([st(o,l)+e+.9*n*Math.cos(c-t),st(o,l)+r+.9*i*Math.sin(c-t)]);for(let u=c;u<=s;u+=t)h.push([st(o,l)+e+n*Math.cos(u),st(o,l)+r+i*Math.sin(u)]);return h.push([e+n*Math.cos(s),r+i*Math.sin(s)]),h.push([e+n*Math.cos(s),r+i*Math.sin(s)]),cs(h,null,l)}function yA(t,e,r,n,i,a,s,o){const l=[],c=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let h=[0,0];const u=o.disableMultiStroke?1:2,f=o.preserveVertices;for(let p=0;p<u;p++)p===0?l.push({op:"move",data:[s[0],s[1]]}):l.push({op:"move",data:[s[0]+(f?0:st(c[0],o)),s[1]+(f?0:st(c[0],o))]}),h=f?[i,a]:[i+st(c[p],o),a+st(c[p],o)],l.push({op:"bcurveTo",data:[t+st(c[p],o),e+st(c[p],o),r+st(c[p],o),n+st(c[p],o),h[0],h[1]]});return l}function hi(t){return[...t]}function Hu(t,e=0){const r=t.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(r===3)n.push(hi(t[0]),hi(t[1]),hi(t[2]),hi(t[2]));else{const i=[];i.push(t[0],t[0]);for(let o=1;o<t.length;o++)i.push(t[o]),o===t.length-1&&i.push(t[o]);const a=[],s=1-e;n.push(hi(i[0]));for(let o=1;o+2<i.length;o++){const l=i[o];a[0]=[l[0],l[1]],a[1]=[l[0]+(s*i[o+1][0]-s*i[o-1][0])/6,l[1]+(s*i[o+1][1]-s*i[o-1][1])/6],a[2]=[i[o+1][0]+(s*i[o][0]-s*i[o+2][0])/6,i[o+1][1]+(s*i[o][1]-s*i[o+2][1])/6],a[3]=[i[o+1][0],i[o+1][1]],n.push(a[1],a[2],a[3])}}return n}function Aa(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function xA(t,e,r){const n=Aa(e,r);if(n===0)return Aa(t,e);let i=((t[0]-e[0])*(r[0]-e[0])+(t[1]-e[1])*(r[1]-e[1]))/n;return i=Math.max(0,Math.min(1,i)),Aa(t,Or(e,r,i))}function Or(t,e,r){return[t[0]+(e[0]-t[0])*r,t[1]+(e[1]-t[1])*r]}function Cl(t,e,r,n){const i=n||[];if(function(o,l){const c=o[l+0],h=o[l+1],u=o[l+2],f=o[l+3];let p=3*h[0]-2*c[0]-f[0];p*=p;let d=3*h[1]-2*c[1]-f[1];d*=d;let m=3*u[0]-2*f[0]-c[0];m*=m;let x=3*u[1]-2*f[1]-c[1];return x*=x,p<m&&(p=m),d<x&&(d=x),p+d}(t,e)<r){const o=t[e+0];i.length?(a=i[i.length-1],s=o,Math.sqrt(Aa(a,s))>1&&i.push(o)):i.push(o),i.push(t[e+3])}else{const l=t[e+0],c=t[e+1],h=t[e+2],u=t[e+3],f=Or(l,c,.5),p=Or(c,h,.5),d=Or(h,u,.5),m=Or(f,p,.5),x=Or(p,d,.5),y=Or(m,x,.5);Cl([l,f,m,y],0,r,i),Cl([y,x,d,u],0,r,i)}var a,s;return i}function bA(t,e){return hs(t,0,t.length,e)}function hs(t,e,r,n,i){const a=i||[],s=t[e],o=t[r-1];let l=0,c=1;for(let h=e+1;h<r-1;++h){const u=xA(t[h],s,o);u>l&&(l=u,c=h)}return Math.sqrt(l)>n?(hs(t,e,c+1,n,a),hs(t,c,r,n,a)):(a.length||a.push(s),a.push(o)),a}function mo(t,e=.15,r){const n=[],i=(t.length-1)/3;for(let a=0;a<i;a++)Cl(t,3*a,e,n);return r&&r>0?hs(n,0,n.length,r):n}const be="none";class us{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,r,n){return{shape:e,sets:r||[],options:n||this.defaultOptions}}line(e,r,n,i,a){const s=this._o(a);return this._d("line",[Zm(e,r,n,i,s)],s)}rectangle(e,r,n,i,a){const s=this._o(a),o=[],l=mA(e,r,n,i,s);if(s.fill){const c=[[e,r],[e+n,r],[e+n,r+i],[e,r+i]];s.fillStyle==="solid"?o.push(go([c],s)):o.push(un([c],s))}return s.stroke!==be&&o.push(l),this._d("rectangle",o,s)}ellipse(e,r,n,i,a){const s=this._o(a),o=[],l=Qm(n,i,s),c=bl(e,r,s,l);if(s.fill)if(s.fillStyle==="solid"){const h=bl(e,r,s,l).opset;h.type="fillPath",o.push(h)}else o.push(un([c.estimatedPoints],s));return s.stroke!==be&&o.push(c.opset),this._d("ellipse",o,s)}circle(e,r,n,i){const a=this.ellipse(e,r,n,n,i);return a.shape="circle",a}linearPath(e,r){const n=this._o(r);return this._d("linearPath",[Ea(e,!1,n)],n)}arc(e,r,n,i,a,s,o=!1,l){const c=this._o(l),h=[],u=Pu(e,r,n,i,a,s,o,!0,c);if(o&&c.fill)if(c.fillStyle==="solid"){const f=Object.assign({},c);f.disableMultiStroke=!0;const p=Pu(e,r,n,i,a,s,!0,!1,f);p.type="fillPath",h.push(p)}else h.push(function(f,p,d,m,x,y,b){const C=f,S=p;let v=Math.abs(d/2),_=Math.abs(m/2);v+=st(.01*v,b),_+=st(.01*_,b);let F=x,P=y;for(;F<0;)F+=2*Math.PI,P+=2*Math.PI;P-F>2*Math.PI&&(F=0,P=2*Math.PI);const q=(P-F)/b.curveStepCount,O=[];for(let E=F;E<=P;E+=q)O.push([C+v*Math.cos(E),S+_*Math.sin(E)]);return O.push([C+v*Math.cos(P),S+_*Math.sin(P)]),O.push([C,S]),un([O],b)}(e,r,n,i,a,s,c));return c.stroke!==be&&h.push(u),this._d("arc",h,c)}curve(e,r){const n=this._o(r),i=[],a=Ru(e,n);if(n.fill&&n.fill!==be)if(n.fillStyle==="solid"){const s=Ru(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(s.ops)})}else{const s=[],o=e;if(o.length){const l=typeof o[0][0]=="number"?[o]:o;for(const c of l)c.length<3?s.push(...c):c.length===3?s.push(...mo(Hu([c[0],c[0],c[1],c[2]]),10,(1+n.roughness)/2)):s.push(...mo(Hu(c),10,(1+n.roughness)/2))}s.length&&i.push(un([s],n))}return n.stroke!==be&&i.push(a),this._d("curve",i,n)}polygon(e,r){const n=this._o(r),i=[],a=Ea(e,!0,n);return n.fill&&(n.fillStyle==="solid"?i.push(go([e],n)):i.push(un([e],n))),n.stroke!==be&&i.push(a),this._d("polygon",i,n)}path(e,r){const n=this._o(r),i=[];if(!e)return this._d("path",i,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const a=n.fill&&n.fill!=="transparent"&&n.fill!==be,s=n.stroke!==be,o=!!(n.simplification&&n.simplification<1),l=function(h,u,f){const p=Xm(Gm(Nc(h))),d=[];let m=[],x=[0,0],y=[];const b=()=>{y.length>=4&&m.push(...mo(y,u)),y=[]},C=()=>{b(),m.length&&(d.push(m),m=[])};for(const{key:v,data:_}of p)switch(v){case"M":C(),x=[_[0],_[1]],m.push(x);break;case"L":b(),m.push([_[0],_[1]]);break;case"C":if(!y.length){const F=m.length?m[m.length-1]:x;y.push([F[0],F[1]])}y.push([_[0],_[1]]),y.push([_[2],_[3]]),y.push([_[4],_[5]]);break;case"Z":b(),m.push([x[0],x[1]])}if(C(),!f)return d;const S=[];for(const v of d){const _=bA(v,f);_.length&&S.push(_)}return S}(e,1,o?4-4*(n.simplification||1):(1+n.roughness)/2),c=Ou(e,n);if(a)if(n.fillStyle==="solid")if(l.length===1){const h=Ou(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else i.push(go(l,n));else i.push(un(l,n));return s&&(o?l.forEach(h=>{i.push(Ea(h,!1,n))}):i.push(c)),this._d("path",i,n)}opsToPath(e,r){let n="";for(const i of e.ops){const a=typeof r=="number"&&r>=0?i.data.map(s=>+s.toFixed(r)):i.data;switch(i.op){case"move":n+=`M${a[0]} ${a[1]} `;break;case"bcurveTo":n+=`C${a[0]} ${a[1]}, ${a[2]} ${a[3]}, ${a[4]} ${a[5]} `;break;case"lineTo":n+=`L${a[0]} ${a[1]} `}}return n.trim()}toPaths(e){const r=e.sets||[],n=e.options||this.defaultOptions,i=[];for(const a of r){let s=null;switch(a.type){case"path":s={d:this.opsToPath(a),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:be};break;case"fillPath":s={d:this.opsToPath(a),stroke:be,strokeWidth:0,fill:n.fill||be};break;case"fillSketch":s=this.fillSketch(a,n)}s&&i.push(s)}return i}fillSketch(e,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(e),stroke:r.fill||be,strokeWidth:n,fill:be}}_mergedShape(e){return e.filter((r,n)=>n===0||r.op!=="move")}}class wA{constructor(e,r){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new us(r)}draw(e){const r=e.sets||[],n=e.options||this.getDefaultOptions(),i=this.ctx,a=e.options.fixedDecimalPlaceDigits;for(const s of r)switch(s.type){case"path":i.save(),i.strokeStyle=n.stroke==="none"?"transparent":n.stroke,i.lineWidth=n.strokeWidth,n.strokeLineDash&&i.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(i.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(i,s,a),i.restore();break;case"fillPath":{i.save(),i.fillStyle=n.fill||"";const o=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,s,a,o),i.restore();break}case"fillSketch":this.fillSketch(i,s,n)}}fillSketch(e,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=i,this._drawToContext(e,r,n.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,r,n,i="nonzero"){e.beginPath();for(const a of r.ops){const s=typeof n=="number"&&n>=0?a.data.map(o=>+o.toFixed(n)):a.data;switch(a.op){case"move":e.moveTo(s[0],s[1]);break;case"bcurveTo":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"lineTo":e.lineTo(s[0],s[1])}}r.type==="fillPath"?e.fill(i):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,r,n,i,a){const s=this.gen.line(e,r,n,i,a);return this.draw(s),s}rectangle(e,r,n,i,a){const s=this.gen.rectangle(e,r,n,i,a);return this.draw(s),s}ellipse(e,r,n,i,a){const s=this.gen.ellipse(e,r,n,i,a);return this.draw(s),s}circle(e,r,n,i){const a=this.gen.circle(e,r,n,i);return this.draw(a),a}linearPath(e,r){const n=this.gen.linearPath(e,r);return this.draw(n),n}polygon(e,r){const n=this.gen.polygon(e,r);return this.draw(n),n}arc(e,r,n,i,a,s,o=!1,l){const c=this.gen.arc(e,r,n,i,a,s,o,l);return this.draw(c),c}curve(e,r){const n=this.gen.curve(e,r);return this.draw(n),n}path(e,r){const n=this.gen.path(e,r);return this.draw(n),n}}const da="http://www.w3.org/2000/svg";class CA{constructor(e,r){this.svg=e,this.gen=new us(r)}draw(e){const r=e.sets||[],n=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,a=i.createElementNS(da,"g"),s=e.options.fixedDecimalPlaceDigits;for(const o of r){let l=null;switch(o.type){case"path":l=i.createElementNS(da,"path"),l.setAttribute("d",this.opsToPath(o,s)),l.setAttribute("stroke",n.stroke),l.setAttribute("stroke-width",n.strokeWidth+""),l.setAttribute("fill","none"),n.strokeLineDash&&l.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":l=i.createElementNS(da,"path"),l.setAttribute("d",this.opsToPath(o,s)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",n.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(i,o,n)}l&&a.appendChild(l)}return a}fillSketch(e,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const a=e.createElementNS(da,"path");return a.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),a.setAttribute("stroke",n.fill||""),a.setAttribute("stroke-width",i+""),a.setAttribute("fill","none"),n.fillLineDash&&a.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&a.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),a}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,r){return this.gen.opsToPath(e,r)}line(e,r,n,i,a){const s=this.gen.line(e,r,n,i,a);return this.draw(s)}rectangle(e,r,n,i,a){const s=this.gen.rectangle(e,r,n,i,a);return this.draw(s)}ellipse(e,r,n,i,a){const s=this.gen.ellipse(e,r,n,i,a);return this.draw(s)}circle(e,r,n,i){const a=this.gen.circle(e,r,n,i);return this.draw(a)}linearPath(e,r){const n=this.gen.linearPath(e,r);return this.draw(n)}polygon(e,r){const n=this.gen.polygon(e,r);return this.draw(n)}arc(e,r,n,i,a,s,o=!1,l){const c=this.gen.arc(e,r,n,i,a,s,o,l);return this.draw(c)}curve(e,r){const n=this.gen.curve(e,r);return this.draw(n)}path(e,r){const n=this.gen.path(e,r);return this.draw(n)}}var Q={canvas:(t,e)=>new wA(t,e),svg:(t,e)=>new CA(t,e),generator:t=>new us(t),newSeed:()=>us.newSeed()},ht=g(async(t,e,r)=>{var u,f;let n;const i=e.useHtmlLabels||Xt((u=_t())==null?void 0:u.htmlLabels);r?n=r:n="node default";const a=t.insert("g").attr("class",n).attr("id",e.domId||e.id),s=a.insert("g").attr("class","label").attr("style",oe(e.labelStyle));let o;e.label===void 0?o="":o=typeof e.label=="string"?e.label:e.label[0];const l=await Wn(s,Gr(Hn(o),_t()),{useHtmlLabels:i,width:e.width||((f=_t().flowchart)==null?void 0:f.wrappingWidth),cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img});let c=l.getBBox();const h=((e==null?void 0:e.padding)??0)/2;if(i){const p=l.children[0],d=kt(l),m=p.getElementsByTagName("img");if(m){const x=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...m].map(y=>new Promise(b=>{function C(){if(y.style.display="flex",y.style.flexDirection="column",x){const S=_t().fontSize?_t().fontSize:window.getComputedStyle(document.body).fontSize,v=5,[_=bp.fontSize]=$s(S),F=_*v+"px";y.style.minWidth=F,y.style.maxWidth=F}else y.style.width="100%";b(y)}g(C,"setupImage"),setTimeout(()=>{y.complete&&C()}),y.addEventListener("error",C),y.addEventListener("load",C)})))}c=p.getBoundingClientRect(),d.attr("width",c.width),d.attr("height",c.height)}return i?s.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"):s.attr("transform","translate(0, "+-c.height/2+")"),e.centerLabel&&s.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),s.insert("rect",":first-child"),{shapeSvg:a,bbox:c,halfPadding:h,label:s}},"labelHelper"),yo=g(async(t,e,r)=>{var l,c,h,u,f,p;const n=r.useHtmlLabels||Xt((c=(l=_t())==null?void 0:l.flowchart)==null?void 0:c.htmlLabels),i=t.insert("g").attr("class","label").attr("style",r.labelStyle||""),a=await Wn(i,Gr(Hn(e),_t()),{useHtmlLabels:n,width:r.width||((u=(h=_t())==null?void 0:h.flowchart)==null?void 0:u.wrappingWidth),style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let s=a.getBBox();const o=r.padding/2;if(Xt((p=(f=_t())==null?void 0:f.flowchart)==null?void 0:p.htmlLabels)){const d=a.children[0],m=kt(a);s=d.getBoundingClientRect(),m.attr("width",s.width),m.attr("height",s.height)}return n?i.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"):i.attr("transform","translate(0, "+-s.height/2+")"),r.centerLabel&&i.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:t,bbox:s,halfPadding:o,label:i}},"insertLabel"),nt=g((t,e)=>{const r=e.node().getBBox();t.width=r.width,t.height=r.height},"updateNodeBounds"),ut=g((t,e)=>(t.look==="handDrawn"?"rough-node":"node")+" "+t.cssClasses+" "+(e||""),"getNodeClasses");function xt(t){const e=t.map((r,n)=>`${n===0?"M":"L"}${r.x},${r.y}`);return e.push("Z"),e.join(" ")}g(xt,"createPathFromPoints");function Lr(t,e,r,n,i,a){const s=[],l=r-t,c=n-e,h=l/a,u=2*Math.PI/h,f=e+c/2;for(let p=0;p<=50;p++){const d=p/50,m=t+d*l,x=f+i*Math.sin(u*(m-t));s.push({x:m,y:x})}return s}g(Lr,"generateFullSineWavePoints");function zc(t,e,r,n,i,a){const s=[],o=i*Math.PI/180,h=(a*Math.PI/180-o)/(n-1);for(let u=0;u<n;u++){const f=o+u*h,p=t+r*Math.cos(f),d=e+r*Math.sin(f);s.push({x:-p,y:-d})}return s}g(zc,"generateCirclePoints");var kA=g((t,e)=>{var r=t.x,n=t.y,i=e.x-r,a=e.y-n,s=t.width/2,o=t.height/2,l,c;return Math.abs(a)*s>Math.abs(i)*o?(a<0&&(o=-o),l=a===0?0:o*i/a,c=o):(i<0&&(s=-s),l=s,c=i===0?0:s*a/i),{x:r+l,y:n+c}},"intersectRect"),jn=kA;function ty(t,e){e&&t.attr("style",e)}g(ty,"applyStyle");async function ey(t){const e=kt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=e.append("xhtml:div");let n=t.label;t.label&&Mn(t.label)&&(n=await Gl(t.label.replace(Nn.lineBreakRegex,`
`),_t()));const i=t.isNode?"nodeLabel":"edgeLabel";return r.html('<span class="'+i+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+n+"</span>"),ty(r,t.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}g(ey,"addHtmlLabel");var _A=g(async(t,e,r,n)=>{let i=t||"";if(typeof i=="object"&&(i=i[0]),Xt(_t().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),z.info("vertexText"+i);const a={isNode:n,label:Hn(i).replace(/fa[blrs]?:fa-[\w-]+/g,o=>`<i class='${o.replace(":"," ")}'></i>`),labelStyle:e&&e.replace("fill:","color:")};return await ey(a)}else{const a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",e.replace("color:","fill:"));let s=[];typeof i=="string"?s=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?s=i:s=[];for(const o of s){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),r?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=o.trim(),a.appendChild(l)}return a}},"createLabel"),Ur=_A,mr=g((t,e,r,n,i)=>["M",t+i,e,"H",t+r-i,"A",i,i,0,0,1,t+r,e+i,"V",e+n-i,"A",i,i,0,0,1,t+r-i,e+n,"H",t+i,"A",i,i,0,0,1,t,e+n-i,"V",e+i,"A",i,i,0,0,1,t+i,e,"Z"].join(" "),"createRoundedRectPathD"),vA=g(t=>{const{handDrawnSeed:e}=_t();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}},"solidStateFill"),Un=g(t=>{const e=SA([...t.cssCompiledStyles||[],...t.cssStyles||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),SA=g(t=>{const e=new Map;return t.forEach(r=>{const[n,i]=r.split(":");e.set(n.trim(),i==null?void 0:i.trim())}),e},"styles2Map"),it=g(t=>{const{stylesArray:e}=Un(t),r=[],n=[],i=[],a=[];return e.forEach(s=>{const o=s[0];o==="color"||o==="font-size"||o==="font-family"||o==="font-weight"||o==="font-style"||o==="text-decoration"||o==="text-align"||o==="text-transform"||o==="line-height"||o==="letter-spacing"||o==="word-spacing"||o==="text-shadow"||o==="text-overflow"||o==="white-space"||o==="word-wrap"||o==="word-break"||o==="overflow-wrap"||o==="hyphens"?r.push(s.join(":")+" !important"):(n.push(s.join(":")+" !important"),o.includes("stroke")&&i.push(s.join(":")+" !important"),o==="fill"&&a.push(s.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:n.join(";"),stylesArray:e,borderStyles:i,backgroundStyles:a}},"styles2String"),J=g((t,e)=>{var l;const{themeVariables:r,handDrawnSeed:n}=_t(),{nodeBorder:i,mainBkg:a}=r,{stylesMap:s}=Un(t);return Object.assign({roughness:.7,fill:s.get("fill")||a,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:s.get("stroke")||i,seed:n,strokeWidth:((l=s.get("stroke-width"))==null?void 0:l.replace("px",""))||1.3,fillLineDash:[0,0]},e)},"userNodeOverrides"),ry=g(async(t,e)=>{z.info("Creating subgraph rect for ",e.id,e);const r=_t(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:a,clusterBorder:s}=n,{labelStyles:o,nodeStyles:l,borderStyles:c,backgroundStyles:h}=it(e),u=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),f=Xt(r.flowchart.htmlLabels),p=u.insert("g").attr("class","cluster-label "),d=await Wn(p,e.label,{style:e.labelStyle,useHtmlLabels:f,isNode:!0});let m=d.getBBox();if(Xt(r.flowchart.htmlLabels)){const F=d.children[0],P=kt(d);m=F.getBoundingClientRect(),P.attr("width",m.width),P.attr("height",m.height)}const x=e.width<=m.width+e.padding?m.width+e.padding:e.width;e.width<=m.width+e.padding?e.diff=(x-e.width)/2-e.padding:e.diff=-e.padding;const y=e.height,b=e.x-x/2,C=e.y-y/2;z.trace("Data ",e,JSON.stringify(e));let S;if(e.look==="handDrawn"){const F=Q.svg(u),P=J(e,{roughness:.7,fill:a,stroke:s,fillWeight:3,seed:i}),q=F.path(mr(b,C,x,y,0),P);S=u.insert(()=>(z.debug("Rough node insert CXC",q),q),":first-child"),S.select("path:nth-child(2)").attr("style",c.join(";")),S.select("path").attr("style",h.join(";").replace("fill","stroke"))}else S=u.insert("rect",":first-child"),S.attr("style",l).attr("rx",e.rx).attr("ry",e.ry).attr("x",b).attr("y",C).attr("width",x).attr("height",y);const{subGraphTitleTopMargin:v}=sc(r);if(p.attr("transform",`translate(${e.x-m.width/2}, ${e.y-e.height/2+v})`),o){const F=p.select("span");F&&F.attr("style",o)}const _=S.node().getBBox();return e.offsetX=0,e.width=_.width,e.height=_.height,e.offsetY=m.height-e.padding/2,e.intersect=function(F){return jn(e,F)},{cluster:u,labelBBox:m}},"rect"),TA=g((t,e)=>{const r=t.insert("g").attr("class","note-cluster").attr("id",e.id),n=r.insert("rect",":first-child"),i=0*e.padding,a=i/2;n.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-a).attr("y",e.y-e.height/2-a).attr("width",e.width+i).attr("height",e.height+i).attr("fill","none");const s=n.node().getBBox();return e.width=s.width,e.height=s.height,e.intersect=function(o){return jn(e,o)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),EA=g(async(t,e)=>{const r=_t(),{themeVariables:n,handDrawnSeed:i}=r,{altBackground:a,compositeBackground:s,compositeTitleBackground:o,nodeBorder:l}=n,c=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),h=c.insert("g",":first-child"),u=c.insert("g").attr("class","cluster-label");let f=c.append("rect");const p=u.node().appendChild(await Ur(e.label,e.labelStyle,void 0,!0));let d=p.getBBox();if(Xt(r.flowchart.htmlLabels)){const q=p.children[0],O=kt(p);d=q.getBoundingClientRect(),O.attr("width",d.width),O.attr("height",d.height)}const m=0*e.padding,x=m/2,y=(e.width<=d.width+e.padding?d.width+e.padding:e.width)+m;e.width<=d.width+e.padding?e.diff=(y-e.width)/2-e.padding:e.diff=-e.padding;const b=e.height+m,C=e.height+m-d.height-6,S=e.x-y/2,v=e.y-b/2;e.width=y;const _=e.y-e.height/2-x+d.height+2;let F;if(e.look==="handDrawn"){const q=e.cssClasses.includes("statediagram-cluster-alt"),O=Q.svg(c),E=e.rx||e.ry?O.path(mr(S,v,y,b,10),{roughness:.7,fill:o,fillStyle:"solid",stroke:l,seed:i}):O.rectangle(S,v,y,b,{seed:i});F=c.insert(()=>E,":first-child");const R=O.rectangle(S,_,y,C,{fill:q?a:s,fillStyle:q?"hachure":"solid",stroke:l,seed:i});F=c.insert(()=>E,":first-child"),f=c.insert(()=>R)}else F=h.insert("rect",":first-child"),F.attr("class","outer").attr("x",S).attr("y",v).attr("width",y).attr("height",b).attr("data-look",e.look),f.attr("class","inner").attr("x",S).attr("y",_).attr("width",y).attr("height",C);u.attr("transform",`translate(${e.x-d.width/2}, ${v+1-(Xt(r.flowchart.htmlLabels)?0:3)})`);const P=F.node().getBBox();return e.height=P.height,e.offsetX=0,e.offsetY=d.height-e.padding/2,e.labelBBox=d,e.intersect=function(q){return jn(e,q)},{cluster:c,labelBBox:d}},"roundedWithTitle"),AA=g(async(t,e)=>{z.info("Creating subgraph rect for ",e.id,e);const r=_t(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:a,clusterBorder:s}=n,{labelStyles:o,nodeStyles:l,borderStyles:c,backgroundStyles:h}=it(e),u=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),f=Xt(r.flowchart.htmlLabels),p=u.insert("g").attr("class","cluster-label "),d=await Wn(p,e.label,{style:e.labelStyle,useHtmlLabels:f,isNode:!0,width:e.width});let m=d.getBBox();if(Xt(r.flowchart.htmlLabels)){const F=d.children[0],P=kt(d);m=F.getBoundingClientRect(),P.attr("width",m.width),P.attr("height",m.height)}const x=e.width<=m.width+e.padding?m.width+e.padding:e.width;e.width<=m.width+e.padding?e.diff=(x-e.width)/2-e.padding:e.diff=-e.padding;const y=e.height,b=e.x-x/2,C=e.y-y/2;z.trace("Data ",e,JSON.stringify(e));let S;if(e.look==="handDrawn"){const F=Q.svg(u),P=J(e,{roughness:.7,fill:a,stroke:s,fillWeight:4,seed:i}),q=F.path(mr(b,C,x,y,e.rx),P);S=u.insert(()=>(z.debug("Rough node insert CXC",q),q),":first-child"),S.select("path:nth-child(2)").attr("style",c.join(";")),S.select("path").attr("style",h.join(";").replace("fill","stroke"))}else S=u.insert("rect",":first-child"),S.attr("style",l).attr("rx",e.rx).attr("ry",e.ry).attr("x",b).attr("y",C).attr("width",x).attr("height",y);const{subGraphTitleTopMargin:v}=sc(r);if(p.attr("transform",`translate(${e.x-m.width/2}, ${e.y-e.height/2+v})`),o){const F=p.select("span");F&&F.attr("style",o)}const _=S.node().getBBox();return e.offsetX=0,e.width=_.width,e.height=_.height,e.offsetY=m.height-e.padding/2,e.intersect=function(F){return jn(e,F)},{cluster:u,labelBBox:m}},"kanbanSection"),LA=g((t,e)=>{const r=_t(),{themeVariables:n,handDrawnSeed:i}=r,{nodeBorder:a}=n,s=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),o=s.insert("g",":first-child"),l=0*e.padding,c=e.width+l;e.diff=-e.padding;const h=e.height+l,u=e.x-c/2,f=e.y-h/2;e.width=c;let p;if(e.look==="handDrawn"){const x=Q.svg(s).rectangle(u,f,c,h,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:a,seed:i});p=s.insert(()=>x,":first-child")}else p=o.insert("rect",":first-child"),p.attr("class","divider").attr("x",u).attr("y",f).attr("width",c).attr("height",h).attr("data-look",e.look);const d=p.node().getBBox();return e.height=d.height,e.offsetX=0,e.offsetY=0,e.intersect=function(m){return jn(e,m)},{cluster:s,labelBBox:{}}},"divider"),BA=ry,MA={rect:ry,squareRect:BA,roundedWithTitle:EA,noteGroup:TA,divider:LA,kanbanSection:AA},ny=new Map,FA=g(async(t,e)=>{const r=e.shape||"rect",n=await MA[r](t,e);return ny.set(e.id,n),n},"insertCluster"),G3=g(()=>{ny=new Map},"clear");function iy(t,e){return t.intersect(e)}g(iy,"intersectNode");var IA=iy;function ay(t,e,r,n){var i=t.x,a=t.y,s=i-n.x,o=a-n.y,l=Math.sqrt(e*e*o*o+r*r*s*s),c=Math.abs(e*r*s/l);n.x<i&&(c=-c);var h=Math.abs(e*r*o/l);return n.y<a&&(h=-h),{x:i+c,y:a+h}}g(ay,"intersectEllipse");var sy=ay;function oy(t,e,r){return sy(t,e,e,r)}g(oy,"intersectCircle");var $A=oy;function ly(t,e,r,n){var i,a,s,o,l,c,h,u,f,p,d,m,x,y,b;if(i=e.y-t.y,s=t.x-e.x,l=e.x*t.y-t.x*e.y,f=i*r.x+s*r.y+l,p=i*n.x+s*n.y+l,!(f!==0&&p!==0&&kl(f,p))&&(a=n.y-r.y,o=r.x-n.x,c=n.x*r.y-r.x*n.y,h=a*t.x+o*t.y+c,u=a*e.x+o*e.y+c,!(h!==0&&u!==0&&kl(h,u))&&(d=i*o-a*s,d!==0)))return m=Math.abs(d/2),x=s*c-o*l,y=x<0?(x-m)/d:(x+m)/d,x=a*l-i*c,b=x<0?(x-m)/d:(x+m)/d,{x:y,y:b}}g(ly,"intersectLine");function kl(t,e){return t*e>0}g(kl,"sameSign");var DA=ly;function cy(t,e,r){let n=t.x,i=t.y,a=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(h){s=Math.min(s,h.x),o=Math.min(o,h.y)}):(s=Math.min(s,e.x),o=Math.min(o,e.y));let l=n-t.width/2-s,c=i-t.height/2-o;for(let h=0;h<e.length;h++){let u=e[h],f=e[h<e.length-1?h+1:0],p=DA(t,r,{x:l+u.x,y:c+u.y},{x:l+f.x,y:c+f.y});p&&a.push(p)}return a.length?(a.length>1&&a.sort(function(h,u){let f=h.x-r.x,p=h.y-r.y,d=Math.sqrt(f*f+p*p),m=u.x-r.x,x=u.y-r.y,y=Math.sqrt(m*m+x*x);return d<y?-1:d===y?0:1}),a[0]):t}g(cy,"intersectPolygon");var RA=cy,K={node:IA,circle:$A,ellipse:sy,polygon:RA,rect:jn};function hy(t,e){const{labelStyles:r}=it(e);e.labelStyle=r;const n=ut(e);let i=n;n||(i="anchor");const a=t.insert("g").attr("class",i).attr("id",e.domId||e.id),s=1,{cssStyles:o}=e,l=Q.svg(a),c=J(e,{fill:"black",stroke:"none",fillStyle:"solid"});e.look!=="handDrawn"&&(c.roughness=0);const h=l.circle(0,0,s*2,c),u=a.insert(()=>h,":first-child");return u.attr("class","anchor").attr("style",oe(o)),nt(e,u),e.intersect=function(f){return z.info("Circle intersect",e,s,f),K.circle(e,s,f)},a}g(hy,"anchor");function _l(t,e,r,n,i,a,s){const l=(t+r)/2,c=(e+n)/2,h=Math.atan2(n-e,r-t),u=(r-t)/2,f=(n-e)/2,p=u/i,d=f/a,m=Math.sqrt(p**2+d**2);if(m>1)throw new Error("The given radii are too small to create an arc between the points.");const x=Math.sqrt(1-m**2),y=l+x*a*Math.sin(h)*(s?-1:1),b=c-x*i*Math.cos(h)*(s?-1:1),C=Math.atan2((e-b)/a,(t-y)/i);let v=Math.atan2((n-b)/a,(r-y)/i)-C;s&&v<0&&(v+=2*Math.PI),!s&&v>0&&(v-=2*Math.PI);const _=[];for(let F=0;F<20;F++){const P=F/19,q=C+P*v,O=y+i*Math.cos(q),E=b+a*Math.sin(q);_.push({x:O,y:E})}return _}g(_l,"generateArcPoints");async function uy(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await ht(t,e,ut(e)),s=a.width+e.padding+20,o=a.height+e.padding,l=o/2,c=l/(2.5+o/50),{cssStyles:h}=e,u=[{x:s/2,y:-o/2},{x:-s/2,y:-o/2},..._l(-s/2,-o/2,-s/2,o/2,c,l,!1),{x:s/2,y:o/2},..._l(s/2,o/2,s/2,-o/2,c,l,!0)],f=Q.svg(i),p=J(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const d=xt(u),m=f.path(d,p),x=i.insert(()=>m,":first-child");return x.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",n),x.attr("transform",`translate(${c/2}, 0)`),nt(e,x),e.intersect=function(y){return K.polygon(e,u,y)},i}g(uy,"bowTieRect");function yr(t,e,r,n){return t.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+r/2+")")}g(yr,"insertPolygonShape");async function fy(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await ht(t,e,ut(e)),s=a.height+e.padding,o=12,l=a.width+e.padding+o,c=0,h=l,u=-s,f=0,p=[{x:c+o,y:u},{x:h,y:u},{x:h,y:f},{x:c,y:f},{x:c,y:u+o},{x:c+o,y:u}];let d;const{cssStyles:m}=e;if(e.look==="handDrawn"){const x=Q.svg(i),y=J(e,{}),b=xt(p),C=x.path(b,y);d=i.insert(()=>C,":first-child").attr("transform",`translate(${-l/2}, ${s/2})`),m&&d.attr("style",m)}else d=yr(i,l,s,p);return n&&d.attr("style",n),nt(e,d),e.intersect=function(x){return K.polygon(e,p,x)},i}g(fy,"card");function py(t,e){const{nodeStyles:r}=it(e);e.label="";const n=t.insert("g").attr("class",ut(e)).attr("id",e.domId??e.id),{cssStyles:i}=e,a=Math.max(28,e.width??0),s=[{x:0,y:a/2},{x:a/2,y:0},{x:0,y:-a/2},{x:-a/2,y:0}],o=Q.svg(n),l=J(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=xt(s),h=o.path(c,l),u=n.insert(()=>h,":first-child");return i&&e.look!=="handDrawn"&&u.selectAll("path").attr("style",i),r&&e.look!=="handDrawn"&&u.selectAll("path").attr("style",r),e.width=28,e.height=28,e.intersect=function(f){return K.polygon(e,s,f)},n}g(py,"choice");async function dy(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,halfPadding:s}=await ht(t,e,ut(e)),o=a.width/2+s;let l;const{cssStyles:c}=e;if(e.look==="handDrawn"){const h=Q.svg(i),u=J(e,{}),f=h.circle(0,0,o*2,u);l=i.insert(()=>f,":first-child"),l.attr("class","basic label-container").attr("style",oe(c))}else l=i.insert("circle",":first-child").attr("class","basic label-container").attr("style",n).attr("r",o).attr("cx",0).attr("cy",0);return nt(e,l),e.intersect=function(h){return z.info("Circle intersect",e,o,h),K.circle(e,o,h)},i}g(dy,"circle");function gy(t){const e=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),n=t*2,i={x:n/2*e,y:n/2*r},a={x:-(n/2)*e,y:n/2*r},s={x:-(n/2)*e,y:-(n/2)*r},o={x:n/2*e,y:-(n/2)*r};return`M ${a.x},${a.y} L ${o.x},${o.y}
                   M ${i.x},${i.y} L ${s.x},${s.y}`}g(gy,"createLine");function my(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r,e.label="";const i=t.insert("g").attr("class",ut(e)).attr("id",e.domId??e.id),a=Math.max(30,(e==null?void 0:e.width)??0),{cssStyles:s}=e,o=Q.svg(i),l=J(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=o.circle(0,0,a*2,l),h=gy(a),u=o.path(h,l),f=i.insert(()=>c,":first-child");return f.insert(()=>u),s&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",s),n&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",n),nt(e,f),e.intersect=function(p){return z.info("crossedCircle intersect",e,{radius:a,point:p}),K.circle(e,a,p)},i}g(my,"crossedCircle");function cr(t,e,r,n=100,i=0,a=180){const s=[],o=i*Math.PI/180,h=(a*Math.PI/180-o)/(n-1);for(let u=0;u<n;u++){const f=o+u*h,p=t+r*Math.cos(f),d=e+r*Math.sin(f);s.push({x:-p,y:-d})}return s}g(cr,"generateCirclePoints");async function yy(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await ht(t,e,ut(e)),o=a.width+(e.padding??0),l=a.height+(e.padding??0),c=Math.max(5,l*.1),{cssStyles:h}=e,u=[...cr(o/2,-l/2,c,30,-90,0),{x:-o/2-c,y:c},...cr(o/2+c*2,-c,c,20,-180,-270),...cr(o/2+c*2,c,c,20,-90,-180),{x:-o/2-c,y:-l/2},...cr(o/2,l/2,c,20,0,90)],f=[{x:o/2,y:-l/2-c},{x:-o/2,y:-l/2-c},...cr(o/2,-l/2,c,20,-90,0),{x:-o/2-c,y:-c},...cr(o/2+o*.1,-c,c,20,-180,-270),...cr(o/2+o*.1,c,c,20,-90,-180),{x:-o/2-c,y:l/2},...cr(o/2,l/2,c,20,0,90),{x:-o/2,y:l/2+c},{x:o/2,y:l/2+c}],p=Q.svg(i),d=J(e,{fill:"none"});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const x=xt(u).replace("Z",""),y=p.path(x,d),b=xt(f),C=p.path(b,{...d}),S=i.insert("g",":first-child");return S.insert(()=>C,":first-child").attr("stroke-opacity",0),S.insert(()=>y,":first-child"),S.attr("class","text"),h&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",n),S.attr("transform",`translate(${c}, 0)`),s.attr("transform",`translate(${-o/2+c-(a.x-(a.left??0))},${-l/2+(e.padding??0)/2-(a.y-(a.top??0))})`),nt(e,S),e.intersect=function(v){return K.polygon(e,f,v)},i}g(yy,"curlyBraceLeft");function hr(t,e,r,n=100,i=0,a=180){const s=[],o=i*Math.PI/180,h=(a*Math.PI/180-o)/(n-1);for(let u=0;u<n;u++){const f=o+u*h,p=t+r*Math.cos(f),d=e+r*Math.sin(f);s.push({x:p,y:d})}return s}g(hr,"generateCirclePoints");async function xy(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await ht(t,e,ut(e)),o=a.width+(e.padding??0),l=a.height+(e.padding??0),c=Math.max(5,l*.1),{cssStyles:h}=e,u=[...hr(o/2,-l/2,c,20,-90,0),{x:o/2+c,y:-c},...hr(o/2+c*2,-c,c,20,-180,-270),...hr(o/2+c*2,c,c,20,-90,-180),{x:o/2+c,y:l/2},...hr(o/2,l/2,c,20,0,90)],f=[{x:-o/2,y:-l/2-c},{x:o/2,y:-l/2-c},...hr(o/2,-l/2,c,20,-90,0),{x:o/2+c,y:-c},...hr(o/2+c*2,-c,c,20,-180,-270),...hr(o/2+c*2,c,c,20,-90,-180),{x:o/2+c,y:l/2},...hr(o/2,l/2,c,20,0,90),{x:o/2,y:l/2+c},{x:-o/2,y:l/2+c}],p=Q.svg(i),d=J(e,{fill:"none"});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const x=xt(u).replace("Z",""),y=p.path(x,d),b=xt(f),C=p.path(b,{...d}),S=i.insert("g",":first-child");return S.insert(()=>C,":first-child").attr("stroke-opacity",0),S.insert(()=>y,":first-child"),S.attr("class","text"),h&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",n),S.attr("transform",`translate(${-c}, 0)`),s.attr("transform",`translate(${-o/2+(e.padding??0)/2-(a.x-(a.left??0))},${-l/2+(e.padding??0)/2-(a.y-(a.top??0))})`),nt(e,S),e.intersect=function(v){return K.polygon(e,f,v)},i}g(xy,"curlyBraceRight");function Yt(t,e,r,n=100,i=0,a=180){const s=[],o=i*Math.PI/180,h=(a*Math.PI/180-o)/(n-1);for(let u=0;u<n;u++){const f=o+u*h,p=t+r*Math.cos(f),d=e+r*Math.sin(f);s.push({x:-p,y:-d})}return s}g(Yt,"generateCirclePoints");async function by(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await ht(t,e,ut(e)),o=a.width+(e.padding??0),l=a.height+(e.padding??0),c=Math.max(5,l*.1),{cssStyles:h}=e,u=[...Yt(o/2,-l/2,c,30,-90,0),{x:-o/2-c,y:c},...Yt(o/2+c*2,-c,c,20,-180,-270),...Yt(o/2+c*2,c,c,20,-90,-180),{x:-o/2-c,y:-l/2},...Yt(o/2,l/2,c,20,0,90)],f=[...Yt(-o/2+c+c/2,-l/2,c,20,-90,-180),{x:o/2-c/2,y:c},...Yt(-o/2-c/2,-c,c,20,0,90),...Yt(-o/2-c/2,c,c,20,-90,0),{x:o/2-c/2,y:-c},...Yt(-o/2+c+c/2,l/2,c,30,-180,-270)],p=[{x:o/2,y:-l/2-c},{x:-o/2,y:-l/2-c},...Yt(o/2,-l/2,c,20,-90,0),{x:-o/2-c,y:-c},...Yt(o/2+c*2,-c,c,20,-180,-270),...Yt(o/2+c*2,c,c,20,-90,-180),{x:-o/2-c,y:l/2},...Yt(o/2,l/2,c,20,0,90),{x:-o/2,y:l/2+c},{x:o/2-c-c/2,y:l/2+c},...Yt(-o/2+c+c/2,-l/2,c,20,-90,-180),{x:o/2-c/2,y:c},...Yt(-o/2-c/2,-c,c,20,0,90),...Yt(-o/2-c/2,c,c,20,-90,0),{x:o/2-c/2,y:-c},...Yt(-o/2+c+c/2,l/2,c,30,-180,-270)],d=Q.svg(i),m=J(e,{fill:"none"});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=xt(u).replace("Z",""),b=d.path(y,m),S=xt(f).replace("Z",""),v=d.path(S,m),_=xt(p),F=d.path(_,{...m}),P=i.insert("g",":first-child");return P.insert(()=>F,":first-child").attr("stroke-opacity",0),P.insert(()=>b,":first-child"),P.insert(()=>v,":first-child"),P.attr("class","text"),h&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",n),P.attr("transform",`translate(${c-c/4}, 0)`),s.attr("transform",`translate(${-o/2+(e.padding??0)/2-(a.x-(a.left??0))},${-l/2+(e.padding??0)/2-(a.y-(a.top??0))})`),nt(e,P),e.intersect=function(q){return K.polygon(e,p,q)},i}g(by,"curlyBraces");async function wy(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await ht(t,e,ut(e)),s=80,o=20,l=Math.max(s,(a.width+(e.padding??0)*2)*1.25,(e==null?void 0:e.width)??0),c=Math.max(o,a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=c/2,{cssStyles:u}=e,f=Q.svg(i),p=J(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const d=l,m=c,x=d-h,y=m/4,b=[{x,y:0},{x:y,y:0},{x:0,y:m/2},{x:y,y:m},{x,y:m},...zc(-x,-m/2,h,50,270,90)],C=xt(b),S=f.path(C,p),v=i.insert(()=>S,":first-child");return v.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",u),n&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),v.attr("transform",`translate(${-l/2}, ${-c/2})`),nt(e,v),e.intersect=function(_){return K.polygon(e,b,_)},i}g(wy,"curvedTrapezoid");var PA=g((t,e,r,n,i,a)=>[`M${t},${e+a}`,`a${i},${a} 0,0,0 ${r},0`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createCylinderPathD"),OA=g((t,e,r,n,i,a)=>[`M${t},${e+a}`,`M${t+r},${e+a}`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createOuterCylinderPathD"),NA=g((t,e,r,n,i,a)=>[`M${t-r/2},${-n/2}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function Cy(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await ht(t,e,ut(e)),o=Math.max(a.width+e.padding,e.width??0),l=o/2,c=l/(2.5+o/50),h=Math.max(a.height+c+e.padding,e.height??0);let u;const{cssStyles:f}=e;if(e.look==="handDrawn"){const p=Q.svg(i),d=OA(0,0,o,h,l,c),m=NA(0,c,o,h,l,c),x=p.path(d,J(e,{})),y=p.path(m,J(e,{fill:"none"}));u=i.insert(()=>y,":first-child"),u=i.insert(()=>x,":first-child"),u.attr("class","basic label-container"),f&&u.attr("style",f)}else{const p=PA(0,0,o,h,l,c);u=i.insert("path",":first-child").attr("d",p).attr("class","basic label-container").attr("style",oe(f)).attr("style",n)}return u.attr("label-offset-y",c),u.attr("transform",`translate(${-o/2}, ${-(h/2+c)})`),nt(e,u),s.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+(e.padding??0)/1.5-(a.y-(a.top??0))})`),e.intersect=function(p){const d=K.rect(e,p),m=d.x-(e.x??0);if(l!=0&&(Math.abs(m)<(e.width??0)/2||Math.abs(m)==(e.width??0)/2&&Math.abs(d.y-(e.y??0))>(e.height??0)/2-c)){let x=c*c*(1-m*m/(l*l));x>0&&(x=Math.sqrt(x)),x=c-x,p.y-(e.y??0)>0&&(x=-x),d.y+=x}return d},i}g(Cy,"cylinder");async function ky(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await ht(t,e,ut(e)),o=a.width+e.padding,l=a.height+e.padding,c=l*.2,h=-o/2,u=-l/2-c/2,{cssStyles:f}=e,p=Q.svg(i),d=J(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const m=[{x:h,y:u+c},{x:-h,y:u+c},{x:-h,y:-u},{x:h,y:-u},{x:h,y:u},{x:-h,y:u},{x:-h,y:u+c}],x=p.polygon(m.map(b=>[b.x,b.y]),d),y=i.insert(()=>x,":first-child");return y.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",f),n&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",n),s.attr("transform",`translate(${h+(e.padding??0)/2-(a.x-(a.left??0))}, ${u+c+(e.padding??0)/2-(a.y-(a.top??0))})`),nt(e,y),e.intersect=function(b){return K.rect(e,b)},i}g(ky,"dividedRectangle");async function _y(t,e){var f,p;const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,halfPadding:s}=await ht(t,e,ut(e)),l=a.width/2+s+5,c=a.width/2+s;let h;const{cssStyles:u}=e;if(e.look==="handDrawn"){const d=Q.svg(i),m=J(e,{roughness:.2,strokeWidth:2.5}),x=J(e,{roughness:.2,strokeWidth:1.5}),y=d.circle(0,0,l*2,m),b=d.circle(0,0,c*2,x);h=i.insert("g",":first-child"),h.attr("class",oe(e.cssClasses)).attr("style",oe(u)),(f=h.node())==null||f.appendChild(y),(p=h.node())==null||p.appendChild(b)}else{h=i.insert("g",":first-child");const d=h.insert("circle",":first-child"),m=h.insert("circle");h.attr("class","basic label-container").attr("style",n),d.attr("class","outer-circle").attr("style",n).attr("r",l).attr("cx",0).attr("cy",0),m.attr("class","inner-circle").attr("style",n).attr("r",c).attr("cx",0).attr("cy",0)}return nt(e,h),e.intersect=function(d){return z.info("DoubleCircle intersect",e,l,d),K.circle(e,l,d)},i}g(_y,"doublecircle");function vy(t,e,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=it(e);e.label="",e.labelStyle=n;const a=t.insert("g").attr("class",ut(e)).attr("id",e.domId??e.id),s=7,{cssStyles:o}=e,l=Q.svg(a),{nodeBorder:c}=r,h=J(e,{fillStyle:"solid"});e.look!=="handDrawn"&&(h.roughness=0);const u=l.circle(0,0,s*2,h),f=a.insert(()=>u,":first-child");return f.selectAll("path").attr("style",`fill: ${c} !important;`),o&&o.length>0&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",o),i&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",i),nt(e,f),e.intersect=function(p){return z.info("filledCircle intersect",e,{radius:s,point:p}),K.circle(e,s,p)},a}g(vy,"filledCircle");async function Sy(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await ht(t,e,ut(e)),o=a.width+(e.padding??0),l=o+a.height,c=o+a.height,h=[{x:0,y:-l},{x:c,y:-l},{x:c/2,y:0}],{cssStyles:u}=e,f=Q.svg(i),p=J(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const d=xt(h),m=f.path(d,p),x=i.insert(()=>m,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`);return u&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",u),n&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),e.width=o,e.height=l,nt(e,x),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-l/2+(e.padding??0)/2+(a.y-(a.top??0))})`),e.intersect=function(y){return z.info("Triangle intersect",e,h,y),K.polygon(e,h,y)},i}g(Sy,"flippedTriangle");function Ty(t,e,{dir:r,config:{state:n,themeVariables:i}}){const{nodeStyles:a}=it(e);e.label="";const s=t.insert("g").attr("class",ut(e)).attr("id",e.domId??e.id),{cssStyles:o}=e;let l=Math.max(70,(e==null?void 0:e.width)??0),c=Math.max(10,(e==null?void 0:e.height)??0);r==="LR"&&(l=Math.max(10,(e==null?void 0:e.width)??0),c=Math.max(70,(e==null?void 0:e.height)??0));const h=-1*l/2,u=-1*c/2,f=Q.svg(s),p=J(e,{stroke:i.lineColor,fill:i.lineColor});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const d=f.rectangle(h,u,l,c,p),m=s.insert(()=>d,":first-child");o&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",o),a&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",a),nt(e,m);const x=(n==null?void 0:n.padding)??0;return e.width&&e.height&&(e.width+=x/2||0,e.height+=x/2||0),e.intersect=function(y){return K.rect(e,y)},s}g(Ty,"forkJoin");async function Ey(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const i=80,a=50,{shapeSvg:s,bbox:o}=await ht(t,e,ut(e)),l=Math.max(i,o.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),c=Math.max(a,o.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=c/2,{cssStyles:u}=e,f=Q.svg(s),p=J(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const d=[{x:-l/2,y:-c/2},{x:l/2-h,y:-c/2},...zc(-l/2+h,0,h,50,90,270),{x:l/2-h,y:c/2},{x:-l/2,y:c/2}],m=xt(d),x=f.path(m,p),y=s.insert(()=>x,":first-child");return y.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",u),n&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),nt(e,y),e.intersect=function(b){return z.info("Pill intersect",e,{radius:h,point:b}),K.polygon(e,d,b)},s}g(Ey,"halfRoundedRectangle");var zA=g((t,e,r,n,i)=>[`M${t+i},${e}`,`L${t+r-i},${e}`,`L${t+r},${e-n/2}`,`L${t+r-i},${e-n}`,`L${t+i},${e-n}`,`L${t},${e-n/2}`,"Z"].join(" "),"createHexagonPathD");async function Ay(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await ht(t,e,ut(e)),s=4,o=a.height+e.padding,l=o/s,c=a.width+2*l+e.padding,h=[{x:l,y:0},{x:c-l,y:0},{x:c,y:-o/2},{x:c-l,y:-o},{x:l,y:-o},{x:0,y:-o/2}];let u;const{cssStyles:f}=e;if(e.look==="handDrawn"){const p=Q.svg(i),d=J(e,{}),m=zA(0,0,c,o,l),x=p.path(m,d);u=i.insert(()=>x,":first-child").attr("transform",`translate(${-c/2}, ${o/2})`),f&&u.attr("style",f)}else u=yr(i,c,o,h);return n&&u.attr("style",n),e.width=c,e.height=o,nt(e,u),e.intersect=function(p){return K.polygon(e,h,p)},i}g(Ay,"hexagon");async function Ly(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.label="",e.labelStyle=r;const{shapeSvg:i}=await ht(t,e,ut(e)),a=Math.max(30,(e==null?void 0:e.width)??0),s=Math.max(30,(e==null?void 0:e.height)??0),{cssStyles:o}=e,l=Q.svg(i),c=J(e,{});e.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");const h=[{x:0,y:0},{x:a,y:0},{x:0,y:s},{x:a,y:s}],u=xt(h),f=l.path(u,c),p=i.insert(()=>f,":first-child");return p.attr("class","basic label-container"),o&&e.look!=="handDrawn"&&p.selectChildren("path").attr("style",o),n&&e.look!=="handDrawn"&&p.selectChildren("path").attr("style",n),p.attr("transform",`translate(${-a/2}, ${-s/2})`),nt(e,p),e.intersect=function(d){return z.info("Pill intersect",e,{points:h}),K.polygon(e,h,d)},i}g(Ly,"hourglass");async function By(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=it(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:c,bbox:h,label:u}=await ht(t,e,"icon-shape default"),f=e.pos==="t",p=o,d=o,{nodeBorder:m}=r,{stylesMap:x}=Un(e),y=-d/2,b=-p/2,C=e.label?8:0,S=Q.svg(c),v=J(e,{stroke:"none",fill:"none"});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const _=S.rectangle(y,b,d,p,v),F=Math.max(d,h.width),P=p+h.height+C,q=S.rectangle(-F/2,-P/2,F,P,{...v,fill:"transparent",stroke:"none"}),O=c.insert(()=>_,":first-child"),E=c.insert(()=>q);if(e.icon){const R=c.append("g");R.html(`<g>${await _s(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const N=R.node().getBBox(),$=N.width,I=N.height,A=N.x,B=N.y;R.attr("transform",`translate(${-$/2-A},${f?h.height/2+C/2-I/2-B:-h.height/2-C/2-I/2-B})`),R.attr("style",`color: ${x.get("stroke")??m};`)}return u.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${f?-P/2:P/2-h.height})`),O.attr("transform",`translate(0,${f?h.height/2+C/2:-h.height/2-C/2})`),nt(e,E),e.intersect=function(R){if(z.info("iconSquare intersect",e,R),!e.label)return K.rect(e,R);const N=e.x??0,$=e.y??0,I=e.height??0;let A=[];return f?A=[{x:N-h.width/2,y:$-I/2},{x:N+h.width/2,y:$-I/2},{x:N+h.width/2,y:$-I/2+h.height+C},{x:N+d/2,y:$-I/2+h.height+C},{x:N+d/2,y:$+I/2},{x:N-d/2,y:$+I/2},{x:N-d/2,y:$-I/2+h.height+C},{x:N-h.width/2,y:$-I/2+h.height+C}]:A=[{x:N-d/2,y:$-I/2},{x:N+d/2,y:$-I/2},{x:N+d/2,y:$-I/2+p},{x:N+h.width/2,y:$-I/2+p},{x:N+h.width/2/2,y:$+I/2},{x:N-h.width/2,y:$+I/2},{x:N-h.width/2,y:$-I/2+p},{x:N-d/2,y:$-I/2+p}],K.polygon(e,A,R)},c}g(By,"icon");async function My(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=it(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:c,bbox:h,label:u}=await ht(t,e,"icon-shape default"),f=20,p=e.label?8:0,d=e.pos==="t",{nodeBorder:m,mainBkg:x}=r,{stylesMap:y}=Un(e),b=Q.svg(c),C=J(e,{});e.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const S=y.get("fill");C.stroke=S??x;const v=c.append("g");e.icon&&v.html(`<g>${await _s(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const _=v.node().getBBox(),F=_.width,P=_.height,q=_.x,O=_.y,E=Math.max(F,P)*Math.SQRT2+f*2,R=b.circle(0,0,E,C),N=Math.max(E,h.width),$=E+h.height+p,I=b.rectangle(-N/2,-$/2,N,$,{...C,fill:"transparent",stroke:"none"}),A=c.insert(()=>R,":first-child"),B=c.insert(()=>I);return v.attr("transform",`translate(${-F/2-q},${d?h.height/2+p/2-P/2-O:-h.height/2-p/2-P/2-O})`),v.attr("style",`color: ${y.get("stroke")??m};`),u.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${d?-$/2:$/2-h.height})`),A.attr("transform",`translate(0,${d?h.height/2+p/2:-h.height/2-p/2})`),nt(e,B),e.intersect=function(L){return z.info("iconSquare intersect",e,L),K.rect(e,L)},c}g(My,"iconCircle");async function Fy(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=it(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:c,bbox:h,halfPadding:u,label:f}=await ht(t,e,"icon-shape default"),p=e.pos==="t",d=o+u*2,m=o+u*2,{nodeBorder:x,mainBkg:y}=r,{stylesMap:b}=Un(e),C=-m/2,S=-d/2,v=e.label?8:0,_=Q.svg(c),F=J(e,{});e.look!=="handDrawn"&&(F.roughness=0,F.fillStyle="solid");const P=b.get("fill");F.stroke=P??y;const q=_.path(mr(C,S,m,d,5),F),O=Math.max(m,h.width),E=d+h.height+v,R=_.rectangle(-O/2,-E/2,O,E,{...F,fill:"transparent",stroke:"none"}),N=c.insert(()=>q,":first-child").attr("class","icon-shape2"),$=c.insert(()=>R);if(e.icon){const I=c.append("g");I.html(`<g>${await _s(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const A=I.node().getBBox(),B=A.width,L=A.height,W=A.x,w=A.y;I.attr("transform",`translate(${-B/2-W},${p?h.height/2+v/2-L/2-w:-h.height/2-v/2-L/2-w})`),I.attr("style",`color: ${b.get("stroke")??x};`)}return f.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${p?-E/2:E/2-h.height})`),N.attr("transform",`translate(0,${p?h.height/2+v/2:-h.height/2-v/2})`),nt(e,$),e.intersect=function(I){if(z.info("iconSquare intersect",e,I),!e.label)return K.rect(e,I);const A=e.x??0,B=e.y??0,L=e.height??0;let W=[];return p?W=[{x:A-h.width/2,y:B-L/2},{x:A+h.width/2,y:B-L/2},{x:A+h.width/2,y:B-L/2+h.height+v},{x:A+m/2,y:B-L/2+h.height+v},{x:A+m/2,y:B+L/2},{x:A-m/2,y:B+L/2},{x:A-m/2,y:B-L/2+h.height+v},{x:A-h.width/2,y:B-L/2+h.height+v}]:W=[{x:A-m/2,y:B-L/2},{x:A+m/2,y:B-L/2},{x:A+m/2,y:B-L/2+d},{x:A+h.width/2,y:B-L/2+d},{x:A+h.width/2/2,y:B+L/2},{x:A-h.width/2,y:B+L/2},{x:A-h.width/2,y:B-L/2+d},{x:A-m/2,y:B-L/2+d}],K.polygon(e,W,I)},c}g(Fy,"iconRounded");async function Iy(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=it(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:c,bbox:h,halfPadding:u,label:f}=await ht(t,e,"icon-shape default"),p=e.pos==="t",d=o+u*2,m=o+u*2,{nodeBorder:x,mainBkg:y}=r,{stylesMap:b}=Un(e),C=-m/2,S=-d/2,v=e.label?8:0,_=Q.svg(c),F=J(e,{});e.look!=="handDrawn"&&(F.roughness=0,F.fillStyle="solid");const P=b.get("fill");F.stroke=P??y;const q=_.path(mr(C,S,m,d,.1),F),O=Math.max(m,h.width),E=d+h.height+v,R=_.rectangle(-O/2,-E/2,O,E,{...F,fill:"transparent",stroke:"none"}),N=c.insert(()=>q,":first-child"),$=c.insert(()=>R);if(e.icon){const I=c.append("g");I.html(`<g>${await _s(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const A=I.node().getBBox(),B=A.width,L=A.height,W=A.x,w=A.y;I.attr("transform",`translate(${-B/2-W},${p?h.height/2+v/2-L/2-w:-h.height/2-v/2-L/2-w})`),I.attr("style",`color: ${b.get("stroke")??x};`)}return f.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${p?-E/2:E/2-h.height})`),N.attr("transform",`translate(0,${p?h.height/2+v/2:-h.height/2-v/2})`),nt(e,$),e.intersect=function(I){if(z.info("iconSquare intersect",e,I),!e.label)return K.rect(e,I);const A=e.x??0,B=e.y??0,L=e.height??0;let W=[];return p?W=[{x:A-h.width/2,y:B-L/2},{x:A+h.width/2,y:B-L/2},{x:A+h.width/2,y:B-L/2+h.height+v},{x:A+m/2,y:B-L/2+h.height+v},{x:A+m/2,y:B+L/2},{x:A-m/2,y:B+L/2},{x:A-m/2,y:B-L/2+h.height+v},{x:A-h.width/2,y:B-L/2+h.height+v}]:W=[{x:A-m/2,y:B-L/2},{x:A+m/2,y:B-L/2},{x:A+m/2,y:B-L/2+d},{x:A+h.width/2,y:B-L/2+d},{x:A+h.width/2/2,y:B+L/2},{x:A-h.width/2,y:B+L/2},{x:A-h.width/2,y:B-L/2+d},{x:A-m/2,y:B-L/2+d}],K.polygon(e,W,I)},c}g(Iy,"iconSquare");async function $y(t,e,{config:{flowchart:r}}){const n=new Image;n.src=(e==null?void 0:e.img)??"",await n.decode();const i=Number(n.naturalWidth.toString().replace("px","")),a=Number(n.naturalHeight.toString().replace("px",""));e.imageAspectRatio=i/a;const{labelStyles:s}=it(e);e.labelStyle=s;const o=r==null?void 0:r.wrappingWidth;e.defaultWidth=r==null?void 0:r.wrappingWidth;const l=Math.max(e.label?o??0:0,(e==null?void 0:e.assetWidth)??i),c=e.constraint==="on"&&e!=null&&e.assetHeight?e.assetHeight*e.imageAspectRatio:l,h=e.constraint==="on"?c/e.imageAspectRatio:(e==null?void 0:e.assetHeight)??a;e.width=Math.max(c,o??0);const{shapeSvg:u,bbox:f,label:p}=await ht(t,e,"image-shape default"),d=e.pos==="t",m=-c/2,x=-h/2,y=e.label?8:0,b=Q.svg(u),C=J(e,{});e.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const S=b.rectangle(m,x,c,h,C),v=Math.max(c,f.width),_=h+f.height+y,F=b.rectangle(-v/2,-_/2,v,_,{...C,fill:"none",stroke:"none"}),P=u.insert(()=>S,":first-child"),q=u.insert(()=>F);if(e.img){const O=u.append("image");O.attr("href",e.img),O.attr("width",c),O.attr("height",h),O.attr("preserveAspectRatio","none"),O.attr("transform",`translate(${-c/2},${d?_/2-h:-_/2})`)}return p.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${d?-h/2-f.height/2-y/2:h/2-f.height/2+y/2})`),P.attr("transform",`translate(0,${d?f.height/2+y/2:-f.height/2-y/2})`),nt(e,q),e.intersect=function(O){if(z.info("iconSquare intersect",e,O),!e.label)return K.rect(e,O);const E=e.x??0,R=e.y??0,N=e.height??0;let $=[];return d?$=[{x:E-f.width/2,y:R-N/2},{x:E+f.width/2,y:R-N/2},{x:E+f.width/2,y:R-N/2+f.height+y},{x:E+c/2,y:R-N/2+f.height+y},{x:E+c/2,y:R+N/2},{x:E-c/2,y:R+N/2},{x:E-c/2,y:R-N/2+f.height+y},{x:E-f.width/2,y:R-N/2+f.height+y}]:$=[{x:E-c/2,y:R-N/2},{x:E+c/2,y:R-N/2},{x:E+c/2,y:R-N/2+h},{x:E+f.width/2,y:R-N/2+h},{x:E+f.width/2/2,y:R+N/2},{x:E-f.width/2,y:R+N/2},{x:E-f.width/2,y:R-N/2+h},{x:E-c/2,y:R-N/2+h}],K.polygon(e,$,O)},u}g($y,"imageSquare");async function Dy(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await ht(t,e,ut(e)),s=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),l=[{x:0,y:0},{x:s,y:0},{x:s+3*o/6,y:-o},{x:-3*o/6,y:-o}];let c;const{cssStyles:h}=e;if(e.look==="handDrawn"){const u=Q.svg(i),f=J(e,{}),p=xt(l),d=u.path(p,f);c=i.insert(()=>d,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),h&&c.attr("style",h)}else c=yr(i,s,o,l);return n&&c.attr("style",n),e.width=s,e.height=o,nt(e,c),e.intersect=function(u){return K.polygon(e,l,u)},i}g(Dy,"inv_trapezoid");async function Ns(t,e,r){const{labelStyles:n,nodeStyles:i}=it(e);e.labelStyle=n;const{shapeSvg:a,bbox:s}=await ht(t,e,ut(e)),o=Math.max(s.width+r.labelPaddingX*2,(e==null?void 0:e.width)||0),l=Math.max(s.height+r.labelPaddingY*2,(e==null?void 0:e.height)||0),c=-o/2,h=-l/2;let u,{rx:f,ry:p}=e;const{cssStyles:d}=e;if(r!=null&&r.rx&&r.ry&&(f=r.rx,p=r.ry),e.look==="handDrawn"){const m=Q.svg(a),x=J(e,{}),y=f||p?m.path(mr(c,h,o,l,f||0),x):m.rectangle(c,h,o,l,x);u=a.insert(()=>y,":first-child"),u.attr("class","basic label-container").attr("style",oe(d))}else u=a.insert("rect",":first-child"),u.attr("class","basic label-container").attr("style",i).attr("rx",oe(f)).attr("ry",oe(p)).attr("x",c).attr("y",h).attr("width",o).attr("height",l);return nt(e,u),e.intersect=function(m){return K.rect(e,m)},a}g(Ns,"drawRect");async function Ry(t,e){const{shapeSvg:r,bbox:n,label:i}=await ht(t,e,"label"),a=r.insert("rect",":first-child");return a.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),i.attr("transform",`translate(${-(n.width/2)-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),nt(e,a),e.intersect=function(l){return K.rect(e,l)},r}g(Ry,"labelRect");async function Py(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await ht(t,e,ut(e)),s=Math.max(a.width+(e.padding??0),(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0),(e==null?void 0:e.height)??0),l=[{x:0,y:0},{x:s+3*o/6,y:0},{x:s,y:-o},{x:-(3*o)/6,y:-o}];let c;const{cssStyles:h}=e;if(e.look==="handDrawn"){const u=Q.svg(i),f=J(e,{}),p=xt(l),d=u.path(p,f);c=i.insert(()=>d,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),h&&c.attr("style",h)}else c=yr(i,s,o,l);return n&&c.attr("style",n),e.width=s,e.height=o,nt(e,c),e.intersect=function(u){return K.polygon(e,l,u)},i}g(Py,"lean_left");async function Oy(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await ht(t,e,ut(e)),s=Math.max(a.width+(e.padding??0),(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0),(e==null?void 0:e.height)??0),l=[{x:-3*o/6,y:0},{x:s,y:0},{x:s+3*o/6,y:-o},{x:0,y:-o}];let c;const{cssStyles:h}=e;if(e.look==="handDrawn"){const u=Q.svg(i),f=J(e,{}),p=xt(l),d=u.path(p,f);c=i.insert(()=>d,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),h&&c.attr("style",h)}else c=yr(i,s,o,l);return n&&c.attr("style",n),e.width=s,e.height=o,nt(e,c),e.intersect=function(u){return K.polygon(e,l,u)},i}g(Oy,"lean_right");function Ny(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.label="",e.labelStyle=r;const i=t.insert("g").attr("class",ut(e)).attr("id",e.domId??e.id),{cssStyles:a}=e,s=Math.max(35,(e==null?void 0:e.width)??0),o=Math.max(35,(e==null?void 0:e.height)??0),l=7,c=[{x:s,y:0},{x:0,y:o+l/2},{x:s-2*l,y:o+l/2},{x:0,y:2*o},{x:s,y:o-l/2},{x:2*l,y:o-l/2}],h=Q.svg(i),u=J(e,{});e.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const f=xt(c),p=h.path(f,u),d=i.insert(()=>p,":first-child");return a&&e.look!=="handDrawn"&&d.selectAll("path").attr("style",a),n&&e.look!=="handDrawn"&&d.selectAll("path").attr("style",n),d.attr("transform",`translate(-${s/2},${-o})`),nt(e,d),e.intersect=function(m){return z.info("lightningBolt intersect",e,m),K.polygon(e,c,m)},i}g(Ny,"lightningBolt");var qA=g((t,e,r,n,i,a,s)=>[`M${t},${e+a}`,`a${i},${a} 0,0,0 ${r},0`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`,`M${t},${e+a+s}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),HA=g((t,e,r,n,i,a,s)=>[`M${t},${e+a}`,`M${t+r},${e+a}`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`,`M${t},${e+a+s}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),WA=g((t,e,r,n,i,a)=>[`M${t-r/2},${-n/2}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function zy(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await ht(t,e,ut(e)),o=Math.max(a.width+(e.padding??0),e.width??0),l=o/2,c=l/(2.5+o/50),h=Math.max(a.height+c+(e.padding??0),e.height??0),u=h*.1;let f;const{cssStyles:p}=e;if(e.look==="handDrawn"){const d=Q.svg(i),m=HA(0,0,o,h,l,c,u),x=WA(0,c,o,h,l,c),y=J(e,{}),b=d.path(m,y),C=d.path(x,y);i.insert(()=>C,":first-child").attr("class","line"),f=i.insert(()=>b,":first-child"),f.attr("class","basic label-container"),p&&f.attr("style",p)}else{const d=qA(0,0,o,h,l,c,u);f=i.insert("path",":first-child").attr("d",d).attr("class","basic label-container").attr("style",oe(p)).attr("style",n)}return f.attr("label-offset-y",c),f.attr("transform",`translate(${-o/2}, ${-(h/2+c)})`),nt(e,f),s.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+c-(a.y-(a.top??0))})`),e.intersect=function(d){const m=K.rect(e,d),x=m.x-(e.x??0);if(l!=0&&(Math.abs(x)<(e.width??0)/2||Math.abs(x)==(e.width??0)/2&&Math.abs(m.y-(e.y??0))>(e.height??0)/2-c)){let y=c*c*(1-x*x/(l*l));y>0&&(y=Math.sqrt(y)),y=c-y,d.y-(e.y??0)>0&&(y=-y),m.y+=y}return m},i}g(zy,"linedCylinder");async function qy(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await ht(t,e,ut(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=l/4,h=l+c,{cssStyles:u}=e,f=Q.svg(i),p=J(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const d=[{x:-o/2-o/2*.1,y:-h/2},{x:-o/2-o/2*.1,y:h/2},...Lr(-o/2-o/2*.1,h/2,o/2+o/2*.1,h/2,c,.8),{x:o/2+o/2*.1,y:-h/2},{x:-o/2-o/2*.1,y:-h/2},{x:-o/2,y:-h/2},{x:-o/2,y:h/2*1.1},{x:-o/2,y:-h/2}],m=f.polygon(d.map(y=>[y.x,y.y]),p),x=i.insert(()=>m,":first-child");return x.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",u),n&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",n),x.attr("transform",`translate(0,${-c/2})`),s.attr("transform",`translate(${-o/2+(e.padding??0)+o/2*.1/2-(a.x-(a.left??0))},${-l/2+(e.padding??0)-c/2-(a.y-(a.top??0))})`),nt(e,x),e.intersect=function(y){return K.polygon(e,d,y)},i}g(qy,"linedWaveEdgedRect");async function Hy(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await ht(t,e,ut(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=5,h=-o/2,u=-l/2,{cssStyles:f}=e,p=Q.svg(i),d=J(e,{}),m=[{x:h-c,y:u+c},{x:h-c,y:u+l+c},{x:h+o-c,y:u+l+c},{x:h+o-c,y:u+l},{x:h+o,y:u+l},{x:h+o,y:u+l-c},{x:h+o+c,y:u+l-c},{x:h+o+c,y:u-c},{x:h+c,y:u-c},{x:h+c,y:u},{x:h,y:u},{x:h,y:u+c}],x=[{x:h,y:u+c},{x:h+o-c,y:u+c},{x:h+o-c,y:u+l},{x:h+o,y:u+l},{x:h+o,y:u},{x:h,y:u}];e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const y=xt(m),b=p.path(y,d),C=xt(x),S=p.path(C,{...d,fill:"none"}),v=i.insert(()=>S,":first-child");return v.insert(()=>b,":first-child"),v.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",f),n&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",n),s.attr("transform",`translate(${-(a.width/2)-c-(a.x-(a.left??0))}, ${-(a.height/2)+c-(a.y-(a.top??0))})`),nt(e,v),e.intersect=function(_){return K.polygon(e,m,_)},i}g(Hy,"multiRect");async function Wy(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await ht(t,e,ut(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=l/4,h=l+c,u=-o/2,f=-h/2,p=5,{cssStyles:d}=e,m=Lr(u-p,f+h+p,u+o-p,f+h+p,c,.8),x=m==null?void 0:m[m.length-1],y=[{x:u-p,y:f+p},{x:u-p,y:f+h+p},...m,{x:u+o-p,y:x.y-p},{x:u+o,y:x.y-p},{x:u+o,y:x.y-2*p},{x:u+o+p,y:x.y-2*p},{x:u+o+p,y:f-p},{x:u+p,y:f-p},{x:u+p,y:f},{x:u,y:f},{x:u,y:f+p}],b=[{x:u,y:f+p},{x:u+o-p,y:f+p},{x:u+o-p,y:x.y-p},{x:u+o,y:x.y-p},{x:u+o,y:f},{x:u,y:f}],C=Q.svg(i),S=J(e,{});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const v=xt(y),_=C.path(v,S),F=xt(b),P=C.path(F,S),q=i.insert(()=>_,":first-child");return q.insert(()=>P),q.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&q.selectAll("path").attr("style",d),n&&e.look!=="handDrawn"&&q.selectAll("path").attr("style",n),q.attr("transform",`translate(0,${-c/2})`),s.attr("transform",`translate(${-(a.width/2)-p-(a.x-(a.left??0))}, ${-(a.height/2)+p-c/2-(a.y-(a.top??0))})`),nt(e,q),e.intersect=function(O){return K.polygon(e,y,O)},i}g(Wy,"multiWaveEdgedRectangle");async function jy(t,e,{config:{themeVariables:r}}){var y;const{labelStyles:n,nodeStyles:i}=it(e);e.labelStyle=n,e.useHtmlLabels||((y=Ne().flowchart)==null?void 0:y.htmlLabels)!==!1||(e.centerLabel=!0);const{shapeSvg:s,bbox:o}=await ht(t,e,ut(e)),l=Math.max(o.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),c=Math.max(o.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=-l/2,u=-c/2,{cssStyles:f}=e,p=Q.svg(s),d=J(e,{fill:r.noteBkgColor,stroke:r.noteBorderColor});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const m=p.rectangle(h,u,l,c,d),x=s.insert(()=>m,":first-child");return x.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",f),i&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",i),nt(e,x),e.intersect=function(b){return K.rect(e,b)},s}g(jy,"note");var jA=g((t,e,r)=>[`M${t+r/2},${e}`,`L${t+r},${e-r/2}`,`L${t+r/2},${e-r}`,`L${t},${e-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function Uy(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await ht(t,e,ut(e)),s=a.width+e.padding,o=a.height+e.padding,l=s+o,c=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];let h;const{cssStyles:u}=e;if(e.look==="handDrawn"){const f=Q.svg(i),p=J(e,{}),d=jA(0,0,l),m=f.path(d,p);h=i.insert(()=>m,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`),u&&h.attr("style",u)}else h=yr(i,l,l,c);return n&&h.attr("style",n),nt(e,h),e.intersect=function(f){return z.debug(`APA12 Intersect called SPLIT
point:`,f,`
node:
`,e,`
res:`,K.polygon(e,c,f)),K.polygon(e,c,f)},i}g(Uy,"question");async function Yy(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await ht(t,e,ut(e)),o=Math.max(a.width+(e.padding??0),(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0),(e==null?void 0:e.height)??0),c=-o/2,h=-l/2,u=h/2,f=[{x:c+u,y:h},{x:c,y:0},{x:c+u,y:-h},{x:-c,y:-h},{x:-c,y:h}],{cssStyles:p}=e,d=Q.svg(i),m=J(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const x=xt(f),y=d.path(x,m),b=i.insert(()=>y,":first-child");return b.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",n),b.attr("transform",`translate(${-u/2},0)`),s.attr("transform",`translate(${-u/2-a.width/2-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),nt(e,b),e.intersect=function(C){return K.polygon(e,f,C)},i}g(Yy,"rect_left_inv_arrow");async function Vy(t,e){var P,q;const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;let i;e.cssClasses?i="node "+e.cssClasses:i="node default";const a=t.insert("g").attr("class",i).attr("id",e.domId||e.id),s=a.insert("g"),o=a.insert("g").attr("class","label").attr("style",n),l=e.description,c=e.label,h=o.node().appendChild(await Ur(c,e.labelStyle,!0,!0));let u={width:0,height:0};if(Xt((q=(P=_t())==null?void 0:P.flowchart)==null?void 0:q.htmlLabels)){const O=h.children[0],E=kt(h);u=O.getBoundingClientRect(),E.attr("width",u.width),E.attr("height",u.height)}z.info("Text 2",l);const f=l||[],p=h.getBBox(),d=o.node().appendChild(await Ur(f.join?f.join("<br/>"):f,e.labelStyle,!0,!0)),m=d.children[0],x=kt(d);u=m.getBoundingClientRect(),x.attr("width",u.width),x.attr("height",u.height);const y=(e.padding||0)/2;kt(d).attr("transform","translate( "+(u.width>p.width?0:(p.width-u.width)/2)+", "+(p.height+y+5)+")"),kt(h).attr("transform","translate( "+(u.width<p.width?0:-(p.width-u.width)/2)+", 0)"),u=o.node().getBBox(),o.attr("transform","translate("+-u.width/2+", "+(-u.height/2-y+3)+")");const b=u.width+(e.padding||0),C=u.height+(e.padding||0),S=-u.width/2-y,v=-u.height/2-y;let _,F;if(e.look==="handDrawn"){const O=Q.svg(a),E=J(e,{}),R=O.path(mr(S,v,b,C,e.rx||0),E),N=O.line(-u.width/2-y,-u.height/2-y+p.height+y,u.width/2+y,-u.height/2-y+p.height+y,E);F=a.insert(()=>(z.debug("Rough node insert CXC",R),N),":first-child"),_=a.insert(()=>(z.debug("Rough node insert CXC",R),R),":first-child")}else _=s.insert("rect",":first-child"),F=s.insert("line"),_.attr("class","outer title-state").attr("style",n).attr("x",-u.width/2-y).attr("y",-u.height/2-y).attr("width",u.width+(e.padding||0)).attr("height",u.height+(e.padding||0)),F.attr("class","divider").attr("x1",-u.width/2-y).attr("x2",u.width/2+y).attr("y1",-u.height/2-y+p.height+y).attr("y2",-u.height/2-y+p.height+y);return nt(e,_),e.intersect=function(O){return K.rect(e,O)},a}g(Vy,"rectWithTitle");async function Gy(t,e){const r={rx:5,ry:5,classes:"",labelPaddingX:((e==null?void 0:e.padding)||0)*1,labelPaddingY:((e==null?void 0:e.padding)||0)*1};return Ns(t,e,r)}g(Gy,"roundedRect");async function Xy(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await ht(t,e,ut(e)),o=(e==null?void 0:e.padding)??0,l=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),c=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=-a.width/2-o,u=-a.height/2-o,{cssStyles:f}=e,p=Q.svg(i),d=J(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const m=[{x:h,y:u},{x:h+l+8,y:u},{x:h+l+8,y:u+c},{x:h-8,y:u+c},{x:h-8,y:u},{x:h,y:u},{x:h,y:u+c}],x=p.polygon(m.map(b=>[b.x,b.y]),d),y=i.insert(()=>x,":first-child");return y.attr("class","basic label-container").attr("style",oe(f)),n&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",n),f&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",n),s.attr("transform",`translate(${-l/2+4+(e.padding??0)-(a.x-(a.left??0))},${-c/2+(e.padding??0)-(a.y-(a.top??0))})`),nt(e,y),e.intersect=function(b){return K.rect(e,b)},i}g(Xy,"shadedProcess");async function Ky(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await ht(t,e,ut(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=-o/2,h=-l/2,{cssStyles:u}=e,f=Q.svg(i),p=J(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const d=[{x:c,y:h},{x:c,y:h+l},{x:c+o,y:h+l},{x:c+o,y:h-l/2}],m=xt(d),x=f.path(m,p),y=i.insert(()=>x,":first-child");return y.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",u),n&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),y.attr("transform",`translate(0, ${l/4})`),s.attr("transform",`translate(${-o/2+(e.padding??0)-(a.x-(a.left??0))}, ${-l/4+(e.padding??0)-(a.y-(a.top??0))})`),nt(e,y),e.intersect=function(b){return K.polygon(e,d,b)},i}g(Ky,"slopedRect");async function Zy(t,e){const r={rx:0,ry:0,classes:"",labelPaddingX:((e==null?void 0:e.padding)||0)*2,labelPaddingY:((e==null?void 0:e.padding)||0)*1};return Ns(t,e,r)}g(Zy,"squareRect");async function Qy(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await ht(t,e,ut(e)),s=a.height+e.padding,o=a.width+s/4+e.padding;let l;const{cssStyles:c}=e;if(e.look==="handDrawn"){const h=Q.svg(i),u=J(e,{}),f=mr(-o/2,-s/2,o,s,s/2),p=h.path(f,u);l=i.insert(()=>p,":first-child"),l.attr("class","basic label-container").attr("style",oe(c))}else l=i.insert("rect",":first-child"),l.attr("class","basic label-container").attr("style",n).attr("rx",s/2).attr("ry",s/2).attr("x",-o/2).attr("y",-s/2).attr("width",o).attr("height",s);return nt(e,l),e.intersect=function(h){return K.rect(e,h)},i}g(Qy,"stadium");async function Jy(t,e){return Ns(t,e,{rx:5,ry:5,classes:"flowchart-node"})}g(Jy,"state");function t0(t,e,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=it(e);e.labelStyle=n;const{cssStyles:a}=e,{lineColor:s,stateBorder:o,nodeBorder:l}=r,c=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),h=Q.svg(c),u=J(e,{});e.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const f=h.circle(0,0,14,{...u,stroke:s,strokeWidth:2}),p=o??l,d=h.circle(0,0,5,{...u,fill:p,stroke:p,strokeWidth:2,fillStyle:"solid"}),m=c.insert(()=>f,":first-child");return m.insert(()=>d),a&&m.selectAll("path").attr("style",a),i&&m.selectAll("path").attr("style",i),nt(e,m),e.intersect=function(x){return K.circle(e,7,x)},c}g(t0,"stateEnd");function e0(t,e,{config:{themeVariables:r}}){const{lineColor:n}=r,i=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let a;if(e.look==="handDrawn"){const o=Q.svg(i).circle(0,0,14,vA(n));a=i.insert(()=>o),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else a=i.insert("circle",":first-child"),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return nt(e,a),e.intersect=function(s){return K.circle(e,7,s)},i}g(e0,"stateStart");async function r0(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await ht(t,e,ut(e)),s=((e==null?void 0:e.padding)||0)/2,o=a.width+e.padding,l=a.height+e.padding,c=-a.width/2-s,h=-a.height/2-s,u=[{x:0,y:0},{x:o,y:0},{x:o,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-l},{x:-8,y:-l},{x:-8,y:0}];if(e.look==="handDrawn"){const f=Q.svg(i),p=J(e,{}),d=f.rectangle(c-8,h,o+16,l,p),m=f.line(c,h,c,h+l,p),x=f.line(c+o,h,c+o,h+l,p);i.insert(()=>m,":first-child"),i.insert(()=>x,":first-child");const y=i.insert(()=>d,":first-child"),{cssStyles:b}=e;y.attr("class","basic label-container").attr("style",oe(b)),nt(e,y)}else{const f=yr(i,o,l,u);n&&f.attr("style",n),nt(e,f)}return e.intersect=function(f){return K.polygon(e,u,f)},i}g(r0,"subroutine");async function n0(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await ht(t,e,ut(e)),s=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),l=-s/2,c=-o/2,h=.2*o,u=.2*o,{cssStyles:f}=e,p=Q.svg(i),d=J(e,{}),m=[{x:l-h/2,y:c},{x:l+s+h/2,y:c},{x:l+s+h/2,y:c+o},{x:l-h/2,y:c+o}],x=[{x:l+s-h/2,y:c+o},{x:l+s+h/2,y:c+o},{x:l+s+h/2,y:c+o-u}];e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const y=xt(m),b=p.path(y,d),C=xt(x),S=p.path(C,{...d,fillStyle:"solid"}),v=i.insert(()=>S,":first-child");return v.insert(()=>b,":first-child"),v.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",f),n&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",n),nt(e,v),e.intersect=function(_){return K.polygon(e,m,_)},i}g(n0,"taggedRect");async function i0(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await ht(t,e,ut(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=l/4,h=.2*o,u=.2*l,f=l+c,{cssStyles:p}=e,d=Q.svg(i),m=J(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const x=[{x:-o/2-o/2*.1,y:f/2},...Lr(-o/2-o/2*.1,f/2,o/2+o/2*.1,f/2,c,.8),{x:o/2+o/2*.1,y:-f/2},{x:-o/2-o/2*.1,y:-f/2}],y=-o/2+o/2*.1,b=-f/2-u*.4,C=[{x:y+o-h,y:(b+l)*1.4},{x:y+o,y:b+l-u},{x:y+o,y:(b+l)*.9},...Lr(y+o,(b+l)*1.3,y+o-h,(b+l)*1.5,-l*.03,.5)],S=xt(x),v=d.path(S,m),_=xt(C),F=d.path(_,{...m,fillStyle:"solid"}),P=i.insert(()=>F,":first-child");return P.insert(()=>v,":first-child"),P.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",n),P.attr("transform",`translate(0,${-c/2})`),s.attr("transform",`translate(${-o/2+(e.padding??0)-(a.x-(a.left??0))},${-l/2+(e.padding??0)-c/2-(a.y-(a.top??0))})`),nt(e,P),e.intersect=function(q){return K.polygon(e,x,q)},i}g(i0,"taggedWaveEdgedRectangle");async function a0(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await ht(t,e,ut(e)),s=Math.max(a.width+e.padding,(e==null?void 0:e.width)||0),o=Math.max(a.height+e.padding,(e==null?void 0:e.height)||0),l=-s/2,c=-o/2,h=i.insert("rect",":first-child");return h.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",l).attr("y",c).attr("width",s).attr("height",o),nt(e,h),e.intersect=function(u){return K.rect(e,u)},i}g(a0,"text");var UA=g((t,e,r,n,i,a)=>`M${t},${e}
    a${i},${a} 0,0,1 0,${-n}
    l${r},0
    a${i},${a} 0,0,1 0,${n}
    M${r},${-n}
    a${i},${a} 0,0,0 0,${n}
    l${-r},0`,"createCylinderPathD"),YA=g((t,e,r,n,i,a)=>[`M${t},${e}`,`M${t+r},${e}`,`a${i},${a} 0,0,0 0,${-n}`,`l${-r},0`,`a${i},${a} 0,0,0 0,${n}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),VA=g((t,e,r,n,i,a)=>[`M${t+r/2},${-n/2}`,`a${i},${a} 0,0,0 0,${n}`].join(" "),"createInnerCylinderPathD");async function s0(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s,halfPadding:o}=await ht(t,e,ut(e)),l=e.look==="neo"?o*2:o,c=a.height+l,h=c/2,u=h/(2.5+c/50),f=a.width+u+l,{cssStyles:p}=e;let d;if(e.look==="handDrawn"){const m=Q.svg(i),x=YA(0,0,f,c,u,h),y=VA(0,0,f,c,u,h),b=m.path(x,J(e,{})),C=m.path(y,J(e,{fill:"none"}));d=i.insert(()=>C,":first-child"),d=i.insert(()=>b,":first-child"),d.attr("class","basic label-container"),p&&d.attr("style",p)}else{const m=UA(0,0,f,c,u,h);d=i.insert("path",":first-child").attr("d",m).attr("class","basic label-container").attr("style",oe(p)).attr("style",n),d.attr("class","basic label-container"),p&&d.selectAll("path").attr("style",p),n&&d.selectAll("path").attr("style",n)}return d.attr("label-offset-x",u),d.attr("transform",`translate(${-f/2}, ${c/2} )`),s.attr("transform",`translate(${-(a.width/2)-u-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),nt(e,d),e.intersect=function(m){const x=K.rect(e,m),y=x.y-(e.y??0);if(h!=0&&(Math.abs(y)<(e.height??0)/2||Math.abs(y)==(e.height??0)/2&&Math.abs(x.x-(e.x??0))>(e.width??0)/2-u)){let b=u*u*(1-y*y/(h*h));b!=0&&(b=Math.sqrt(b)),b=u-b,m.x-(e.x??0)>0&&(b=-b),x.x+=b}return x},i}g(s0,"tiltedCylinder");async function o0(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await ht(t,e,ut(e)),s=a.width+e.padding,o=a.height+e.padding,l=[{x:-3*o/6,y:0},{x:s+3*o/6,y:0},{x:s,y:-o},{x:0,y:-o}];let c;const{cssStyles:h}=e;if(e.look==="handDrawn"){const u=Q.svg(i),f=J(e,{}),p=xt(l),d=u.path(p,f);c=i.insert(()=>d,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),h&&c.attr("style",h)}else c=yr(i,s,o,l);return n&&c.attr("style",n),e.width=s,e.height=o,nt(e,c),e.intersect=function(u){return K.polygon(e,l,u)},i}g(o0,"trapezoid");async function l0(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await ht(t,e,ut(e)),s=60,o=20,l=Math.max(s,a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),c=Math.max(o,a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),{cssStyles:h}=e,u=Q.svg(i),f=J(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=[{x:-l/2*.8,y:-c/2},{x:l/2*.8,y:-c/2},{x:l/2,y:-c/2*.6},{x:l/2,y:c/2},{x:-l/2,y:c/2},{x:-l/2,y:-c/2*.6}],d=xt(p),m=u.path(d,f),x=i.insert(()=>m,":first-child");return x.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",h),n&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),nt(e,x),e.intersect=function(y){return K.polygon(e,p,y)},i}g(l0,"trapezoidalPentagon");async function c0(t,e){var b;const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await ht(t,e,ut(e)),o=Xt((b=_t().flowchart)==null?void 0:b.htmlLabels),l=a.width+(e.padding??0),c=l+a.height,h=l+a.height,u=[{x:0,y:0},{x:h,y:0},{x:h/2,y:-c}],{cssStyles:f}=e,p=Q.svg(i),d=J(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const m=xt(u),x=p.path(m,d),y=i.insert(()=>x,":first-child").attr("transform",`translate(${-c/2}, ${c/2})`);return f&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",f),n&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),e.width=l,e.height=c,nt(e,y),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${c/2-(a.height+(e.padding??0)/(o?2:1)-(a.y-(a.top??0)))})`),e.intersect=function(C){return z.info("Triangle intersect",e,u,C),K.polygon(e,u,C)},i}g(c0,"triangle");async function h0(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await ht(t,e,ut(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=l/8,h=l+c,{cssStyles:u}=e,p=70-o,d=p>0?p/2:0,m=Q.svg(i),x=J(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const y=[{x:-o/2-d,y:h/2},...Lr(-o/2-d,h/2,o/2+d,h/2,c,.8),{x:o/2+d,y:-h/2},{x:-o/2-d,y:-h/2}],b=xt(y),C=m.path(b,x),S=i.insert(()=>C,":first-child");return S.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",u),n&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",n),S.attr("transform",`translate(0,${-c/2})`),s.attr("transform",`translate(${-o/2+(e.padding??0)-(a.x-(a.left??0))},${-l/2+(e.padding??0)-c-(a.y-(a.top??0))})`),nt(e,S),e.intersect=function(v){return K.polygon(e,y,v)},i}g(h0,"waveEdgedRectangle");async function u0(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await ht(t,e,ut(e)),s=100,o=50,l=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),c=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=l/c;let u=l,f=c;u>f*h?f=u/h:u=f*h,u=Math.max(u,s),f=Math.max(f,o);const p=Math.min(f*.2,f/4),d=f+p*2,{cssStyles:m}=e,x=Q.svg(i),y=J(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const b=[{x:-u/2,y:d/2},...Lr(-u/2,d/2,u/2,d/2,p,1),{x:u/2,y:-d/2},...Lr(u/2,-d/2,-u/2,-d/2,p,-1)],C=xt(b),S=x.path(C,y),v=i.insert(()=>S,":first-child");return v.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",m),n&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",n),nt(e,v),e.intersect=function(_){return K.polygon(e,b,_)},i}g(u0,"waveRectangle");async function f0(t,e){const{labelStyles:r,nodeStyles:n}=it(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await ht(t,e,ut(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=5,h=-o/2,u=-l/2,{cssStyles:f}=e,p=Q.svg(i),d=J(e,{}),m=[{x:h-c,y:u-c},{x:h-c,y:u+l},{x:h+o,y:u+l},{x:h+o,y:u-c}],x=`M${h-c},${u-c} L${h+o},${u-c} L${h+o},${u+l} L${h-c},${u+l} L${h-c},${u-c}
                M${h-c},${u} L${h+o},${u}
                M${h},${u-c} L${h},${u+l}`;e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const y=p.path(x,d),b=i.insert(()=>y,":first-child");return b.attr("transform",`translate(${c/2}, ${c/2})`),b.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",f),n&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",n),s.attr("transform",`translate(${-(a.width/2)+c/2-(a.x-(a.left??0))}, ${-(a.height/2)+c/2-(a.y-(a.top??0))})`),nt(e,b),e.intersect=function(C){return K.polygon(e,m,C)},i}g(f0,"windowPane");async function p0(t,e,r,n,i=r.class.padding??12){const a=n?0:3,s=t.insert("g").attr("class",ut(e)).attr("id",e.domId||e.id);let o=null,l=null,c=null,h=null,u=0,f=0,p=0;if(o=s.insert("g").attr("class","annotation-group text"),e.annotations.length>0){const b=e.annotations[0];await xi(o,{text:`«${b}»`},0),u=o.node().getBBox().height}l=s.insert("g").attr("class","label-group text"),await xi(l,e,0,["font-weight: bolder"]);const d=l.node().getBBox();f=d.height,c=s.insert("g").attr("class","members-group text");let m=0;for(const b of e.members){const C=await xi(c,b,m,[b.parseClassifier()]);m+=C+a}p=c.node().getBBox().height,p<=0&&(p=i/2),h=s.insert("g").attr("class","methods-group text");let x=0;for(const b of e.methods){const C=await xi(h,b,x,[b.parseClassifier()]);x+=C+a}let y=s.node().getBBox();if(o!==null){const b=o.node().getBBox();o.attr("transform",`translate(${-b.width/2})`)}return l.attr("transform",`translate(${-d.width/2}, ${u})`),y=s.node().getBBox(),c.attr("transform",`translate(0, ${u+f+i*2})`),y=s.node().getBBox(),h.attr("transform",`translate(0, ${u+f+(p?p+i*4:i*2)})`),y=s.node().getBBox(),{shapeSvg:s,bbox:y}}g(p0,"textHelper");async function xi(t,e,r,n=[]){const i=t.insert("g").attr("class","label").attr("style",n.join("; ")),a=Ne();let s="useHtmlLabels"in e?e.useHtmlLabels:Xt(a.htmlLabels)??!0,o="";"text"in e?o=e.text:o=e.label,!s&&o.startsWith("\\")&&(o=o.substring(1)),Mn(o)&&(s=!0);const l=await Wn(i,Bp(Hn(o)),{width:Rn(o,a)+50,classes:"markdown-node-label",useHtmlLabels:s},a);let c,h=1;if(s){const u=l.children[0],f=kt(l);h=u.innerHTML.split("<br>").length,u.innerHTML.includes("</math>")&&(h+=u.innerHTML.split("<mrow>").length-1);const p=u.getElementsByTagName("img");if(p){const d=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...p].map(m=>new Promise(x=>{function y(){var b;if(m.style.display="flex",m.style.flexDirection="column",d){const C=((b=a.fontSize)==null?void 0:b.toString())??window.getComputedStyle(document.body).fontSize,v=parseInt(C,10)*5+"px";m.style.minWidth=v,m.style.maxWidth=v}else m.style.width="100%";x(m)}g(y,"setupImage"),setTimeout(()=>{m.complete&&y()}),m.addEventListener("error",y),m.addEventListener("load",y)})))}c=u.getBoundingClientRect(),f.attr("width",c.width),f.attr("height",c.height)}else{n.includes("font-weight: bolder")&&kt(l).selectAll("tspan").attr("font-weight",""),h=l.children.length;const u=l.children[0];(l.textContent===""||l.textContent.includes("&gt"))&&(u.textContent=o[0]+o.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),o[1]===" "&&(u.textContent=u.textContent[0]+" "+u.textContent.substring(1))),u.textContent==="undefined"&&(u.textContent=""),c=l.getBBox()}return i.attr("transform","translate(0,"+(-c.height/(2*h)+r)+")"),c.height}g(xi,"addText");async function d0(t,e){var q,O;const r=_t(),n=r.class.padding??12,i=n,a=e.useHtmlLabels??Xt(r.htmlLabels)??!0,s=e;s.annotations=s.annotations??[],s.members=s.members??[],s.methods=s.methods??[];const{shapeSvg:o,bbox:l}=await p0(t,e,r,a,i),{labelStyles:c,nodeStyles:h}=it(e);e.labelStyle=c,e.cssStyles=s.styles||"";const u=((q=s.styles)==null?void 0:q.join(";"))||h||"";e.cssStyles||(e.cssStyles=u.replaceAll("!important","").split(";"));const f=s.members.length===0&&s.methods.length===0&&!((O=r.class)!=null&&O.hideEmptyMembersBox),p=Q.svg(o),d=J(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const m=l.width;let x=l.height;s.members.length===0&&s.methods.length===0?x+=i:s.members.length>0&&s.methods.length===0&&(x+=i*2);const y=-m/2,b=-x/2,C=p.rectangle(y-n,b-n-(f?n:s.members.length===0&&s.methods.length===0?-n/2:0),m+2*n,x+2*n+(f?n*2:s.members.length===0&&s.methods.length===0?-n:0),d),S=o.insert(()=>C,":first-child");S.attr("class","basic label-container");const v=S.node().getBBox();o.selectAll(".text").each((E,R,N)=>{var W;const $=kt(N[R]),I=$.attr("transform");let A=0;if(I){const j=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(I);j&&(A=parseFloat(j[2]))}let B=A+b+n-(f?n:s.members.length===0&&s.methods.length===0?-n/2:0);a||(B-=4);let L=y;($.attr("class").includes("label-group")||$.attr("class").includes("annotation-group"))&&(L=-((W=$.node())==null?void 0:W.getBBox().width)/2||0,o.selectAll("text").each(function(w,j,pt){window.getComputedStyle(pt[j]).textAnchor==="middle"&&(L=0)})),$.attr("transform",`translate(${L}, ${B})`)});const _=o.select(".annotation-group").node().getBBox().height-(f?n/2:0)||0,F=o.select(".label-group").node().getBBox().height-(f?n/2:0)||0,P=o.select(".members-group").node().getBBox().height-(f?n/2:0)||0;if(s.members.length>0||s.methods.length>0||f){const E=p.line(v.x,_+F+b+n,v.x+v.width,_+F+b+n,d);o.insert(()=>E).attr("class","divider").attr("style",u)}if(f||s.members.length>0||s.methods.length>0){const E=p.line(v.x,_+F+P+b+i*2+n,v.x+v.width,_+F+P+b+n+i*2,d);o.insert(()=>E).attr("class","divider").attr("style",u)}if(s.look!=="handDrawn"&&o.selectAll("path").attr("style",u),S.select(":nth-child(2)").attr("style",u),o.selectAll(".divider").select("path").attr("style",u),e.labelStyle?o.selectAll("span").attr("style",e.labelStyle):o.selectAll("span").attr("style",u),!a){const E=RegExp(/color\s*:\s*([^;]*)/),R=E.exec(u);if(R){const N=R[0].replace("color","fill");o.selectAll("tspan").attr("style",N)}else if(c){const N=E.exec(c);if(N){const $=N[0].replace("color","fill");o.selectAll("tspan").attr("style",$)}}}return nt(e,S),e.intersect=function(E){return K.rect(e,E)},o}g(d0,"classBox");var GA=g(t=>{switch(t){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function g0(t,e,{config:r}){var R,N;const{labelStyles:n,nodeStyles:i}=it(e);e.labelStyle=n||"";const a=10,s=e.width;e.width=(e.width??200)-10;const{shapeSvg:o,bbox:l,label:c}=await ht(t,e,ut(e)),h=e.padding||10;let u="",f;"ticket"in e&&e.ticket&&((R=r==null?void 0:r.kanban)!=null&&R.ticketBaseUrl)&&(u=(N=r==null?void 0:r.kanban)==null?void 0:N.ticketBaseUrl.replace("#TICKET#",e.ticket),f=o.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",u).attr("target","_blank"));const p={useHtmlLabels:e.useHtmlLabels,labelStyle:e.labelStyle||"",width:e.width,img:e.img,padding:e.padding||8,centerLabel:!1};let d,m;f?{label:d,bbox:m}=await yo(f,"ticket"in e&&e.ticket||"",p):{label:d,bbox:m}=await yo(o,"ticket"in e&&e.ticket||"",p);const{label:x,bbox:y}=await yo(o,"assigned"in e&&e.assigned||"",p);e.width=s;const b=10,C=(e==null?void 0:e.width)||0,S=Math.max(m.height,y.height)/2,v=Math.max(l.height+b*2,(e==null?void 0:e.height)||0)+S,_=-C/2,F=-v/2;c.attr("transform","translate("+(h-C/2)+", "+(-S-l.height/2)+")"),d.attr("transform","translate("+(h-C/2)+", "+(-S+l.height/2)+")"),x.attr("transform","translate("+(h+C/2-y.width-2*a)+", "+(-S+l.height/2)+")");let P;const{rx:q,ry:O}=e,{cssStyles:E}=e;if(e.look==="handDrawn"){const $=Q.svg(o),I=J(e,{}),A=q||O?$.path(mr(_,F,C,v,q||0),I):$.rectangle(_,F,C,v,I);P=o.insert(()=>A,":first-child"),P.attr("class","basic label-container").attr("style",E||null)}else{P=o.insert("rect",":first-child"),P.attr("class","basic label-container __APA__").attr("style",i).attr("rx",q??5).attr("ry",O??5).attr("x",_).attr("y",F).attr("width",C).attr("height",v);const $="priority"in e&&e.priority;if($){const I=o.append("line"),A=_+2,B=F+Math.floor((q??0)/2),L=F+v-Math.floor((q??0)/2);I.attr("x1",A).attr("y1",B).attr("x2",A).attr("y2",L).attr("stroke-width","4").attr("stroke",GA($))}}return nt(e,P),e.height=v,e.intersect=function($){return K.rect(e,$)},o}g(g0,"kanbanItem");var XA=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:Zy},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:Gy},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:Qy},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:r0},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:Cy},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:dy},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:Uy},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:Ay},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:Oy},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:Py},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:o0},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:Dy},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:_y},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:a0},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:fy},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:Xy},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:e0},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:t0},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:Ty},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:Ly},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:yy},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:xy},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:by},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:Ny},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:h0},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:Ey},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:s0},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:zy},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:wy},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:ky},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:c0},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:f0},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:vy},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:l0},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:Sy},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:Ky},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:Wy},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:Hy},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:uy},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:my},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:i0},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:n0},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:u0},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:Yy},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:qy}],KA=g(()=>{const e=[...Object.entries({state:Jy,choice:py,note:jy,rectWithTitle:Vy,labelRect:Ry,iconSquare:Iy,iconCircle:My,icon:By,iconRounded:Fy,imageSquare:$y,anchor:hy,kanbanItem:g0,classBox:d0}),...XA.flatMap(r=>[r.shortName,..."aliases"in r?r.aliases:[],..."internalAliases"in r?r.internalAliases:[]].map(i=>[i,r.handler]))];return Object.fromEntries(e)},"generateShapeMap"),m0=KA();function ZA(t){return t in m0}g(ZA,"isValidShape");var zs=new Map;async function y0(t,e,r){let n,i;e.shape==="rect"&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect");const a=e.shape?m0[e.shape]:void 0;if(!a)throw new Error(`No such shape: ${e.shape}. Please check your syntax.`);if(e.link){let s;r.config.securityLevel==="sandbox"?s="_top":e.linkTarget&&(s=e.linkTarget||"_blank"),n=t.insert("svg:a").attr("xlink:href",e.link).attr("target",s??null),i=await a(n,e,r)}else i=await a(t,e,r),n=i;return e.tooltip&&i.attr("title",e.tooltip),zs.set(e.id,n),e.haveCallback&&n.attr("class",n.attr("class")+" clickable"),n}g(y0,"insertNode");var X3=g((t,e)=>{zs.set(e.id,t)},"setNodeElem"),K3=g(()=>{zs.clear()},"clear"),Z3=g(t=>{const e=zs.get(t.id);z.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const r=8,n=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+n-t.width/2)+", "+(t.y-t.height/2-r)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),n},"positionNode"),Le={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function bi(t,e){if(t===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};t=It(t),e=It(e);const[r,n]=[t.x,t.y],[i,a]=[e.x,e.y],s=i-r,o=a-n;return{angle:Math.atan(o/s),deltaX:s,deltaY:o}}g(bi,"calculateDeltaAndAngle");var It=g(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),QA=g(t=>({x:g(function(e,r,n){let i=0;const a=It(n[0]).x<It(n[n.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(Le,t.arrowTypeStart)){const{angle:p,deltaX:d}=bi(n[0],n[1]);i=Le[t.arrowTypeStart]*Math.cos(p)*(d>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(Le,t.arrowTypeEnd)){const{angle:p,deltaX:d}=bi(n[n.length-1],n[n.length-2]);i=Le[t.arrowTypeEnd]*Math.cos(p)*(d>=0?1:-1)}const s=Math.abs(It(e).x-It(n[n.length-1]).x),o=Math.abs(It(e).y-It(n[n.length-1]).y),l=Math.abs(It(e).x-It(n[0]).x),c=Math.abs(It(e).y-It(n[0]).y),h=Le[t.arrowTypeStart],u=Le[t.arrowTypeEnd],f=1;if(s<u&&s>0&&o<u){let p=u+f-s;p*=a==="right"?-1:1,i-=p}if(l<h&&l>0&&c<h){let p=h+f-l;p*=a==="right"?-1:1,i+=p}return It(e).x+i},"x"),y:g(function(e,r,n){let i=0;const a=It(n[0]).y<It(n[n.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(Le,t.arrowTypeStart)){const{angle:p,deltaY:d}=bi(n[0],n[1]);i=Le[t.arrowTypeStart]*Math.abs(Math.sin(p))*(d>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(Le,t.arrowTypeEnd)){const{angle:p,deltaY:d}=bi(n[n.length-1],n[n.length-2]);i=Le[t.arrowTypeEnd]*Math.abs(Math.sin(p))*(d>=0?1:-1)}const s=Math.abs(It(e).y-It(n[n.length-1]).y),o=Math.abs(It(e).x-It(n[n.length-1]).x),l=Math.abs(It(e).y-It(n[0]).y),c=Math.abs(It(e).x-It(n[0]).x),h=Le[t.arrowTypeStart],u=Le[t.arrowTypeEnd],f=1;if(s<u&&s>0&&o<u){let p=u+f-s;p*=a==="up"?-1:1,i-=p}if(l<h&&l>0&&c<h){let p=h+f-l;p*=a==="up"?-1:1,i+=p}return It(e).y+i},"y")}),"getLineFunctionsWithOffset"),JA=g((t,e,r,n,i)=>{e.arrowTypeStart&&Wu(t,"start",e.arrowTypeStart,r,n,i),e.arrowTypeEnd&&Wu(t,"end",e.arrowTypeEnd,r,n,i)},"addEdgeMarkers"),tL={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},Wu=g((t,e,r,n,i,a)=>{const s=tL[r];if(!s){z.warn(`Unknown arrow type: ${r}`);return}const o=e==="start"?"Start":"End";t.attr(`marker-${e}`,`url(${n}#${i}_${a}-${s}${o})`)},"addEdgeMarker"),fs=new Map,Vt=new Map,Q3=g(()=>{fs.clear(),Vt.clear()},"clear"),ui=g(t=>t?t.reduce((r,n)=>r+";"+n,""):"","getLabelStyles"),eL=g(async(t,e)=>{let r=Xt(_t().flowchart.htmlLabels);const n=await Wn(t,e.label,{style:ui(e.labelStyle),useHtmlLabels:r,addSvgBackground:!0,isNode:!1});z.info("abc82",e,e.labelType);const i=t.insert("g").attr("class","edgeLabel"),a=i.insert("g").attr("class","label");a.node().appendChild(n);let s=n.getBBox();if(r){const l=n.children[0],c=kt(n);s=l.getBoundingClientRect(),c.attr("width",s.width),c.attr("height",s.height)}a.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),fs.set(e.id,i),e.width=s.width,e.height=s.height;let o;if(e.startLabelLeft){const l=await Ur(e.startLabelLeft,ui(e.labelStyle)),c=t.insert("g").attr("class","edgeTerminals"),h=c.insert("g").attr("class","inner");o=h.node().appendChild(l);const u=l.getBBox();h.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),Vt.get(e.id)||Vt.set(e.id,{}),Vt.get(e.id).startLeft=c,wi(o,e.startLabelLeft)}if(e.startLabelRight){const l=await Ur(e.startLabelRight,ui(e.labelStyle)),c=t.insert("g").attr("class","edgeTerminals"),h=c.insert("g").attr("class","inner");o=c.node().appendChild(l),h.node().appendChild(l);const u=l.getBBox();h.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),Vt.get(e.id)||Vt.set(e.id,{}),Vt.get(e.id).startRight=c,wi(o,e.startLabelRight)}if(e.endLabelLeft){const l=await Ur(e.endLabelLeft,ui(e.labelStyle)),c=t.insert("g").attr("class","edgeTerminals"),h=c.insert("g").attr("class","inner");o=h.node().appendChild(l);const u=l.getBBox();h.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),c.node().appendChild(l),Vt.get(e.id)||Vt.set(e.id,{}),Vt.get(e.id).endLeft=c,wi(o,e.endLabelLeft)}if(e.endLabelRight){const l=await Ur(e.endLabelRight,ui(e.labelStyle)),c=t.insert("g").attr("class","edgeTerminals"),h=c.insert("g").attr("class","inner");o=h.node().appendChild(l);const u=l.getBBox();h.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),c.node().appendChild(l),Vt.get(e.id)||Vt.set(e.id,{}),Vt.get(e.id).endRight=c,wi(o,e.endLabelRight)}return n},"insertEdgeLabel");function wi(t,e){_t().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}g(wi,"setTerminalWidth");var rL=g((t,e)=>{z.debug("Moving label abc88 ",t.id,t.label,fs.get(t.id),e);let r=e.updatedPath?e.updatedPath:e.originalPath;const n=_t(),{subGraphTitleTotalMargin:i}=sc(n);if(t.label){const a=fs.get(t.id);let s=t.x,o=t.y;if(r){const l=Ve.calcLabelPosition(r);z.debug("Moving label "+t.label+" from (",s,",",o,") to (",l.x,",",l.y,") abc88"),e.updatedPath&&(s=l.x,o=l.y)}a.attr("transform",`translate(${s}, ${o+i/2})`)}if(t.startLabelLeft){const a=Vt.get(t.id).startLeft;let s=t.x,o=t.y;if(r){const l=Ve.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.startLabelRight){const a=Vt.get(t.id).startRight;let s=t.x,o=t.y;if(r){const l=Ve.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelLeft){const a=Vt.get(t.id).endLeft;let s=t.x,o=t.y;if(r){const l=Ve.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelRight){const a=Vt.get(t.id).endRight;let s=t.x,o=t.y;if(r){const l=Ve.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}},"positionEdgeLabel"),nL=g((t,e)=>{const r=t.x,n=t.y,i=Math.abs(e.x-r),a=Math.abs(e.y-n),s=t.width/2,o=t.height/2;return i>=s||a>=o},"outsideNode"),iL=g((t,e,r)=>{z.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const n=t.x,i=t.y,a=Math.abs(n-r.x),s=t.width/2;let o=r.x<e.x?s-a:s+a;const l=t.height/2,c=Math.abs(e.y-r.y),h=Math.abs(e.x-r.x);if(Math.abs(i-e.y)*s>Math.abs(n-e.x)*l){let u=r.y<e.y?e.y-l-i:i-l-e.y;o=h*u/c;const f={x:r.x<e.x?r.x+o:r.x-h+o,y:r.y<e.y?r.y+c-u:r.y-c+u};return o===0&&(f.x=e.x,f.y=e.y),h===0&&(f.x=e.x),c===0&&(f.y=e.y),z.debug(`abc89 top/bottom calc, Q ${c}, q ${u}, R ${h}, r ${o}`,f),f}else{r.x<e.x?o=e.x-s-n:o=n-s-e.x;let u=c*o/h,f=r.x<e.x?r.x+h-o:r.x-h+o,p=r.y<e.y?r.y+u:r.y-u;return z.debug(`sides calc abc89, Q ${c}, q ${u}, R ${h}, r ${o}`,{_x:f,_y:p}),o===0&&(f=e.x,p=e.y),h===0&&(f=e.x),c===0&&(p=e.y),{x:f,y:p}}},"intersection"),ju=g((t,e)=>{z.warn("abc88 cutPathAtIntersect",t,e);let r=[],n=t[0],i=!1;return t.forEach(a=>{if(z.info("abc88 checking point",a,e),!nL(e,a)&&!i){const s=iL(e,n,a);z.debug("abc88 inside",a,n,s),z.debug("abc88 intersection",s,e);let o=!1;r.forEach(l=>{o=o||l.x===s.x&&l.y===s.y}),r.some(l=>l.x===s.x&&l.y===s.y)?z.warn("abc88 no intersect",s,r):r.push(s),i=!0}else z.warn("abc88 outside",a,n),n=a,i||r.push(a)}),z.debug("returning points",r),r},"cutPathAtIntersect");function x0(t){const e=[],r=[];for(let n=1;n<t.length-1;n++){const i=t[n-1],a=t[n],s=t[n+1];(i.x===a.x&&a.y===s.y&&Math.abs(a.x-s.x)>5&&Math.abs(a.y-i.y)>5||i.y===a.y&&a.x===s.x&&Math.abs(a.x-i.x)>5&&Math.abs(a.y-s.y)>5)&&(e.push(a),r.push(n))}return{cornerPoints:e,cornerPointPositions:r}}g(x0,"extractCornerPoints");var Uu=g(function(t,e,r){const n=e.x-t.x,i=e.y-t.y,a=Math.sqrt(n*n+i*i),s=r/a;return{x:e.x-s*n,y:e.y-s*i}},"findAdjacentPoint"),aL=g(function(t){const{cornerPointPositions:e}=x0(t),r=[];for(let n=0;n<t.length;n++)if(e.includes(n)){const i=t[n-1],a=t[n+1],s=t[n],o=Uu(i,s,5),l=Uu(a,s,5),c=l.x-o.x,h=l.y-o.y;r.push(o);const u=Math.sqrt(2)*2;let f={x:s.x,y:s.y};if(Math.abs(a.x-i.x)>10&&Math.abs(a.y-i.y)>=10){z.debug("Corner point fixing",Math.abs(a.x-i.x),Math.abs(a.y-i.y));const p=5;s.x===o.x?f={x:c<0?o.x-p+u:o.x+p-u,y:h<0?o.y-u:o.y+u}:f={x:c<0?o.x-u:o.x+u,y:h<0?o.y-p+u:o.y+p-u}}else z.debug("Corner point skipping fixing",Math.abs(a.x-i.x),Math.abs(a.y-i.y));r.push(f,l)}else r.push(t[n]);return r},"fixCorners"),sL=g(function(t,e,r,n,i,a,s){const{handDrawnSeed:o}=_t();let l=e.points,c=!1;const h=i;var u=a;u.intersect&&h.intersect&&(l=l.slice(1,e.points.length-1),l.unshift(h.intersect(l[0])),z.debug("Last point APA12",e.start,"-->",e.end,l[l.length-1],u,u.intersect(l[l.length-1])),l.push(u.intersect(l[l.length-1]))),e.toCluster&&(z.info("to cluster abc88",r.get(e.toCluster)),l=ju(e.points,r.get(e.toCluster).node),c=!0),e.fromCluster&&(z.debug("from cluster abc88",r.get(e.fromCluster),JSON.stringify(l,null,2)),l=ju(l.reverse(),r.get(e.fromCluster).node).reverse(),c=!0);let f=l.filter(F=>!Number.isNaN(F.y));f=aL(f);let p=Yg;e.curve&&(p=e.curve);const{x:d,y:m}=QA(e),x=pv().x(d).y(m).curve(p);let y;switch(e.thickness){case"normal":y="edge-thickness-normal";break;case"thick":y="edge-thickness-thick";break;case"invisible":y="edge-thickness-invisible";break;default:y="edge-thickness-normal"}switch(e.pattern){case"solid":y+=" edge-pattern-solid";break;case"dotted":y+=" edge-pattern-dotted";break;case"dashed":y+=" edge-pattern-dashed";break;default:y+=" edge-pattern-solid"}let b,C=x(f);const S=Array.isArray(e.style)?e.style:[e.style];if(e.look==="handDrawn"){const F=Q.svg(t);Object.assign([],f);const P=F.path(C,{roughness:.3,seed:o});y+=" transition",b=kt(P).select("path").attr("id",e.id).attr("class"," "+y+(e.classes?" "+e.classes:"")).attr("style",S?S.reduce((O,E)=>O+";"+E,""):"");let q=b.attr("d");b.attr("d",q),t.node().appendChild(b.node())}else b=t.append("path").attr("d",C).attr("id",e.id).attr("class"," "+y+(e.classes?" "+e.classes:"")).attr("style",S?S.reduce((F,P)=>F+";"+P,""):"");let v="";(_t().flowchart.arrowMarkerAbsolute||_t().state.arrowMarkerAbsolute)&&(v=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,v=v.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),z.info("arrowTypeStart",e.arrowTypeStart),z.info("arrowTypeEnd",e.arrowTypeEnd),JA(b,e,v,s,n);let _={};return c&&(_.updatedPath=l),_.originalPath=e.points,_},"insertEdge"),oL=g((t,e,r,n)=>{e.forEach(i=>{yL[i](t,r,n)})},"insertMarkers"),lL=g((t,e,r)=>{z.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),cL=g((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),hL=g((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),uL=g((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),fL=g((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),pL=g((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),dL=g((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),gL=g((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),mL=g((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),yL={extension:lL,composition:cL,aggregation:hL,dependency:uL,lollipop:fL,point:pL,circle:dL,cross:gL,barb:mL},xL=oL,bL={common:Nn,getConfig:Ne,insertCluster:FA,insertEdge:sL,insertEdgeLabel:eL,insertMarkers:xL,insertNode:y0,interpolateToCurve:vc,labelHelper:ht,log:z,positionEdgeLabel:rL},zi={},b0=g(t=>{for(const e of t)zi[e.name]=e},"registerLayoutLoaders"),wL=g(()=>{b0([{name:"dagre",loader:g(async()=>await Et(()=>import("./c-dagre-SWNTG5WE.DWXwo0oD.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])),"loader")}])},"registerDefaultLayoutLoaders");wL();var J3=g(async(t,e)=>{if(!(t.layoutAlgorithm in zi))throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);const r=zi[t.layoutAlgorithm];return(await r.loader()).render(t,e,bL,{algorithm:r.algorithm})},"render"),tP=g((t="",{fallback:e="dagre"}={})=>{if(t in zi)return t;if(e in zi)return z.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm"),Yu="11.4.0",CL=g(t=>{var i;const{securityLevel:e}=_t();let r=kt("body");if(e==="sandbox"){const s=((i=kt(`#i${t}`).node())==null?void 0:i.contentDocument)??document;r=kt(s.body)}return r.select(`#${t}`)},"selectSvgElement"),w0="comm",C0="rule",k0="decl",kL="@import",_L="@keyframes",vL="@layer",_0=Math.abs,qc=String.fromCharCode;function v0(t){return t.trim()}function La(t,e,r){return t.replace(e,r)}function SL(t,e,r){return t.indexOf(e,r)}function qi(t,e){return t.charCodeAt(e)|0}function Pn(t,e,r){return t.slice(e,r)}function Ye(t){return t.length}function TL(t){return t.length}function ga(t,e){return e.push(t),t}var qs=1,On=1,S0=0,Fe=0,Pt=0,Yn="";function Hc(t,e,r,n,i,a,s,o){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:qs,column:On,length:s,return:"",siblings:o}}function EL(){return Pt}function AL(){return Pt=Fe>0?qi(Yn,--Fe):0,On--,Pt===10&&(On=1,qs--),Pt}function Oe(){return Pt=Fe<S0?qi(Yn,Fe++):0,On++,Pt===10&&(On=1,qs++),Pt}function _r(){return qi(Yn,Fe)}function Ba(){return Fe}function Hs(t,e){return Pn(Yn,t,e)}function Hi(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function LL(t){return qs=On=1,S0=Ye(Yn=t),Fe=0,[]}function BL(t){return Yn="",t}function xo(t){return v0(Hs(Fe-1,vl(t===91?t+2:t===40?t+1:t)))}function ML(t){for(;(Pt=_r())&&Pt<33;)Oe();return Hi(t)>2||Hi(Pt)>3?"":" "}function FL(t,e){for(;--e&&Oe()&&!(Pt<48||Pt>102||Pt>57&&Pt<65||Pt>70&&Pt<97););return Hs(t,Ba()+(e<6&&_r()==32&&Oe()==32))}function vl(t){for(;Oe();)switch(Pt){case t:return Fe;case 34:case 39:t!==34&&t!==39&&vl(Pt);break;case 40:t===41&&vl(t);break;case 92:Oe();break}return Fe}function IL(t,e){for(;Oe()&&t+Pt!==57;)if(t+Pt===84&&_r()===47)break;return"/*"+Hs(e,Fe-1)+"*"+qc(t===47?t:Oe())}function $L(t){for(;!Hi(_r());)Oe();return Hs(t,Fe)}function DL(t){return BL(Ma("",null,null,null,[""],t=LL(t),0,[0],t))}function Ma(t,e,r,n,i,a,s,o,l){for(var c=0,h=0,u=s,f=0,p=0,d=0,m=1,x=1,y=1,b=0,C="",S=i,v=a,_=n,F=C;x;)switch(d=b,b=Oe()){case 40:if(d!=108&&qi(F,u-1)==58){SL(F+=La(xo(b),"&","&\f"),"&\f",_0(c?o[c-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:F+=xo(b);break;case 9:case 10:case 13:case 32:F+=ML(d);break;case 92:F+=FL(Ba()-1,7);continue;case 47:switch(_r()){case 42:case 47:ga(RL(IL(Oe(),Ba()),e,r,l),l),(Hi(d||1)==5||Hi(_r()||1)==5)&&Ye(F)&&Pn(F,-1,void 0)!==" "&&(F+=" ");break;default:F+="/"}break;case 123*m:o[c++]=Ye(F)*y;case 125*m:case 59:case 0:switch(b){case 0:case 125:x=0;case 59+h:y==-1&&(F=La(F,/\f/g,"")),p>0&&(Ye(F)-u||m===0&&d===47)&&ga(p>32?Gu(F+";",n,r,u-1,l):Gu(La(F," ","")+";",n,r,u-2,l),l);break;case 59:F+=";";default:if(ga(_=Vu(F,e,r,c,h,i,o,C,S=[],v=[],u,a),a),b===123)if(h===0)Ma(F,e,_,_,S,a,u,o,v);else switch(f===99&&qi(F,3)===110?100:f){case 100:case 108:case 109:case 115:Ma(t,_,_,n&&ga(Vu(t,_,_,0,0,i,o,C,i,S=[],u,v),v),i,v,u,o,n?S:v);break;default:Ma(F,_,_,_,[""],v,0,o,v)}}c=h=p=0,m=y=1,C=F="",u=s;break;case 58:u=1+Ye(F),p=d;default:if(m<1){if(b==123)--m;else if(b==125&&m++==0&&AL()==125)continue}switch(F+=qc(b),b*m){case 38:y=h>0?1:(F+="\f",-1);break;case 44:o[c++]=(Ye(F)-1)*y,y=1;break;case 64:_r()===45&&(F+=xo(Oe())),f=_r(),h=u=Ye(C=F+=$L(Ba())),b++;break;case 45:d===45&&Ye(F)==2&&(m=0)}}return a}function Vu(t,e,r,n,i,a,s,o,l,c,h,u){for(var f=i-1,p=i===0?a:[""],d=TL(p),m=0,x=0,y=0;m<n;++m)for(var b=0,C=Pn(t,f+1,f=_0(x=s[m])),S=t;b<d;++b)(S=v0(x>0?p[b]+" "+C:La(C,/&\f/g,p[b])))&&(l[y++]=S);return Hc(t,e,r,i===0?C0:o,l,c,h,u)}function RL(t,e,r,n){return Hc(t,e,r,w0,qc(EL()),Pn(t,2,-2),0,n)}function Gu(t,e,r,n,i){return Hc(t,e,r,k0,Pn(t,0,n),Pn(t,n+1,-1),n,i)}function Sl(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function PL(t,e,r,n){switch(t.type){case vL:if(t.children.length)break;case kL:case k0:return t.return=t.return||t.value;case w0:return"";case _L:return t.return=t.value+"{"+Sl(t.children,n)+"}";case C0:if(!Ye(t.value=t.props.join(",")))return""}return Ye(r=Sl(t.children,n))?t.return=t.value+"{"+r+"}":""}var OL=sm(Object.keys,Object),NL=Object.prototype,zL=NL.hasOwnProperty;function qL(t){if(!Fs(t))return OL(t);var e=[];for(var r in Object(t))zL.call(t,r)&&r!="constructor"&&e.push(r);return e}var Tl=rn(nr,"DataView"),El=rn(nr,"Promise"),Al=rn(nr,"Set"),Ll=rn(nr,"WeakMap"),Xu="[object Map]",HL="[object Object]",Ku="[object Promise]",Zu="[object Set]",Qu="[object WeakMap]",Ju="[object DataView]",WL=en(Tl),jL=en(Ni),UL=en(El),YL=en(Al),VL=en(Ll),Nr=zn;(Tl&&Nr(new Tl(new ArrayBuffer(1)))!=Ju||Ni&&Nr(new Ni)!=Xu||El&&Nr(El.resolve())!=Ku||Al&&Nr(new Al)!=Zu||Ll&&Nr(new Ll)!=Qu)&&(Nr=function(t){var e=zn(t),r=e==HL?t.constructor:void 0,n=r?en(r):"";if(n)switch(n){case WL:return Ju;case jL:return Xu;case UL:return Ku;case YL:return Zu;case VL:return Qu}return e});var GL="[object Map]",XL="[object Set]",KL=Object.prototype,ZL=KL.hasOwnProperty;function tf(t){if(t==null)return!0;if(Is(t)&&(ns(t)||typeof t=="string"||typeof t.splice=="function"||kc(t)||_c(t)||rs(t)))return!t.length;var e=Nr(t);if(e==GL||e==XL)return!t.size;if(Fs(t))return!qL(t).length;for(var r in t)if(ZL.call(t,r))return!1;return!0}var T0="c4",QL=g(t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),"detector"),JL=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-c4Diagram-GPMAACGM.C32fG0np.js");return{diagram:e}},__vite__mapDeps([8,9,6,7]));return{id:T0,diagram:t}},"loader"),tB={id:T0,detector:QL,loader:JL},eB=tB,E0="flowchart",rB=g((t,e)=>{var r,n;return((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"||((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="elk"?!1:/^\s*graph/.test(t)},"detector"),nB=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-flowDiagram-TSWR6T2D.Ck6ffKlE.js");return{diagram:e}},__vite__mapDeps([10,11,12,6,7]));return{id:E0,diagram:t}},"loader"),iB={id:E0,detector:rB,loader:nB},aB=iB,A0="flowchart-v2",sB=g((t,e)=>{var r,n,i;return((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="dagre-d3"?!1:(((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="elk"&&(e.layout="elk"),/^\s*graph/.test(t)&&((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(t))},"detector"),oB=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-flowDiagram-TSWR6T2D.Ck6ffKlE.js");return{diagram:e}},__vite__mapDeps([10,11,12,6,7]));return{id:A0,diagram:t}},"loader"),lB={id:A0,detector:sB,loader:oB},cB=lB,L0="er",hB=g(t=>/^\s*erDiagram/.test(t),"detector"),uB=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-erDiagram-WO52GFNT.LFoF0V0f.js");return{diagram:e}},__vite__mapDeps([13,1,2,3,4,6,7]));return{id:L0,diagram:t}},"loader"),fB={id:L0,detector:hB,loader:uB},pB=fB,B0="gitGraph",dB=g(t=>/^\s*gitGraph/.test(t),"detector"),gB=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-gitGraphDiagram-5C7YHVU6.DJo58C4j.js");return{diagram:e}},__vite__mapDeps([14,15,16,17,2,4,5,6,7]));return{id:B0,diagram:t}},"loader"),mB={id:B0,detector:dB,loader:gB},yB=mB,M0="gantt",xB=g(t=>/^\s*gantt/.test(t),"detector"),bB=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-ganttDiagram-FAOCOTIY.R6hBUM4X.js");return{diagram:e}},__vite__mapDeps([18,6,7,19,20]));return{id:M0,diagram:t}},"loader"),wB={id:M0,detector:xB,loader:bB},CB=wB,F0="info",kB=g(t=>/^\s*info/.test(t),"detector"),_B=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-infoDiagram-P5D6MX3V.DdIyuX89.js");return{diagram:e}},__vite__mapDeps([21,17,2,4,5,6,7]));return{id:F0,diagram:t}},"loader"),vB={id:F0,detector:kB,loader:_B},I0="pie",SB=g(t=>/^\s*pie/.test(t),"detector"),TB=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-pieDiagram-BLWKPB35.lIooBhwN.js");return{diagram:e}},__vite__mapDeps([22,15,17,2,4,5,23,24,20,6,7]));return{id:I0,diagram:t}},"loader"),EB={id:I0,detector:SB,loader:TB},$0="quadrantChart",AB=g(t=>/^\s*quadrantChart/.test(t),"detector"),LB=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-quadrantDiagram-QXWEEFXS.DgfFRL-6.js");return{diagram:e}},__vite__mapDeps([25,19,20,6,7]));return{id:$0,diagram:t}},"loader"),BB={id:$0,detector:AB,loader:LB},MB=BB,D0="xychart",FB=g(t=>/^\s*xychart-beta/.test(t),"detector"),IB=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-xychartDiagram-MYLB5AYS.Bk6N2-gY.js");return{diagram:e}},__vite__mapDeps([26,20,24,19,6,7]));return{id:D0,diagram:t}},"loader"),$B={id:D0,detector:FB,loader:IB},DB=$B,R0="requirement",RB=g(t=>/^\s*requirement(Diagram)?/.test(t),"detector"),PB=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-requirementDiagram-XAUNFCZY.CocmbrW5.js");return{diagram:e}},__vite__mapDeps([27,1,2,3,4,6,7]));return{id:R0,diagram:t}},"loader"),OB={id:R0,detector:RB,loader:PB},NB=OB,P0="sequence",zB=g(t=>/^\s*sequenceDiagram/.test(t),"detector"),qB=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-sequenceDiagram-D25TJ2OB.BXnlbrZo.js");return{diagram:e}},__vite__mapDeps([28,9,16,6,7]));return{id:P0,diagram:t}},"loader"),HB={id:P0,detector:zB,loader:qB},WB=HB,O0="class",jB=g((t,e)=>{var r;return((r=e==null?void 0:e.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(t)},"detector"),UB=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-classDiagram-FEGYTUDG.T4l6upN8.js");return{diagram:e}},__vite__mapDeps([29,30,11,6,7]));return{id:O0,diagram:t}},"loader"),YB={id:O0,detector:jB,loader:UB},VB=YB,N0="classDiagram",GB=g((t,e)=>{var r;return/^\s*classDiagram/.test(t)&&((r=e==null?void 0:e.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(t)},"detector"),XB=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-classDiagram-v2-R65JCUOM.T4l6upN8.js");return{diagram:e}},__vite__mapDeps([31,30,11,6,7]));return{id:N0,diagram:t}},"loader"),KB={id:N0,detector:GB,loader:XB},ZB=KB,z0="state",QB=g((t,e)=>{var r;return((r=e==null?void 0:e.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(t)},"detector"),JB=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-stateDiagram-GNSP7T6Y.PmTUAwa8.js");return{diagram:e}},__vite__mapDeps([32,33,11,1,2,3,4,6,7]));return{id:z0,diagram:t}},"loader"),tM={id:z0,detector:QB,loader:JB},eM=tM,q0="stateDiagram",rM=g((t,e)=>{var r;return!!(/^\s*stateDiagram-v2/.test(t)||/^\s*stateDiagram/.test(t)&&((r=e==null?void 0:e.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper")},"detector"),nM=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-stateDiagram-v2-HP6YRVRG.mlRZ3fPK.js");return{diagram:e}},__vite__mapDeps([34,33,11,6,7]));return{id:q0,diagram:t}},"loader"),iM={id:q0,detector:rM,loader:nM},aM=iM,H0="journey",sM=g(t=>/^\s*journey/.test(t),"detector"),oM=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-journeyDiagram-UIGPPNLY.B4jif9w_.js");return{diagram:e}},__vite__mapDeps([35,9,23,6,7]));return{id:H0,diagram:t}},"loader"),lM={id:H0,detector:sM,loader:oM},cM=lM,hM=g((t,e,r)=>{z.debug(`rendering svg for syntax error
`);const n=CL(e),i=n.append("g");n.attr("viewBox","0 0 2412 512"),Ap(n,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),W0={draw:hM},uM=W0,fM={db:{},renderer:W0,parser:{parse:g(()=>{},"parse")}},pM=fM,j0="flowchart-elk",dM=g((t,e={})=>{var r;return/^\s*flowchart-elk/.test(t)||/^\s*flowchart|graph/.test(t)&&((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="elk"?(e.layout="elk",!0):!1},"detector"),gM=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-flowDiagram-TSWR6T2D.Ck6ffKlE.js");return{diagram:e}},__vite__mapDeps([10,11,12,6,7]));return{id:j0,diagram:t}},"loader"),mM={id:j0,detector:dM,loader:gM},yM=mM,U0="timeline",xM=g(t=>/^\s*timeline/.test(t),"detector"),bM=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-timeline-definition-27KQCCZ3.mVhogevl.js");return{diagram:e}},__vite__mapDeps([36,23,6,7]));return{id:U0,diagram:t}},"loader"),wM={id:U0,detector:xM,loader:bM},CM=wM,Y0="mindmap",kM=g(t=>/^\s*mindmap/.test(t),"detector"),_M=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-mindmap-definition-R7LC4OIY.CBpJ3Pex.js");return{diagram:e}},__vite__mapDeps([37,38,6,7]));return{id:Y0,diagram:t}},"loader"),vM={id:Y0,detector:kM,loader:_M},SM=vM,V0="kanban",TM=g(t=>/^\s*kanban/.test(t),"detector"),EM=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-kanban-definition-KMT3NSR2.uT1oEA61.js");return{diagram:e}},__vite__mapDeps([39,6,7]));return{id:V0,diagram:t}},"loader"),AM={id:V0,detector:TM,loader:EM},LM=AM,G0="sankey",BM=g(t=>/^\s*sankey-beta/.test(t),"detector"),MM=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-sankeyDiagram-LVV36NHA.BhdocKg_.js");return{diagram:e}},__vite__mapDeps([40,24,20,6,7]));return{id:G0,diagram:t}},"loader"),FM={id:G0,detector:BM,loader:MM},IM=FM,X0="packet",$M=g(t=>/^\s*packet-beta/.test(t),"detector"),DM=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-diagram-NZMEDLQF.DLTa1rZz.js");return{diagram:e}},__vite__mapDeps([41,15,17,2,4,5,6,7]));return{id:X0,diagram:t}},"loader"),RM={id:X0,detector:$M,loader:DM},K0="block",PM=g(t=>/^\s*block-beta/.test(t),"detector"),OM=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-blockDiagram-XN6IQ5JY.Bftekuos.js");return{diagram:e}},__vite__mapDeps([42,5,2,1,12,6,7]));return{id:K0,diagram:t}},"loader"),NM={id:K0,detector:PM,loader:OM},zM=NM,Z0="architecture",qM=g(t=>/^\s*architecture/.test(t),"detector"),HM=g(async()=>{const{diagram:t}=await Et(async()=>{const{diagram:e}=await import("./c-architectureDiagram-AYX4OTIS.DGoAurYb.js");return{diagram:e}},__vite__mapDeps([43,15,16,17,2,4,5,38,6,7]));return{id:Z0,diagram:t}},"loader"),WM={id:Z0,detector:qM,loader:HM},jM=WM,ef=!1,Ws=g(()=>{ef||(ef=!0,Pa("error",pM,t=>t.toLowerCase().trim()==="error"),Pa("---",{db:{clear:g(()=>{},"clear")},styles:{},renderer:{draw:g(()=>{},"draw")},parser:{parse:g(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:g(()=>null,"init")},t=>t.toLowerCase().trimStart().startsWith("---")),gp(eB,LM,ZB,VB,pB,CB,vB,EB,NB,WB,yM,cB,aB,SM,CM,yB,aM,eM,cM,MB,IM,RM,DB,zM,jM))},"addDiagrams"),UM=g(async()=>{z.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(An).map(async([r,{detector:n,loader:i}])=>{if(i)try{Ho(r)}catch{try{const{diagram:a,id:s}=await i();Pa(s,a,n)}catch(a){throw z.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete An[r],a}}}))).filter(r=>r.status==="rejected");if(e.length>0){z.error(`Failed to load ${e.length} external diagrams`);for(const r of e)z.error(r);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),YM="graphics-document document";function Q0(t,e){t.attr("role",YM),e!==""&&t.attr("aria-roledescription",e)}g(Q0,"setA11yDiagramInfo");function J0(t,e,r,n){if(t.insert!==void 0){if(r){const i=`chart-desc-${n}`;t.attr("aria-describedby",i),t.insert("desc",":first-child").attr("id",i).text(r)}if(e){const i=`chart-title-${n}`;t.attr("aria-labelledby",i),t.insert("title",":first-child").attr("id",i).text(e)}}}g(J0,"addSVGa11yTitleDescription");var Vr,Bl=(Vr=class{constructor(e,r,n,i,a){this.type=e,this.text=r,this.db=n,this.parser=i,this.renderer=a}static async fromText(e,r={}){var c,h;const n=Ne(),i=Vl(e,n);e=_E(e)+`
`;try{Ho(i)}catch{const u=b1(i);if(!u)throw new dp(`Diagram ${i} not found.`);const{id:f,diagram:p}=await u();Pa(f,p)}const{db:a,parser:s,renderer:o,init:l}=Ho(i);return s.parser&&(s.parser.yy=a),(c=a.clear)==null||c.call(a),l==null||l(n),r.title&&((h=a.setDiagramTitle)==null||h.call(a,r.title)),await s.parse(e),new Vr(i,e,a,s,o)}async render(e,r){await this.renderer.draw(this.text,e,r,this)}getParser(){return this.parser}getType(){return this.type}},g(Vr,"Diagram"),Vr),rf=[],VM=g(()=>{rf.forEach(t=>{t()}),rf=[]},"attachFunctions"),GM=g(t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function tx(t){const e=t.match(pp);if(!e)return{text:t,metadata:{}};let r=xC(e[1],{schema:yC})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:t.slice(e[0].length),metadata:n}}g(tx,"extractFrontMatter");var XM=g(t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),KM=g(t=>{const{text:e,metadata:r}=tx(t),{displayMode:n,title:i,config:a={}}=r;return n&&(a.gantt||(a.gantt={}),a.gantt.displayMode=n),{title:i,config:a,text:e}},"processFrontmatter"),ZM=g(t=>{const e=Ve.detectInit(t)??{},r=Ve.detectDirective(t,"wrap");return Array.isArray(r)?e.wrap=r.some(({type:n})=>n==="wrap"):(r==null?void 0:r.type)==="wrap"&&(e.wrap=!0),{text:hE(t),directive:e}},"processDirectives");function Wc(t){const e=XM(t),r=KM(e),n=ZM(r.text),i=Lc(r.config,n.directive);return t=GM(n.text),{code:t,title:r.title,config:i}}g(Wc,"preprocessDiagram");function ex(t){const e=new TextEncoder().encode(t),r=Array.from(e,n=>String.fromCodePoint(n)).join("");return btoa(r)}g(ex,"toBase64");var QM=5e4,JM="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",tF="sandbox",eF="loose",rF="http://www.w3.org/2000/svg",nF="http://www.w3.org/1999/xlink",iF="http://www.w3.org/1999/xhtml",aF="100%",sF="100%",oF="border:0;margin:0;",lF="margin:0",cF="allow-top-navigation-by-user-activation allow-popups",hF='The "iframe" tag is not supported by your browser.',uF=["foreignobject"],fF=["dominant-baseline"];function jc(t){const e=Wc(t);return Da(),D1(e.config??{}),e}g(jc,"processAndSetConfigs");async function rx(t,e){Ws();try{const{code:r,config:n}=jc(t);return{diagramType:(await ix(r)).type,config:n}}catch(r){if(e!=null&&e.suppressErrors)return!1;throw r}}g(rx,"parse");var nf=g((t,e,r=[])=>`
.${t} ${e} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),pF=g((t,e=new Map)=>{var n;let r="";if(t.themeCSS!==void 0&&(r+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),e instanceof Map){const o=t.htmlLabels??((n=t.flowchart)==null?void 0:n.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(l=>{tf(l.styles)||o.forEach(c=>{r+=nf(l.id,c,l.styles)}),tf(l.textStyles)||(r+=nf(l.id,"tspan",((l==null?void 0:l.textStyles)||[]).map(c=>c.replace("color","fill"))))})}return r},"createCssStyles"),dF=g((t,e,r,n)=>{const i=pF(t,r),a=tw(e,i,t.themeVariables);return Sl(DL(`${n}{${a}}`),PL)},"createUserStyles"),gF=g((t="",e,r)=>{let n=t;return!r&&!e&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=Hn(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),mF=g((t="",e)=>{var i,a;const r=(a=(i=e==null?void 0:e.viewBox)==null?void 0:i.baseVal)!=null&&a.height?e.viewBox.baseVal.height+"px":sF,n=ex(`<body style="${lF}">${t}</body>`);return`<iframe style="width:${aF};height:${r};${oF}" src="data:text/html;charset=UTF-8;base64,${n}" sandbox="${cF}">
  ${hF}
</iframe>`},"putIntoIFrame"),af=g((t,e,r,n,i)=>{const a=t.append("div");a.attr("id",r),n&&a.attr("style",n);const s=a.append("svg").attr("id",e).attr("width","100%").attr("xmlns",rF);return i&&s.attr("xmlns:xlink",i),s.append("g"),t},"appendDivSvgG");function Ml(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}g(Ml,"sandboxedIframe");var yF=g((t,e,r,n)=>{var i,a,s;(i=t.getElementById(e))==null||i.remove(),(a=t.getElementById(r))==null||a.remove(),(s=t.getElementById(n))==null||s.remove()},"removeExistingElements"),xF=g(async function(t,e,r){var R,N,$,I,A,B;Ws();const n=jc(e);e=n.code;const i=Ne();z.debug(i),e.length>((i==null?void 0:i.maxTextSize)??QM)&&(e=JM);const a="#"+t,s="i"+t,o="#"+s,l="d"+t,c="#"+l,h=g(()=>{const W=kt(f?o:c).node();W&&"remove"in W&&W.remove()},"removeTempElements");let u=kt("body");const f=i.securityLevel===tF,p=i.securityLevel===eF,d=i.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),f){const L=Ml(kt(r),s);u=kt(L.nodes()[0].contentDocument.body),u.node().style.margin=0}else u=kt(r);af(u,t,l,`font-family: ${d}`,nF)}else{if(yF(document,t,l,s),f){const L=Ml(kt("body"),s);u=kt(L.nodes()[0].contentDocument.body),u.node().style.margin=0}else u=kt("body");af(u,t,l)}let m,x;try{m=await Bl.fromText(e,{title:n.title})}catch(L){if(i.suppressErrorRendering)throw h(),L;m=await Bl.fromText("error"),x=L}const y=u.select(c).node(),b=m.type,C=y.firstChild,S=C.firstChild,v=(N=(R=m.renderer).getClasses)==null?void 0:N.call(R,e,m),_=dF(i,b,v,a),F=document.createElement("style");F.innerHTML=_,C.insertBefore(F,S);try{await m.renderer.draw(e,t,Yu,m)}catch(L){throw i.suppressErrorRendering?h():uM.draw(e,t,Yu),L}const P=u.select(`${c} svg`),q=(I=($=m.db).getAccTitle)==null?void 0:I.call($),O=(B=(A=m.db).getAccDescription)==null?void 0:B.call(A);ax(b,P,q,O),u.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",iF);let E=u.select(c).node().innerHTML;if(z.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),E=gF(E,f,Xt(i.arrowMarkerAbsolute)),f){const L=u.select(c+" svg").node();E=mF(E,L)}else p||(E=En.sanitize(E,{ADD_TAGS:uF,ADD_ATTR:fF}));if(VM(),x)throw x;return h(),{diagramType:b,svg:E,bindFunctions:m.db.bindFunctions}},"render");function nx(t={}){var n;const e=Gt({},t);e!=null&&e.fontFamily&&!((n=e.themeVariables)!=null&&n.fontFamily)&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),I1(e),e!=null&&e.theme&&e.theme in ur?e.themeVariables=ur[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=ur.default.getThemeVariables(e.themeVariables));const r=typeof e=="object"?F1(e):Cp();Yl(r.logLevel),Ws()}g(nx,"initialize");var ix=g((t,e={})=>{const{code:r}=Wc(t);return Bl.fromText(r,e)},"getDiagramFromText");function ax(t,e,r,n){Q0(e,t),J0(e,r,n,e.attr("id"))}g(ax,"addA11yInfo");var Jr=Object.freeze({render:xF,parse:rx,getDiagramFromText:ix,initialize:nx,getConfig:Ne,setConfig:kp,getSiteConfig:Cp,updateSiteConfig:$1,reset:g(()=>{Da()},"reset"),globalReset:g(()=>{Da(Ln)},"globalReset"),defaultConfig:Ln});Yl(Ne().logLevel);Da(Ne());var bF=g((t,e,r)=>{z.warn(t),Ac(t)?(r&&r(t.str,t.hash),e.push({...t,message:t.str,error:t})):(r&&r(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},"handleError"),sx=g(async function(t={querySelector:".mermaid"}){try{await wF(t)}catch(e){if(Ac(e)&&z.error(e.str),_e.parseError&&_e.parseError(e),!t.suppressErrors)throw z.error("Use the suppressErrors option to suppress these errors"),e}},"run"),wF=g(async function({postRenderCallback:t,querySelector:e,nodes:r}={querySelector:".mermaid"}){const n=Jr.getConfig();z.debug(`${t?"":"No "}Callback function found`);let i;if(r)i=r;else if(e)i=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");z.debug(`Found ${i.length} diagrams`),(n==null?void 0:n.startOnLoad)!==void 0&&(z.debug("Start On Load: "+(n==null?void 0:n.startOnLoad)),Jr.updateSiteConfig({startOnLoad:n==null?void 0:n.startOnLoad}));const a=new Ve.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let s;const o=[];for(const l of Array.from(i)){if(z.info("Rendering diagram: "+l.id),l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const c=`mermaid-${a.next()}`;s=l.innerHTML,s=Pm(Ve.entityDecode(s)).trim().replace(/<br\s*\/?>/gi,"<br/>");const h=Ve.detectInit(s);h&&z.debug("Detected early reinit: ",h);try{const{svg:u,bindFunctions:f}=await hx(c,s,l);l.innerHTML=u,t&&await t(c),f&&f(l)}catch(u){bF(u,o,_e.parseError)}}if(o.length>0)throw o[0]},"runThrowsErrors"),ox=g(function(t){Jr.initialize(t)},"initialize"),CF=g(async function(t,e,r){z.warn("mermaid.init is deprecated. Please use run instead."),t&&ox(t);const n={postRenderCallback:r,querySelector:".mermaid"};typeof e=="string"?n.querySelector=e:e&&(e instanceof HTMLElement?n.nodes=[e]:n.nodes=e),await sx(n)},"init"),kF=g(async(t,{lazyLoad:e=!0}={})=>{Ws(),gp(...t),e===!1&&await UM()},"registerExternalDiagrams"),lx=g(function(){if(_e.startOnLoad){const{startOnLoad:t}=Jr.getConfig();t&&_e.run().catch(e=>z.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",lx,!1);var _F=g(function(t){_e.parseError=t},"setParseErrorHandler"),ps=[],bo=!1,cx=g(async()=>{if(!bo){for(bo=!0;ps.length>0;){const t=ps.shift();if(t)try{await t()}catch(e){z.error("Error executing queue",e)}}bo=!1}},"executeQueue"),vF=g(async(t,e)=>new Promise((r,n)=>{const i=g(()=>new Promise((a,s)=>{Jr.parse(t,e).then(o=>{a(o),r(o)},o=>{var l;z.error("Error parsing",o),(l=_e.parseError)==null||l.call(_e,o),s(o),n(o)})}),"performCall");ps.push(i),cx().catch(n)}),"parse"),hx=g((t,e,r)=>new Promise((n,i)=>{const a=g(()=>new Promise((s,o)=>{Jr.render(t,e,r).then(l=>{s(l),n(l)},l=>{var c;z.error("Error parsing",l),(c=_e.parseError)==null||c.call(_e,l),o(l),i(l)})}),"performCall");ps.push(a),cx().catch(i)}),"render"),_e={startOnLoad:!0,mermaidAPI:Jr,parse:vF,render:hx,init:CF,run:sx,registerExternalDiagrams:kF,registerLayoutLoaders:b0,initialize:ox,parseError:void 0,contentLoaded:lx,setParseErrorHandler:_F,detectType:Vl,registerIconPacks:zC},sf=_e;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */const of=({diagramDefinition:t,onNodeClick:e})=>{const r=X.useRef(null);return X.useEffect(()=>{sf.initialize({startOnLoad:!1})},[]),X.useEffect(()=>{(async()=>{if(r.current)try{const i=`mermaid-diagram-${Math.random().toString(36).substr(2,9)}`,{svg:a,bindFunctions:s}=await sf.render(i,t);r.current.innerHTML=a,s&&s(r.current),r.current.querySelectorAll("g.node").forEach(l=>{l.style.cursor="pointer",l.addEventListener("click",()=>{console.log("Node clicked:",l);const c=l.querySelector("foreignObject div span.nodeLabel");let h="";if(c)h=c.textContent||"";else{const u=l.querySelector("title");u&&(h=u.textContent||"")}h&&e&&e(h)})})}catch(i){console.error("Error rendering Mermaid diagram:",i),console.log("Diagram definition:",t)}})()},[t,e]),U.jsx("div",{className:"p-2 transition-opacity duration-300",ref:r})};function SF(t,e){const r={};return(t[t.length-1]===""?[...t,""]:t).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const TF=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,EF=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,AF={};function lf(t,e){return(AF.jsx?EF:TF).test(t)}const LF=/[ \t\n\f\r]/g;function BF(t){return typeof t=="object"?t.type==="text"?cf(t.value):!1:cf(t)}function cf(t){return t.replace(LF,"")===""}class ta{constructor(e,r,n){this.property=e,this.normal=r,n&&(this.space=n)}}ta.prototype.property={};ta.prototype.normal={};ta.prototype.space=null;function ux(t,e){const r={},n={};let i=-1;for(;++i<t.length;)Object.assign(r,t[i].property),Object.assign(n,t[i].normal);return new ta(r,n,e)}function Fl(t){return t.toLowerCase()}class Ie{constructor(e,r){this.property=e,this.attribute=r}}Ie.prototype.space=null;Ie.prototype.boolean=!1;Ie.prototype.booleanish=!1;Ie.prototype.overloadedBoolean=!1;Ie.prototype.number=!1;Ie.prototype.commaSeparated=!1;Ie.prototype.spaceSeparated=!1;Ie.prototype.commaOrSpaceSeparated=!1;Ie.prototype.mustUseProperty=!1;Ie.prototype.defined=!1;let MF=0;const dt=an(),Rt=an(),fx=an(),H=an(),Bt=an(),yn=an(),we=an();function an(){return 2**++MF}const Il=Object.freeze(Object.defineProperty({__proto__:null,boolean:dt,booleanish:Rt,commaOrSpaceSeparated:we,commaSeparated:yn,number:H,overloadedBoolean:fx,spaceSeparated:Bt},Symbol.toStringTag,{value:"Module"})),wo=Object.keys(Il);class Uc extends Ie{constructor(e,r,n,i){let a=-1;if(super(e,r),hf(this,"space",i),typeof n=="number")for(;++a<wo.length;){const s=wo[a];hf(this,wo[a],(n&Il[s])===Il[s])}}}Uc.prototype.defined=!0;function hf(t,e,r){r&&(t[e]=r)}const FF={}.hasOwnProperty;function Vn(t){const e={},r={};let n;for(n in t.properties)if(FF.call(t.properties,n)){const i=t.properties[n],a=new Uc(n,t.transform(t.attributes||{},n),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(n)&&(a.mustUseProperty=!0),e[n]=a,r[Fl(n)]=n,r[Fl(a.attribute)]=n}return new ta(e,r,t.space)}const px=Vn({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),dx=Vn({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function gx(t,e){return e in t?t[e]:e}function mx(t,e){return gx(t,e.toLowerCase())}const yx=Vn({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:mx,properties:{xmlns:null,xmlnsXLink:null}}),xx=Vn({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Rt,ariaAutoComplete:null,ariaBusy:Rt,ariaChecked:Rt,ariaColCount:H,ariaColIndex:H,ariaColSpan:H,ariaControls:Bt,ariaCurrent:null,ariaDescribedBy:Bt,ariaDetails:null,ariaDisabled:Rt,ariaDropEffect:Bt,ariaErrorMessage:null,ariaExpanded:Rt,ariaFlowTo:Bt,ariaGrabbed:Rt,ariaHasPopup:null,ariaHidden:Rt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Bt,ariaLevel:H,ariaLive:null,ariaModal:Rt,ariaMultiLine:Rt,ariaMultiSelectable:Rt,ariaOrientation:null,ariaOwns:Bt,ariaPlaceholder:null,ariaPosInSet:H,ariaPressed:Rt,ariaReadOnly:Rt,ariaRelevant:null,ariaRequired:Rt,ariaRoleDescription:Bt,ariaRowCount:H,ariaRowIndex:H,ariaRowSpan:H,ariaSelected:Rt,ariaSetSize:H,ariaSort:null,ariaValueMax:H,ariaValueMin:H,ariaValueNow:H,ariaValueText:null,role:null}}),IF=Vn({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:mx,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:yn,acceptCharset:Bt,accessKey:Bt,action:null,allow:null,allowFullScreen:dt,allowPaymentRequest:dt,allowUserMedia:dt,alt:null,as:null,async:dt,autoCapitalize:null,autoComplete:Bt,autoFocus:dt,autoPlay:dt,blocking:Bt,capture:null,charSet:null,checked:dt,cite:null,className:Bt,cols:H,colSpan:null,content:null,contentEditable:Rt,controls:dt,controlsList:Bt,coords:H|yn,crossOrigin:null,data:null,dateTime:null,decoding:null,default:dt,defer:dt,dir:null,dirName:null,disabled:dt,download:fx,draggable:Rt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:dt,formTarget:null,headers:Bt,height:H,hidden:dt,high:H,href:null,hrefLang:null,htmlFor:Bt,httpEquiv:Bt,id:null,imageSizes:null,imageSrcSet:null,inert:dt,inputMode:null,integrity:null,is:null,isMap:dt,itemId:null,itemProp:Bt,itemRef:Bt,itemScope:dt,itemType:Bt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:dt,low:H,manifest:null,max:null,maxLength:H,media:null,method:null,min:null,minLength:H,multiple:dt,muted:dt,name:null,nonce:null,noModule:dt,noValidate:dt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:dt,optimum:H,pattern:null,ping:Bt,placeholder:null,playsInline:dt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:dt,referrerPolicy:null,rel:Bt,required:dt,reversed:dt,rows:H,rowSpan:H,sandbox:Bt,scope:null,scoped:dt,seamless:dt,selected:dt,shadowRootClonable:dt,shadowRootDelegatesFocus:dt,shadowRootMode:null,shape:null,size:H,sizes:null,slot:null,span:H,spellCheck:Rt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:H,step:null,style:null,tabIndex:H,target:null,title:null,translate:null,type:null,typeMustMatch:dt,useMap:null,value:Rt,width:H,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Bt,axis:null,background:null,bgColor:null,border:H,borderColor:null,bottomMargin:H,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:dt,declare:dt,event:null,face:null,frame:null,frameBorder:null,hSpace:H,leftMargin:H,link:null,longDesc:null,lowSrc:null,marginHeight:H,marginWidth:H,noResize:dt,noHref:dt,noShade:dt,noWrap:dt,object:null,profile:null,prompt:null,rev:null,rightMargin:H,rules:null,scheme:null,scrolling:Rt,standby:null,summary:null,text:null,topMargin:H,valueType:null,version:null,vAlign:null,vLink:null,vSpace:H,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:dt,disableRemotePlayback:dt,prefix:null,property:null,results:H,security:null,unselectable:null}}),$F=Vn({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:gx,properties:{about:we,accentHeight:H,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:H,amplitude:H,arabicForm:null,ascent:H,attributeName:null,attributeType:null,azimuth:H,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:H,by:null,calcMode:null,capHeight:H,className:Bt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:H,diffuseConstant:H,direction:null,display:null,dur:null,divisor:H,dominantBaseline:null,download:dt,dx:null,dy:null,edgeMode:null,editable:null,elevation:H,enableBackground:null,end:null,event:null,exponent:H,externalResourcesRequired:null,fill:null,fillOpacity:H,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:yn,g2:yn,glyphName:yn,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:H,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:H,horizOriginX:H,horizOriginY:H,id:null,ideographic:H,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:H,k:H,k1:H,k2:H,k3:H,k4:H,kernelMatrix:we,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:H,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:H,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:H,overlineThickness:H,paintOrder:null,panose1:null,path:null,pathLength:H,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Bt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:H,pointsAtY:H,pointsAtZ:H,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:we,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:we,rev:we,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:we,requiredFeatures:we,requiredFonts:we,requiredFormats:we,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:H,specularExponent:H,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:H,strikethroughThickness:H,string:null,stroke:null,strokeDashArray:we,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:H,strokeOpacity:H,strokeWidth:null,style:null,surfaceScale:H,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:we,tabIndex:H,tableValues:null,target:null,targetX:H,targetY:H,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:we,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:H,underlineThickness:H,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:H,values:null,vAlphabetic:H,vMathematical:H,vectorEffect:null,vHanging:H,vIdeographic:H,version:null,vertAdvY:H,vertOriginX:H,vertOriginY:H,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:H,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),DF=/^data[-\w.:]+$/i,uf=/-[a-z]/g,RF=/[A-Z]/g;function PF(t,e){const r=Fl(e);let n=e,i=Ie;if(r in t.normal)return t.property[t.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&DF.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(uf,NF);n="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!uf.test(a)){let s=a.replace(RF,OF);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=Uc}return new i(n,e)}function OF(t){return"-"+t.toLowerCase()}function NF(t){return t.charAt(1).toUpperCase()}const zF={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},qF=ux([dx,px,yx,xx,IF],"html"),Yc=ux([dx,px,yx,xx,$F],"svg");function HF(t){return t.join(" ").trim()}var bx={},ff=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,WF=/\n/g,jF=/^\s*/,UF=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,YF=/^:\s*/,VF=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,GF=/^[;\s]*/,XF=/^\s+|\s+$/g,KF=`
`,pf="/",df="*",zr="",ZF="comment",QF="declaration",JF=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var r=1,n=1;function i(d){var m=d.match(WF);m&&(r+=m.length);var x=d.lastIndexOf(KF);n=~x?d.length-x:n+d.length}function a(){var d={line:r,column:n};return function(m){return m.position=new s(d),c(),m}}function s(d){this.start=d,this.end={line:r,column:n},this.source=e.source}s.prototype.content=t;function o(d){var m=new Error(e.source+":"+r+":"+n+": "+d);if(m.reason=d,m.filename=e.source,m.line=r,m.column=n,m.source=t,!e.silent)throw m}function l(d){var m=d.exec(t);if(m){var x=m[0];return i(x),t=t.slice(x.length),m}}function c(){l(jF)}function h(d){var m;for(d=d||[];m=u();)m!==!1&&d.push(m);return d}function u(){var d=a();if(!(pf!=t.charAt(0)||df!=t.charAt(1))){for(var m=2;zr!=t.charAt(m)&&(df!=t.charAt(m)||pf!=t.charAt(m+1));)++m;if(m+=2,zr===t.charAt(m-1))return o("End of comment missing");var x=t.slice(2,m-2);return n+=2,i(x),t=t.slice(m),n+=2,d({type:ZF,comment:x})}}function f(){var d=a(),m=l(UF);if(m){if(u(),!l(YF))return o("property missing ':'");var x=l(VF),y=d({type:QF,property:gf(m[0].replace(ff,zr)),value:x?gf(x[0].replace(ff,zr)):zr});return l(GF),y}}function p(){var d=[];h(d);for(var m;m=f();)m!==!1&&(d.push(m),h(d));return d}return c(),p()};function gf(t){return t?t.replace(XF,zr):zr}var tI=$o&&$o.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bx,"__esModule",{value:!0});var mf=bx.default=rI,eI=tI(JF);function rI(t,e){var r=null;if(!t||typeof t!="string")return r;var n=(0,eI.default)(t),i=typeof e=="function";return n.forEach(function(a){if(a.type==="declaration"){var s=a.property,o=a.value;i?e(s,o,a):o&&(r=r||{},r[s]=o)}}),r}const nI=mf.default||mf,wx=Cx("end"),Vc=Cx("start");function Cx(t){return e;function e(r){const n=r&&r.position&&r.position[t]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function iI(t){const e=Vc(t),r=wx(t);if(e&&r)return{start:e,end:r}}function Ai(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?yf(t.position):"start"in t||"end"in t?yf(t):"line"in t||"column"in t?$l(t):""}function $l(t){return xf(t&&t.line)+":"+xf(t&&t.column)}function yf(t){return $l(t&&t.start)+"-"+$l(t&&t.end)}function xf(t){return t&&typeof t=="number"?t:1}class ee extends Error{constructor(e,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",a={},s=!1;if(r&&("line"in r&&"column"in r?a={place:r}:"start"in r&&"end"in r?a={place:r}:"type"in r?a={ancestors:[r],place:r.position}:a={...r}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?a.ruleId=n:(a.source=n.slice(0,l),a.ruleId=n.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=o?o.line:void 0,this.name=Ai(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}ee.prototype.file="";ee.prototype.name="";ee.prototype.reason="";ee.prototype.message="";ee.prototype.stack="";ee.prototype.column=void 0;ee.prototype.line=void 0;ee.prototype.ancestors=void 0;ee.prototype.cause=void 0;ee.prototype.fatal=void 0;ee.prototype.place=void 0;ee.prototype.ruleId=void 0;ee.prototype.source=void 0;const Gc={}.hasOwnProperty,aI=new Map,sI=/[A-Z]/g,oI=/-([a-z])/g,lI=new Set(["table","tbody","thead","tfoot","tr"]),cI=new Set(["td","th"]),kx="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function hI(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=e.filePath||void 0;let n;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=xI(r,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=yI(r,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:n,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Yc:qF,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=_x(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function _x(t,e,r){if(e.type==="element")return uI(t,e,r);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return fI(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return dI(t,e,r);if(e.type==="mdxjsEsm")return pI(t,e);if(e.type==="root")return gI(t,e,r);if(e.type==="text")return mI(t,e)}function uI(t,e,r){const n=t.schema;let i=n;e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=Yc,t.schema=i),t.ancestors.push(e);const a=Sx(t,e.tagName,!1),s=bI(t,e);let o=Kc(t,e);return lI.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!BF(l):!0})),vx(t,s,a,e),Xc(s,o),t.ancestors.pop(),t.schema=n,t.create(e,a,s,r)}function fI(t,e){if(e.data&&e.data.estree&&t.evaluater){const n=e.data.estree.body[0];return n.type,t.evaluater.evaluateExpression(n.expression)}Wi(t,e.position)}function pI(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Wi(t,e.position)}function dI(t,e,r){const n=t.schema;let i=n;e.name==="svg"&&n.space==="html"&&(i=Yc,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:Sx(t,e.name,!0),s=wI(t,e),o=Kc(t,e);return vx(t,s,a,e),Xc(s,o),t.ancestors.pop(),t.schema=n,t.create(e,a,s,r)}function gI(t,e,r){const n={};return Xc(n,Kc(t,e)),t.create(e,t.Fragment,n,r)}function mI(t,e){return e.value}function vx(t,e,r,n){typeof r!="string"&&r!==t.Fragment&&t.passNode&&(e.node=n)}function Xc(t,e){if(e.length>0){const r=e.length>1?e:e[0];r&&(t.children=r)}}function yI(t,e,r){return n;function n(i,a,s,o){const c=Array.isArray(s.children)?r:e;return o?c(a,s,o):c(a,s)}}function xI(t,e){return r;function r(n,i,a,s){const o=Array.isArray(a.children),l=Vc(n);return e(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function bI(t,e){const r={};let n,i;for(i in e.properties)if(i!=="children"&&Gc.call(e.properties,i)){const a=CI(t,i,e.properties[i]);if(a){const[s,o]=a;t.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&cI.has(e.tagName)?n=o:r[s]=o}}if(n){const a=r.style||(r.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function wI(t,e){const r={};for(const n of e.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&t.evaluater){const a=n.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(r,t.evaluater.evaluateExpression(o.argument))}else Wi(t,e.position);else{const i=n.name;let a;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&t.evaluater){const o=n.value.data.estree.body[0];o.type,a=t.evaluater.evaluateExpression(o.expression)}else Wi(t,e.position);else a=n.value===null?!0:n.value;r[i]=a}return r}function Kc(t,e){const r=[];let n=-1;const i=t.passKeys?new Map:aI;for(;++n<e.children.length;){const a=e.children[n];let s;if(t.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const o=_x(t,a,s);o!==void 0&&r.push(o)}return r}function CI(t,e,r){const n=PF(t.schema,e);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?SF(r):HF(r)),n.property==="style"){let i=typeof r=="object"?r:kI(t,String(r));return t.stylePropertyNameCase==="css"&&(i=_I(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&n.space?zF[n.property]||n.property:n.attribute,r]}}function kI(t,e){const r={};try{nI(e,n)}catch(i){if(!t.ignoreInvalidStyle){const a=i,s=new ee("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=kx+"#cannot-parse-style-attribute",s}}return r;function n(i,a){let s=i;s.slice(0,2)!=="--"&&(s.slice(0,4)==="-ms-"&&(s="ms-"+s.slice(4)),s=s.replace(oI,SI)),r[s]=a}}function Sx(t,e,r){let n;if(!r)n={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,s;for(;++a<i.length;){const o=lf(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}n=s}else n=lf(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(n.type==="Literal"){const i=n.value;return Gc.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(n);Wi(t)}function Wi(t,e){const r=new ee("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=t.filePath||void 0,r.url=kx+"#cannot-handle-mdx-estrees-without-createevaluater",r}function _I(t){const e={};let r;for(r in t)Gc.call(t,r)&&(e[vI(r)]=t[r]);return e}function vI(t){let e=t.replace(sI,TI);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function SI(t,e){return e.toUpperCase()}function TI(t){return"-"+t.toLowerCase()}const Co={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},EI={};function AI(t,e){const r=EI,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return Tx(t,n,i)}function Tx(t,e,r){if(LI(t)){if("value"in t)return t.type==="html"&&!r?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return bf(t.children,e,r)}return Array.isArray(t)?bf(t,e,r):""}function bf(t,e,r){const n=[];let i=-1;for(;++i<t.length;)n[i]=Tx(t[i],e,r);return n.join("")}function LI(t){return!!(t&&typeof t=="object")}const wf=document.createElement("i");function Zc(t){const e="&"+t+";";wf.innerHTML=e;const r=wf.textContent;return r.charCodeAt(r.length-1)===59&&t!=="semi"||r===e?!1:r}function er(t,e,r,n){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,r=r>0?r:0,n.length<1e4)s=Array.from(n),s.unshift(e,r),t.splice(...s);else for(r&&t.splice(e,r);a<n.length;)s=n.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function Be(t,e){return t.length>0?(er(t,t.length,0,e),t):e}const Cf={}.hasOwnProperty;function BI(t){const e={};let r=-1;for(;++r<t.length;)MI(e,t[r]);return e}function MI(t,e){let r;for(r in e){const i=(Cf.call(t,r)?t[r]:void 0)||(t[r]={}),a=e[r];let s;if(a)for(s in a){Cf.call(i,s)||(i[s]=[]);const o=a[s];FI(i[s],Array.isArray(o)?o:o?[o]:[])}}}function FI(t,e){let r=-1;const n=[];for(;++r<e.length;)(e[r].add==="after"?t:n).push(e[r]);er(t,0,0,n)}function Ex(t,e){const r=Number.parseInt(t,e);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"�":String.fromCodePoint(r)}function xn(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ge=Fr(/[A-Za-z]/),ke=Fr(/[\dA-Za-z]/),II=Fr(/[#-'*+\--9=?A-Z^-~]/);function Dl(t){return t!==null&&(t<32||t===127)}const Rl=Fr(/\d/),$I=Fr(/[\dA-Fa-f]/),DI=Fr(/[!-/:-@[-`{-~]/);function ct(t){return t!==null&&t<-2}function xe(t){return t!==null&&(t<0||t===32)}function Ct(t){return t===-2||t===-1||t===32}const RI=Fr(new RegExp("\\p{P}|\\p{S}","u")),PI=Fr(/\s/);function Fr(t){return e;function e(r){return r!==null&&r>-1&&t.test(String.fromCharCode(r))}}function Gn(t){const e=[];let r=-1,n=0,i=0;for(;++r<t.length;){const a=t.charCodeAt(r);let s="";if(a===37&&ke(t.charCodeAt(r+1))&&ke(t.charCodeAt(r+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=t.charCodeAt(r+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s="�"}else s=String.fromCharCode(a);s&&(e.push(t.slice(n,r),encodeURIComponent(s)),n=r+i+1,s=""),i&&(r+=i,i=0)}return e.join("")+t.slice(n)}function Mt(t,e,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return Ct(l)?(t.enter(r),o(l)):e(l)}function o(l){return Ct(l)&&a++<i?(t.consume(l),o):(t.exit(r),e(l))}}const OI={tokenize:NI};function NI(t){const e=t.attempt(this.parser.constructs.contentInitial,n,i);let r;return e;function n(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Mt(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),a(o)}function a(o){const l=t.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,s(o)}function s(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return ct(o)?(t.consume(o),t.exit("chunkText"),a):(t.consume(o),s)}}const zI={tokenize:qI},kf={tokenize:HI};function qI(t){const e=this,r=[];let n=0,i,a,s;return o;function o(C){if(n<r.length){const S=r[n];return e.containerState=S[1],t.attempt(S[0].continuation,l,c)(C)}return c(C)}function l(C){if(n++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&b();const S=e.events.length;let v=S,_;for(;v--;)if(e.events[v][0]==="exit"&&e.events[v][1].type==="chunkFlow"){_=e.events[v][1].end;break}y(n);let F=S;for(;F<e.events.length;)e.events[F][1].end={..._},F++;return er(e.events,v+1,0,e.events.slice(S)),e.events.length=F,c(C)}return o(C)}function c(C){if(n===r.length){if(!i)return f(C);if(i.currentConstruct&&i.currentConstruct.concrete)return d(C);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(kf,h,u)(C)}function h(C){return i&&b(),y(n),f(C)}function u(C){return e.parser.lazy[e.now().line]=n!==r.length,s=e.now().offset,d(C)}function f(C){return e.containerState={},t.attempt(kf,p,d)(C)}function p(C){return n++,r.push([e.currentConstruct,e.containerState]),f(C)}function d(C){if(C===null){i&&b(),y(0),t.consume(C);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),m(C)}function m(C){if(C===null){x(t.exit("chunkFlow"),!0),y(0),t.consume(C);return}return ct(C)?(t.consume(C),x(t.exit("chunkFlow")),n=0,e.interrupt=void 0,o):(t.consume(C),m)}function x(C,S){const v=e.sliceStream(C);if(S&&v.push(null),C.previous=a,a&&(a.next=C),a=C,i.defineSkip(C.start),i.write(v),e.parser.lazy[C.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<s&&(!i.events[_][1].end||i.events[_][1].end.offset>s))return;const F=e.events.length;let P=F,q,O;for(;P--;)if(e.events[P][0]==="exit"&&e.events[P][1].type==="chunkFlow"){if(q){O=e.events[P][1].end;break}q=!0}for(y(n),_=F;_<e.events.length;)e.events[_][1].end={...O},_++;er(e.events,P+1,0,e.events.slice(F)),e.events.length=_}}function y(C){let S=r.length;for(;S-- >C;){const v=r[S];e.containerState=v[1],v[0].exit.call(e,t)}r.length=C}function b(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function HI(t,e,r){return Mt(t,t.attempt(this.parser.constructs.document,e,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function _f(t){if(t===null||xe(t)||PI(t))return 1;if(RI(t))return 2}function Qc(t,e,r){const n=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!n.includes(a)&&(e=a(e,r),n.push(a))}return e}const Pl={name:"attention",resolveAll:WI,tokenize:jI};function WI(t,e){let r=-1,n,i,a,s,o,l,c,h;for(;++r<t.length;)if(t[r][0]==="enter"&&t[r][1].type==="attentionSequence"&&t[r][1]._close){for(n=r;n--;)if(t[n][0]==="exit"&&t[n][1].type==="attentionSequence"&&t[n][1]._open&&e.sliceSerialize(t[n][1]).charCodeAt(0)===e.sliceSerialize(t[r][1]).charCodeAt(0)){if((t[n][1]._close||t[r][1]._open)&&(t[r][1].end.offset-t[r][1].start.offset)%3&&!((t[n][1].end.offset-t[n][1].start.offset+t[r][1].end.offset-t[r][1].start.offset)%3))continue;l=t[n][1].end.offset-t[n][1].start.offset>1&&t[r][1].end.offset-t[r][1].start.offset>1?2:1;const u={...t[n][1].end},f={...t[r][1].start};vf(u,-l),vf(f,l),s={type:l>1?"strongSequence":"emphasisSequence",start:u,end:{...t[n][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[r][1].start},end:f},a={type:l>1?"strongText":"emphasisText",start:{...t[n][1].end},end:{...t[r][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},t[n][1].end={...s.start},t[r][1].start={...o.end},c=[],t[n][1].end.offset-t[n][1].start.offset&&(c=Be(c,[["enter",t[n][1],e],["exit",t[n][1],e]])),c=Be(c,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),c=Be(c,Qc(e.parser.constructs.insideSpan.null,t.slice(n+1,r),e)),c=Be(c,[["exit",a,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[r][1].end.offset-t[r][1].start.offset?(h=2,c=Be(c,[["enter",t[r][1],e],["exit",t[r][1],e]])):h=0,er(t,n-1,r-n+3,c),r=n+c.length-h-2;break}}for(r=-1;++r<t.length;)t[r][1].type==="attentionSequence"&&(t[r][1].type="data");return t}function jI(t,e){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=_f(n);let a;return s;function s(l){return a=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===a)return t.consume(l),o;const c=t.exit("attentionSequence"),h=_f(l),u=!h||h===2&&i||r.includes(l),f=!i||i===2&&h||r.includes(n);return c._open=!!(a===42?u:u&&(i||!f)),c._close=!!(a===42?f:f&&(h||!u)),e(l)}}function vf(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const UI={name:"autolink",tokenize:YI};function YI(t,e,r){let n=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(p){return Ge(p)?(t.consume(p),s):p===64?r(p):c(p)}function s(p){return p===43||p===45||p===46||ke(p)?(n=1,o(p)):c(p)}function o(p){return p===58?(t.consume(p),n=0,l):(p===43||p===45||p===46||ke(p))&&n++<32?(t.consume(p),o):(n=0,c(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||Dl(p)?r(p):(t.consume(p),l)}function c(p){return p===64?(t.consume(p),h):II(p)?(t.consume(p),c):r(p)}function h(p){return ke(p)?u(p):r(p)}function u(p){return p===46?(t.consume(p),n=0,h):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):f(p)}function f(p){if((p===45||ke(p))&&n++<63){const d=p===45?f:u;return t.consume(p),d}return r(p)}}const js={partial:!0,tokenize:VI};function VI(t,e,r){return n;function n(a){return Ct(a)?Mt(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||ct(a)?e(a):r(a)}}const Ax={continuation:{tokenize:XI},exit:KI,name:"blockQuote",tokenize:GI};function GI(t,e,r){const n=this;return i;function i(s){if(s===62){const o=n.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return r(s)}function a(s){return Ct(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function XI(t,e,r){const n=this;return i;function i(s){return Ct(s)?Mt(t,a,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(Ax,e,r)(s)}}function KI(t){t.exit("blockQuote")}const Lx={name:"characterEscape",tokenize:ZI};function ZI(t,e,r){return n;function n(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return DI(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):r(a)}}const Bx={name:"characterReference",tokenize:QI};function QI(t,e,r){const n=this;let i=0,a,s;return o;function o(u){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(u),t.exit("characterReferenceMarker"),l}function l(u){return u===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(u),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),a=31,s=ke,h(u))}function c(u){return u===88||u===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(u),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=$I,h):(t.enter("characterReferenceValue"),a=7,s=Rl,h(u))}function h(u){if(u===59&&i){const f=t.exit("characterReferenceValue");return s===ke&&!Zc(n.sliceSerialize(f))?r(u):(t.enter("characterReferenceMarker"),t.consume(u),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(u)&&i++<a?(t.consume(u),h):r(u)}}const Sf={partial:!0,tokenize:t$},Tf={concrete:!0,name:"codeFenced",tokenize:JI};function JI(t,e,r){const n=this,i={partial:!0,tokenize:v};let a=0,s=0,o;return l;function l(_){return c(_)}function c(_){const F=n.events[n.events.length-1];return a=F&&F[1].type==="linePrefix"?F[2].sliceSerialize(F[1],!0).length:0,o=_,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(_)}function h(_){return _===o?(s++,t.consume(_),h):s<3?r(_):(t.exit("codeFencedFenceSequence"),Ct(_)?Mt(t,u,"whitespace")(_):u(_))}function u(_){return _===null||ct(_)?(t.exit("codeFencedFence"),n.interrupt?e(_):t.check(Sf,m,S)(_)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(_))}function f(_){return _===null||ct(_)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),u(_)):Ct(_)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Mt(t,p,"whitespace")(_)):_===96&&_===o?r(_):(t.consume(_),f)}function p(_){return _===null||ct(_)?u(_):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),d(_))}function d(_){return _===null||ct(_)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),u(_)):_===96&&_===o?r(_):(t.consume(_),d)}function m(_){return t.attempt(i,S,x)(_)}function x(_){return t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),y}function y(_){return a>0&&Ct(_)?Mt(t,b,"linePrefix",a+1)(_):b(_)}function b(_){return _===null||ct(_)?t.check(Sf,m,S)(_):(t.enter("codeFlowValue"),C(_))}function C(_){return _===null||ct(_)?(t.exit("codeFlowValue"),b(_)):(t.consume(_),C)}function S(_){return t.exit("codeFenced"),e(_)}function v(_,F,P){let q=0;return O;function O(I){return _.enter("lineEnding"),_.consume(I),_.exit("lineEnding"),E}function E(I){return _.enter("codeFencedFence"),Ct(I)?Mt(_,R,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):R(I)}function R(I){return I===o?(_.enter("codeFencedFenceSequence"),N(I)):P(I)}function N(I){return I===o?(q++,_.consume(I),N):q>=s?(_.exit("codeFencedFenceSequence"),Ct(I)?Mt(_,$,"whitespace")(I):$(I)):P(I)}function $(I){return I===null||ct(I)?(_.exit("codeFencedFence"),F(I)):P(I)}}}function t$(t,e,r){const n=this;return i;function i(s){return s===null?r(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return n.parser.lazy[n.now().line]?r(s):e(s)}}const ko={name:"codeIndented",tokenize:r$},e$={partial:!0,tokenize:n$};function r$(t,e,r){const n=this;return i;function i(c){return t.enter("codeIndented"),Mt(t,a,"linePrefix",5)(c)}function a(c){const h=n.events[n.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?s(c):r(c)}function s(c){return c===null?l(c):ct(c)?t.attempt(e$,s,l)(c):(t.enter("codeFlowValue"),o(c))}function o(c){return c===null||ct(c)?(t.exit("codeFlowValue"),s(c)):(t.consume(c),o)}function l(c){return t.exit("codeIndented"),e(c)}}function n$(t,e,r){const n=this;return i;function i(s){return n.parser.lazy[n.now().line]?r(s):ct(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):Mt(t,a,"linePrefix",5)(s)}function a(s){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):ct(s)?i(s):r(s)}}const i$={name:"codeText",previous:s$,resolve:a$,tokenize:o$};function a$(t){let e=t.length-4,r=3,n,i;if((t[r][1].type==="lineEnding"||t[r][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(n=r;++n<e;)if(t[n][1].type==="codeTextData"){t[r][1].type="codeTextPadding",t[e][1].type="codeTextPadding",r+=2,e-=2;break}}for(n=r-1,e++;++n<=e;)i===void 0?n!==e&&t[n][1].type!=="lineEnding"&&(i=n):(n===e||t[n][1].type==="lineEnding")&&(t[i][1].type="codeTextData",n!==i+2&&(t[i][1].end=t[n-1][1].end,t.splice(i+2,n-i-2),e-=n-i-2,n=i+2),i=void 0);return t}function s$(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function o$(t,e,r){let n=0,i,a;return s;function s(u){return t.enter("codeText"),t.enter("codeTextSequence"),o(u)}function o(u){return u===96?(t.consume(u),n++,o):(t.exit("codeTextSequence"),l(u))}function l(u){return u===null?r(u):u===32?(t.enter("space"),t.consume(u),t.exit("space"),l):u===96?(a=t.enter("codeTextSequence"),i=0,h(u)):ct(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(u))}function c(u){return u===null||u===32||u===96||ct(u)?(t.exit("codeTextData"),l(u)):(t.consume(u),c)}function h(u){return u===96?(t.consume(u),i++,h):i===n?(t.exit("codeTextSequence"),t.exit("codeText"),e(u)):(a.type="codeTextData",c(u))}}class l${constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,r,n){const i=r||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&fi(this.left,n),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),fi(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),fi(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const r=this.left.splice(e,Number.POSITIVE_INFINITY);fi(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);fi(this.left,r.reverse())}}}function fi(t,e){let r=0;if(e.length<1e4)t.push(...e);else for(;r<e.length;)t.push(...e.slice(r,r+1e4)),r+=1e4}function Mx(t){const e={};let r=-1,n,i,a,s,o,l,c;const h=new l$(t);for(;++r<h.length;){for(;r in e;)r=e[r];if(n=h.get(r),r&&n[1].type==="chunkFlow"&&h.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(n[0]==="enter")n[1].contentType&&(Object.assign(e,c$(h,r)),r=e[r],c=!0);else if(n[1]._container){for(a=r,i=void 0;a--&&(s=h.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);i&&(n[1].end={...h.get(i)[1].start},o=h.slice(i,r),o.unshift(n),h.splice(i,r-i+1,o))}}return er(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!c}function c$(t,e){const r=t.get(e)[1],n=t.get(e)[2];let i=e-1;const a=[],s=r._tokenizer||n.parser[r.contentType](r.start),o=s.events,l=[],c={};let h,u,f=-1,p=r,d=0,m=0;const x=[m];for(;p;){for(;t.get(++i)[1]!==p;);a.push(i),p._tokenizer||(h=n.sliceStream(p),p.next||h.push(null),u&&s.defineSkip(p.start),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(h),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),u=p,p=p.next}for(p=r;++f<o.length;)o[f][0]==="exit"&&o[f-1][0]==="enter"&&o[f][1].type===o[f-1][1].type&&o[f][1].start.line!==o[f][1].end.line&&(m=f+1,x.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(s.events=[],p?(p._tokenizer=void 0,p.previous=void 0):x.pop(),f=x.length;f--;){const y=o.slice(x[f],x[f+1]),b=a.pop();l.push([b,b+y.length-1]),t.splice(b,2,y)}for(l.reverse(),f=-1;++f<l.length;)c[d+l[f][0]]=d+l[f][1],d+=l[f][1]-l[f][0]-1;return c}const h$={resolve:f$,tokenize:p$},u$={partial:!0,tokenize:d$};function f$(t){return Mx(t),t}function p$(t,e){let r;return n;function n(o){return t.enter("content"),r=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):ct(o)?t.check(u$,s,a)(o):(t.consume(o),i)}function a(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function s(o){return t.consume(o),t.exit("chunkContent"),r.next=t.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function d$(t,e,r){const n=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),Mt(t,a,"linePrefix")}function a(s){if(s===null||ct(s))return r(s);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):t.interrupt(n.parser.constructs.flow,r,e)(s)}}function Fx(t,e,r,n,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let h=0;return u;function u(y){return y===60?(t.enter(n),t.enter(i),t.enter(a),t.consume(y),t.exit(a),f):y===null||y===32||y===41||Dl(y)?r(y):(t.enter(n),t.enter(s),t.enter(o),t.enter("chunkString",{contentType:"string"}),m(y))}function f(y){return y===62?(t.enter(a),t.consume(y),t.exit(a),t.exit(i),t.exit(n),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===62?(t.exit("chunkString"),t.exit(o),f(y)):y===null||y===60||ct(y)?r(y):(t.consume(y),y===92?d:p)}function d(y){return y===60||y===62||y===92?(t.consume(y),p):p(y)}function m(y){return!h&&(y===null||y===41||xe(y))?(t.exit("chunkString"),t.exit(o),t.exit(s),t.exit(n),e(y)):h<c&&y===40?(t.consume(y),h++,m):y===41?(t.consume(y),h--,m):y===null||y===32||y===40||Dl(y)?r(y):(t.consume(y),y===92?x:m)}function x(y){return y===40||y===41||y===92?(t.consume(y),m):m(y)}}function Ix(t,e,r,n,i,a){const s=this;let o=0,l;return c;function c(p){return t.enter(n),t.enter(i),t.consume(p),t.exit(i),t.enter(a),h}function h(p){return o>999||p===null||p===91||p===93&&!l||p===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?r(p):p===93?(t.exit(a),t.enter(i),t.consume(p),t.exit(i),t.exit(n),e):ct(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),u(p))}function u(p){return p===null||p===91||p===93||ct(p)||o++>999?(t.exit("chunkString"),h(p)):(t.consume(p),l||(l=!Ct(p)),p===92?f:u)}function f(p){return p===91||p===92||p===93?(t.consume(p),o++,u):u(p)}}function $x(t,e,r,n,i,a){let s;return o;function o(f){return f===34||f===39||f===40?(t.enter(n),t.enter(i),t.consume(f),t.exit(i),s=f===40?41:f,l):r(f)}function l(f){return f===s?(t.enter(i),t.consume(f),t.exit(i),t.exit(n),e):(t.enter(a),c(f))}function c(f){return f===s?(t.exit(a),l(s)):f===null?r(f):ct(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),Mt(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===s||f===null||ct(f)?(t.exit("chunkString"),c(f)):(t.consume(f),f===92?u:h)}function u(f){return f===s||f===92?(t.consume(f),h):h(f)}}function Li(t,e){let r;return n;function n(i){return ct(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),r=!0,n):Ct(i)?Mt(t,n,r?"linePrefix":"lineSuffix")(i):e(i)}}const g$={name:"definition",tokenize:y$},m$={partial:!0,tokenize:x$};function y$(t,e,r){const n=this;let i;return a;function a(p){return t.enter("definition"),s(p)}function s(p){return Ix.call(n,t,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return i=xn(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):r(p)}function l(p){return xe(p)?Li(t,c)(p):c(p)}function c(p){return Fx(t,h,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function h(p){return t.attempt(m$,u,u)(p)}function u(p){return Ct(p)?Mt(t,f,"whitespace")(p):f(p)}function f(p){return p===null||ct(p)?(t.exit("definition"),n.parser.defined.push(i),e(p)):r(p)}}function x$(t,e,r){return n;function n(o){return xe(o)?Li(t,i)(o):r(o)}function i(o){return $x(t,a,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return Ct(o)?Mt(t,s,"whitespace")(o):s(o)}function s(o){return o===null||ct(o)?e(o):r(o)}}const b$={name:"hardBreakEscape",tokenize:w$};function w$(t,e,r){return n;function n(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return ct(a)?(t.exit("hardBreakEscape"),e(a)):r(a)}}const C$={name:"headingAtx",resolve:k$,tokenize:_$};function k$(t,e){let r=t.length-2,n=3,i,a;return t[n][1].type==="whitespace"&&(n+=2),r-2>n&&t[r][1].type==="whitespace"&&(r-=2),t[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&t[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:t[n][1].start,end:t[r][1].end},a={type:"chunkText",start:t[n][1].start,end:t[r][1].end,contentType:"text"},er(t,n,r-n+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function _$(t,e,r){let n=0;return i;function i(h){return t.enter("atxHeading"),a(h)}function a(h){return t.enter("atxHeadingSequence"),s(h)}function s(h){return h===35&&n++<6?(t.consume(h),s):h===null||xe(h)?(t.exit("atxHeadingSequence"),o(h)):r(h)}function o(h){return h===35?(t.enter("atxHeadingSequence"),l(h)):h===null||ct(h)?(t.exit("atxHeading"),e(h)):Ct(h)?Mt(t,o,"whitespace")(h):(t.enter("atxHeadingText"),c(h))}function l(h){return h===35?(t.consume(h),l):(t.exit("atxHeadingSequence"),o(h))}function c(h){return h===null||h===35||xe(h)?(t.exit("atxHeadingText"),o(h)):(t.consume(h),c)}}const v$=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ef=["pre","script","style","textarea"],S$={concrete:!0,name:"htmlFlow",resolveTo:A$,tokenize:L$},T$={partial:!0,tokenize:M$},E$={partial:!0,tokenize:B$};function A$(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function L$(t,e,r){const n=this;let i,a,s,o,l;return c;function c(k){return h(k)}function h(k){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(k),u}function u(k){return k===33?(t.consume(k),f):k===47?(t.consume(k),a=!0,m):k===63?(t.consume(k),i=3,n.interrupt?e:w):Ge(k)?(t.consume(k),s=String.fromCharCode(k),x):r(k)}function f(k){return k===45?(t.consume(k),i=2,p):k===91?(t.consume(k),i=5,o=0,d):Ge(k)?(t.consume(k),i=4,n.interrupt?e:w):r(k)}function p(k){return k===45?(t.consume(k),n.interrupt?e:w):r(k)}function d(k){const yt="CDATA[";return k===yt.charCodeAt(o++)?(t.consume(k),o===yt.length?n.interrupt?e:R:d):r(k)}function m(k){return Ge(k)?(t.consume(k),s=String.fromCharCode(k),x):r(k)}function x(k){if(k===null||k===47||k===62||xe(k)){const yt=k===47,ot=s.toLowerCase();return!yt&&!a&&Ef.includes(ot)?(i=1,n.interrupt?e(k):R(k)):v$.includes(s.toLowerCase())?(i=6,yt?(t.consume(k),y):n.interrupt?e(k):R(k)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(k):a?b(k):C(k))}return k===45||ke(k)?(t.consume(k),s+=String.fromCharCode(k),x):r(k)}function y(k){return k===62?(t.consume(k),n.interrupt?e:R):r(k)}function b(k){return Ct(k)?(t.consume(k),b):O(k)}function C(k){return k===47?(t.consume(k),O):k===58||k===95||Ge(k)?(t.consume(k),S):Ct(k)?(t.consume(k),C):O(k)}function S(k){return k===45||k===46||k===58||k===95||ke(k)?(t.consume(k),S):v(k)}function v(k){return k===61?(t.consume(k),_):Ct(k)?(t.consume(k),v):C(k)}function _(k){return k===null||k===60||k===61||k===62||k===96?r(k):k===34||k===39?(t.consume(k),l=k,F):Ct(k)?(t.consume(k),_):P(k)}function F(k){return k===l?(t.consume(k),l=null,q):k===null||ct(k)?r(k):(t.consume(k),F)}function P(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||xe(k)?v(k):(t.consume(k),P)}function q(k){return k===47||k===62||Ct(k)?C(k):r(k)}function O(k){return k===62?(t.consume(k),E):r(k)}function E(k){return k===null||ct(k)?R(k):Ct(k)?(t.consume(k),E):r(k)}function R(k){return k===45&&i===2?(t.consume(k),A):k===60&&i===1?(t.consume(k),B):k===62&&i===4?(t.consume(k),j):k===63&&i===3?(t.consume(k),w):k===93&&i===5?(t.consume(k),W):ct(k)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(T$,pt,N)(k)):k===null||ct(k)?(t.exit("htmlFlowData"),N(k)):(t.consume(k),R)}function N(k){return t.check(E$,$,pt)(k)}function $(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),I}function I(k){return k===null||ct(k)?N(k):(t.enter("htmlFlowData"),R(k))}function A(k){return k===45?(t.consume(k),w):R(k)}function B(k){return k===47?(t.consume(k),s="",L):R(k)}function L(k){if(k===62){const yt=s.toLowerCase();return Ef.includes(yt)?(t.consume(k),j):R(k)}return Ge(k)&&s.length<8?(t.consume(k),s+=String.fromCharCode(k),L):R(k)}function W(k){return k===93?(t.consume(k),w):R(k)}function w(k){return k===62?(t.consume(k),j):k===45&&i===2?(t.consume(k),w):R(k)}function j(k){return k===null||ct(k)?(t.exit("htmlFlowData"),pt(k)):(t.consume(k),j)}function pt(k){return t.exit("htmlFlow"),e(k)}}function B$(t,e,r){const n=this;return i;function i(s){return ct(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):r(s)}function a(s){return n.parser.lazy[n.now().line]?r(s):e(s)}}function M$(t,e,r){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(js,e,r)}}const F$={name:"htmlText",tokenize:I$};function I$(t,e,r){const n=this;let i,a,s;return o;function o(w){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(w),l}function l(w){return w===33?(t.consume(w),c):w===47?(t.consume(w),v):w===63?(t.consume(w),C):Ge(w)?(t.consume(w),P):r(w)}function c(w){return w===45?(t.consume(w),h):w===91?(t.consume(w),a=0,d):Ge(w)?(t.consume(w),b):r(w)}function h(w){return w===45?(t.consume(w),p):r(w)}function u(w){return w===null?r(w):w===45?(t.consume(w),f):ct(w)?(s=u,B(w)):(t.consume(w),u)}function f(w){return w===45?(t.consume(w),p):u(w)}function p(w){return w===62?A(w):w===45?f(w):u(w)}function d(w){const j="CDATA[";return w===j.charCodeAt(a++)?(t.consume(w),a===j.length?m:d):r(w)}function m(w){return w===null?r(w):w===93?(t.consume(w),x):ct(w)?(s=m,B(w)):(t.consume(w),m)}function x(w){return w===93?(t.consume(w),y):m(w)}function y(w){return w===62?A(w):w===93?(t.consume(w),y):m(w)}function b(w){return w===null||w===62?A(w):ct(w)?(s=b,B(w)):(t.consume(w),b)}function C(w){return w===null?r(w):w===63?(t.consume(w),S):ct(w)?(s=C,B(w)):(t.consume(w),C)}function S(w){return w===62?A(w):C(w)}function v(w){return Ge(w)?(t.consume(w),_):r(w)}function _(w){return w===45||ke(w)?(t.consume(w),_):F(w)}function F(w){return ct(w)?(s=F,B(w)):Ct(w)?(t.consume(w),F):A(w)}function P(w){return w===45||ke(w)?(t.consume(w),P):w===47||w===62||xe(w)?q(w):r(w)}function q(w){return w===47?(t.consume(w),A):w===58||w===95||Ge(w)?(t.consume(w),O):ct(w)?(s=q,B(w)):Ct(w)?(t.consume(w),q):A(w)}function O(w){return w===45||w===46||w===58||w===95||ke(w)?(t.consume(w),O):E(w)}function E(w){return w===61?(t.consume(w),R):ct(w)?(s=E,B(w)):Ct(w)?(t.consume(w),E):q(w)}function R(w){return w===null||w===60||w===61||w===62||w===96?r(w):w===34||w===39?(t.consume(w),i=w,N):ct(w)?(s=R,B(w)):Ct(w)?(t.consume(w),R):(t.consume(w),$)}function N(w){return w===i?(t.consume(w),i=void 0,I):w===null?r(w):ct(w)?(s=N,B(w)):(t.consume(w),N)}function $(w){return w===null||w===34||w===39||w===60||w===61||w===96?r(w):w===47||w===62||xe(w)?q(w):(t.consume(w),$)}function I(w){return w===47||w===62||xe(w)?q(w):r(w)}function A(w){return w===62?(t.consume(w),t.exit("htmlTextData"),t.exit("htmlText"),e):r(w)}function B(w){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),L}function L(w){return Ct(w)?Mt(t,W,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):W(w)}function W(w){return t.enter("htmlTextData"),s(w)}}const Jc={name:"labelEnd",resolveAll:P$,resolveTo:O$,tokenize:N$},$$={tokenize:z$},D$={tokenize:q$},R$={tokenize:H$};function P$(t){let e=-1;const r=[];for(;++e<t.length;){const n=t[e][1];if(r.push(t[e]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",e+=i}}return t.length!==r.length&&er(t,0,t.length,r),t}function O$(t,e){let r=t.length,n=0,i,a,s,o;for(;r--;)if(i=t[r][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(s=r);const l={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[a][1].start},end:{...t[s][1].end}},h={type:"labelText",start:{...t[a+n+2][1].end},end:{...t[s-2][1].start}};return o=[["enter",l,e],["enter",c,e]],o=Be(o,t.slice(a+1,a+n+3)),o=Be(o,[["enter",h,e]]),o=Be(o,Qc(e.parser.constructs.insideSpan.null,t.slice(a+n+4,s-3),e)),o=Be(o,[["exit",h,e],t[s-2],t[s-1],["exit",c,e]]),o=Be(o,t.slice(s+1)),o=Be(o,[["exit",l,e]]),er(t,a,t.length,o),t}function N$(t,e,r){const n=this;let i=n.events.length,a,s;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){a=n.events[i][1];break}return o;function o(f){return a?a._inactive?u(f):(s=n.parser.defined.includes(xn(n.sliceSerialize({start:a.end,end:n.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):r(f)}function l(f){return f===40?t.attempt($$,h,s?h:u)(f):f===91?t.attempt(D$,h,s?c:u)(f):s?h(f):u(f)}function c(f){return t.attempt(R$,h,u)(f)}function h(f){return e(f)}function u(f){return a._balanced=!0,r(f)}}function z$(t,e,r){return n;function n(u){return t.enter("resource"),t.enter("resourceMarker"),t.consume(u),t.exit("resourceMarker"),i}function i(u){return xe(u)?Li(t,a)(u):a(u)}function a(u){return u===41?h(u):Fx(t,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(u)}function s(u){return xe(u)?Li(t,l)(u):h(u)}function o(u){return r(u)}function l(u){return u===34||u===39||u===40?$x(t,c,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(u):h(u)}function c(u){return xe(u)?Li(t,h)(u):h(u)}function h(u){return u===41?(t.enter("resourceMarker"),t.consume(u),t.exit("resourceMarker"),t.exit("resource"),e):r(u)}}function q$(t,e,r){const n=this;return i;function i(o){return Ix.call(n,t,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return n.parser.defined.includes(xn(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?e(o):r(o)}function s(o){return r(o)}}function H$(t,e,r){return n;function n(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):r(a)}}const W$={name:"labelStartImage",resolveAll:Jc.resolveAll,tokenize:j$};function j$(t,e,r){const n=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),a}function a(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),s):r(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):e(o)}}const U$={name:"labelStartLink",resolveAll:Jc.resolveAll,tokenize:Y$};function Y$(t,e,r){const n=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):e(s)}}const _o={name:"lineEnding",tokenize:V$};function V$(t,e){return r;function r(n){return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),Mt(t,e,"linePrefix")}}const Fa={name:"thematicBreak",tokenize:G$};function G$(t,e,r){let n=0,i;return a;function a(c){return t.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):n>=3&&(c===null||ct(c))?(t.exit("thematicBreak"),e(c)):r(c)}function l(c){return c===i?(t.consume(c),n++,l):(t.exit("thematicBreakSequence"),Ct(c)?Mt(t,o,"whitespace")(c):o(c))}}const de={continuation:{tokenize:Q$},exit:tD,name:"list",tokenize:Z$},X$={partial:!0,tokenize:eD},K$={partial:!0,tokenize:J$};function Z$(t,e,r){const n=this,i=n.events[n.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(p){const d=n.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(d==="listUnordered"?!n.containerState.marker||p===n.containerState.marker:Rl(p)){if(n.containerState.type||(n.containerState.type=d,t.enter(d,{_container:!0})),d==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(Fa,r,c)(p):c(p);if(!n.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return r(p)}function l(p){return Rl(p)&&++s<10?(t.consume(p),l):(!n.interrupt||s<2)&&(n.containerState.marker?p===n.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),c(p)):r(p)}function c(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||p,t.check(js,n.interrupt?r:h,t.attempt(X$,f,u))}function h(p){return n.containerState.initialBlankLine=!0,a++,f(p)}function u(p){return Ct(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),f):r(p)}function f(p){return n.containerState.size=a+n.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function Q$(t,e,r){const n=this;return n.containerState._closeFlow=void 0,t.check(js,i,a);function i(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,Mt(t,e,"listItemIndent",n.containerState.size+1)(o)}function a(o){return n.containerState.furtherBlankLines||!Ct(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,s(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,t.attempt(K$,e,s)(o))}function s(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,Mt(t,t.attempt(de,e,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function J$(t,e,r){const n=this;return Mt(t,i,"listItemIndent",n.containerState.size+1);function i(a){const s=n.events[n.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===n.containerState.size?e(a):r(a)}}function tD(t){t.exit(this.containerState.type)}function eD(t,e,r){const n=this;return Mt(t,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=n.events[n.events.length-1];return!Ct(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):r(a)}}const Af={name:"setextUnderline",resolveTo:rD,tokenize:nD};function rD(t,e){let r=t.length,n,i,a;for(;r--;)if(t[r][0]==="enter"){if(t[r][1].type==="content"){n=r;break}t[r][1].type==="paragraph"&&(i=r)}else t[r][1].type==="content"&&t.splice(r,1),!a&&t[r][1].type==="definition"&&(a=r);const s={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[n][1],e]),t[n][1].end={...t[a][1].end}):t[n][1]=s,t.push(["exit",s,e]),t}function nD(t,e,r){const n=this;let i;return a;function a(c){let h=n.events.length,u;for(;h--;)if(n.events[h][1].type!=="lineEnding"&&n.events[h][1].type!=="linePrefix"&&n.events[h][1].type!=="content"){u=n.events[h][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||u)?(t.enter("setextHeadingLine"),i=c,s(c)):r(c)}function s(c){return t.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(t.consume(c),o):(t.exit("setextHeadingLineSequence"),Ct(c)?Mt(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||ct(c)?(t.exit("setextHeadingLine"),e(c)):r(c)}}const iD={tokenize:aD};function aD(t){const e=this,r=t.attempt(js,n,t.attempt(this.parser.constructs.flowInitial,i,Mt(t,t.attempt(this.parser.constructs.flow,i,t.attempt(h$,i)),"linePrefix")));return r;function n(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,r}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,r}}const sD={resolveAll:Rx()},oD=Dx("string"),lD=Dx("text");function Dx(t){return{resolveAll:Rx(t==="text"?cD:void 0),tokenize:e};function e(r){const n=this,i=this.parser.constructs[t],a=r.attempt(i,s,o);return s;function s(h){return c(h)?a(h):o(h)}function o(h){if(h===null){r.consume(h);return}return r.enter("data"),r.consume(h),l}function l(h){return c(h)?(r.exit("data"),a(h)):(r.consume(h),l)}function c(h){if(h===null)return!0;const u=i[h];let f=-1;if(u)for(;++f<u.length;){const p=u[f];if(!p.previous||p.previous.call(n,n.previous))return!0}return!1}}}function Rx(t){return e;function e(r,n){let i=-1,a;for(;++i<=r.length;)a===void 0?r[i]&&r[i][1].type==="data"&&(a=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==a+2&&(r[a][1].end=r[i-1][1].end,r.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(r,n):r}}function cD(t,e){let r=0;for(;++r<=t.length;)if((r===t.length||t[r][1].type==="lineEnding")&&t[r-1][1].type==="data"){const n=t[r-1][1],i=e.sliceStream(n);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(o){const c={type:r===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:n.start._bufferIndex+s,_index:n.start._index+a,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...c.start},n.start.offset===n.end.offset?Object.assign(n,c):(t.splice(r,0,["enter",c,e],["exit",c,e]),r+=2)}r++}return t}const hD={42:de,43:de,45:de,48:de,49:de,50:de,51:de,52:de,53:de,54:de,55:de,56:de,57:de,62:Ax},uD={91:g$},fD={[-2]:ko,[-1]:ko,32:ko},pD={35:C$,42:Fa,45:[Af,Fa],60:S$,61:Af,95:Fa,96:Tf,126:Tf},dD={38:Bx,92:Lx},gD={[-5]:_o,[-4]:_o,[-3]:_o,33:W$,38:Bx,42:Pl,60:[UI,F$],91:U$,92:[b$,Lx],93:Jc,95:Pl,96:i$},mD={null:[Pl,sD]},yD={null:[42,95]},xD={null:[]},bD=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:yD,contentInitial:uD,disable:xD,document:hD,flow:pD,flowInitial:fD,insideSpan:mD,string:dD,text:gD},Symbol.toStringTag,{value:"Module"}));function wD(t,e,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:F(v),check:F(_),consume:b,enter:C,exit:S,interrupt:F(_,{interrupt:!0})},c={code:null,containerState:{},defineSkip:m,events:[],now:d,parser:t,previous:null,sliceSerialize:f,sliceStream:p,write:u};let h=e.tokenize.call(c,l);return e.resolveAll&&a.push(e),c;function u(E){return s=Be(s,E),x(),s[s.length-1]!==null?[]:(P(e,0),c.events=Qc(a,c.events,c),c.events)}function f(E,R){return kD(p(E),R)}function p(E){return CD(s,E)}function d(){const{_bufferIndex:E,_index:R,line:N,column:$,offset:I}=n;return{_bufferIndex:E,_index:R,line:N,column:$,offset:I}}function m(E){i[E.line]=E.column,O()}function x(){let E;for(;n._index<s.length;){const R=s[n._index];if(typeof R=="string")for(E=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===E&&n._bufferIndex<R.length;)y(R.charCodeAt(n._bufferIndex));else y(R)}}function y(E){h=h(E)}function b(E){ct(E)?(n.line++,n.column=1,n.offset+=E===-3?2:1,O()):E!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===s[n._index].length&&(n._bufferIndex=-1,n._index++)),c.previous=E}function C(E,R){const N=R||{};return N.type=E,N.start=d(),c.events.push(["enter",N,c]),o.push(N),N}function S(E){const R=o.pop();return R.end=d(),c.events.push(["exit",R,c]),R}function v(E,R){P(E,R.from)}function _(E,R){R.restore()}function F(E,R){return N;function N($,I,A){let B,L,W,w;return Array.isArray($)?pt($):"tokenize"in $?pt([$]):j($);function j(bt){return Ot;function Ot(Nt){const $t=Nt!==null&&bt[Nt],Tt=Nt!==null&&bt.null,qt=[...Array.isArray($t)?$t:$t?[$t]:[],...Array.isArray(Tt)?Tt:Tt?[Tt]:[]];return pt(qt)(Nt)}}function pt(bt){return B=bt,L=0,bt.length===0?A:k(bt[L])}function k(bt){return Ot;function Ot(Nt){return w=q(),W=bt,bt.partial||(c.currentConstruct=bt),bt.name&&c.parser.constructs.disable.null.includes(bt.name)?ot():bt.tokenize.call(R?Object.assign(Object.create(c),R):c,l,yt,ot)(Nt)}}function yt(bt){return E(W,w),I}function ot(bt){return w.restore(),++L<B.length?k(B[L]):A}}}function P(E,R){E.resolveAll&&!a.includes(E)&&a.push(E),E.resolve&&er(c.events,R,c.events.length-R,E.resolve(c.events.slice(R),c)),E.resolveTo&&(c.events=E.resolveTo(c.events,c))}function q(){const E=d(),R=c.previous,N=c.currentConstruct,$=c.events.length,I=Array.from(o);return{from:$,restore:A};function A(){n=E,c.previous=R,c.currentConstruct=N,c.events.length=$,o=I,O()}}function O(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function CD(t,e){const r=e.start._index,n=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(r===i)s=[t[r].slice(n,a)];else{if(s=t.slice(r,i),n>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(n):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function kD(t,e){let r=-1;const n=[];let i;for(;++r<t.length;){const a=t[r];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,n.push(s)}return n.join("")}function _D(t){const n={constructs:BI([bD,...(t||{}).extensions||[]]),content:i(OI),defined:[],document:i(zI),flow:i(iD),lazy:{},string:i(oD),text:i(lD)};return n;function i(a){return s;function s(o){return wD(n,a,o)}}}function vD(t){for(;!Mx(t););return t}const Lf=/[\0\t\n\r]/g;function SD(){let t=1,e="",r=!0,n;return i;function i(a,s,o){const l=[];let c,h,u,f,p;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),u=0,e="",r&&(a.charCodeAt(0)===65279&&u++,r=void 0);u<a.length;){if(Lf.lastIndex=u,c=Lf.exec(a),f=c&&c.index!==void 0?c.index:a.length,p=a.charCodeAt(f),!c){e=a.slice(u);break}if(p===10&&u===f&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),u<f&&(l.push(a.slice(u,f)),t+=f-u),p){case 0:{l.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,l.push(-2);t++<h;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:n=!0,t=1}u=f+1}return o&&(n&&l.push(-5),e&&l.push(e),l.push(null)),l}}const TD=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ED(t){return t.replace(TD,AD)}function AD(t,e,r){if(e)return e;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),a=i===120||i===88;return Ex(r.slice(a?2:1),a?16:10)}return Zc(r)||t}const Px={}.hasOwnProperty;function LD(t,e,r){return typeof e!="string"&&(r=e,e=void 0),BD(r)(vD(_D(r).document().write(SD()(t,e,!0))))}function BD(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Ir),autolinkProtocol:q,autolinkEmail:q,atxHeading:a(sn),blockQuote:a(Tt),characterEscape:q,characterReference:q,codeFenced:a(qt),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(qt,s),codeText:a(ce,s),codeTextData:q,data:q,codeFlowValue:q,definition:a(qe),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(ir),hardBreakEscape:a(on),hardBreakTrailing:a(on),htmlFlow:a(ar,s),htmlFlowData:q,htmlText:a(ar,s),htmlTextData:q,image:a(ln),label:s,link:a(Ir),listItem:a(ra),listItemValue:f,listOrdered:a(Xn,u),listUnordered:a(Xn),paragraph:a(Gs),reference:k,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(sn),strong:a(Kn),thematicBreak:a(xr)},exit:{atxHeading:l(),atxHeadingSequence:v,autolink:l(),autolinkEmail:$t,autolinkProtocol:Nt,blockQuote:l(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:ot,characterReferenceMarkerNumeric:ot,characterReferenceValue:bt,characterReference:Ot,codeFenced:l(x),codeFencedFence:m,codeFencedFenceInfo:p,codeFencedFenceMeta:d,codeFlowValue:O,codeIndented:l(y),codeText:l(I),codeTextData:O,data:O,definition:l(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:C,emphasis:l(),hardBreakEscape:l(R),hardBreakTrailing:l(R),htmlFlow:l(N),htmlFlowData:O,htmlText:l($),htmlTextData:O,image:l(B),label:W,labelText:L,lineEnding:E,link:l(A),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:yt,resourceDestinationString:w,resourceTitleString:j,resource:pt,setextHeading:l(P),setextHeadingLineSequence:F,setextHeadingText:_,strong:l(),thematicBreak:l()}};Ox(e,(t||{}).mdastExtensions||[]);const r={};return n;function n(D){let V={type:"root",children:[]};const ft={stack:[V],tokenStack:[],config:e,enter:o,exit:c,buffer:s,resume:h,data:r},gt=[];let wt=-1;for(;++wt<D.length;)if(D[wt][1].type==="listOrdered"||D[wt][1].type==="listUnordered")if(D[wt][0]==="enter")gt.push(wt);else{const he=gt.pop();wt=i(D,he,wt)}for(wt=-1;++wt<D.length;){const he=e[D[wt][0]];Px.call(he,D[wt][1].type)&&he[D[wt][1].type].call(Object.assign({sliceSerialize:D[wt][2].sliceSerialize},ft),D[wt][1])}if(ft.tokenStack.length>0){const he=ft.tokenStack[ft.tokenStack.length-1];(he[1]||Bf).call(ft,void 0,he[0])}for(V.position={start:wr(D.length>0?D[0][1].start:{line:1,column:1,offset:0}),end:wr(D.length>0?D[D.length-2][1].end:{line:1,column:1,offset:0})},wt=-1;++wt<e.transforms.length;)V=e.transforms[wt](V)||V;return V}function i(D,V,ft){let gt=V-1,wt=-1,he=!1,Te,ue,re,Ee;for(;++gt<=ft;){const jt=D[gt];switch(jt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{jt[0]==="enter"?wt++:wt--,Ee=void 0;break}case"lineEndingBlank":{jt[0]==="enter"&&(Te&&!Ee&&!wt&&!re&&(re=gt),Ee=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ee=void 0}if(!wt&&jt[0]==="enter"&&jt[1].type==="listItemPrefix"||wt===-1&&jt[0]==="exit"&&(jt[1].type==="listUnordered"||jt[1].type==="listOrdered")){if(Te){let He=gt;for(ue=void 0;He--;){const $e=D[He];if($e[1].type==="lineEnding"||$e[1].type==="lineEndingBlank"){if($e[0]==="exit")continue;ue&&(D[ue][1].type="lineEndingBlank",he=!0),$e[1].type="lineEnding",ue=He}else if(!($e[1].type==="linePrefix"||$e[1].type==="blockQuotePrefix"||$e[1].type==="blockQuotePrefixWhitespace"||$e[1].type==="blockQuoteMarker"||$e[1].type==="listItemIndent"))break}re&&(!ue||re<ue)&&(Te._spread=!0),Te.end=Object.assign({},ue?D[ue][1].start:jt[1].end),D.splice(ue||gt,0,["exit",Te,jt[2]]),gt++,ft++}if(jt[1].type==="listItemPrefix"){const He={type:"listItem",_spread:!1,start:Object.assign({},jt[1].start),end:void 0};Te=He,D.splice(gt,0,["enter",He,jt[2]]),gt++,ft++,re=void 0,Ee=!0}}}return D[V][1]._spread=he,ft}function a(D,V){return ft;function ft(gt){o.call(this,D(gt),gt),V&&V.call(this,gt)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(D,V,ft){this.stack[this.stack.length-1].children.push(D),this.stack.push(D),this.tokenStack.push([V,ft||void 0]),D.position={start:wr(V.start),end:void 0}}function l(D){return V;function V(ft){D&&D.call(this,ft),c.call(this,ft)}}function c(D,V){const ft=this.stack.pop(),gt=this.tokenStack.pop();if(gt)gt[0].type!==D.type&&(V?V.call(this,D,gt[0]):(gt[1]||Bf).call(this,D,gt[0]));else throw new Error("Cannot close `"+D.type+"` ("+Ai({start:D.start,end:D.end})+"): it’s not open");ft.position.end=wr(D.end)}function h(){return AI(this.stack.pop())}function u(){this.data.expectingFirstListItemValue=!0}function f(D){if(this.data.expectingFirstListItemValue){const V=this.stack[this.stack.length-2];V.start=Number.parseInt(this.sliceSerialize(D),10),this.data.expectingFirstListItemValue=void 0}}function p(){const D=this.resume(),V=this.stack[this.stack.length-1];V.lang=D}function d(){const D=this.resume(),V=this.stack[this.stack.length-1];V.meta=D}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const D=this.resume(),V=this.stack[this.stack.length-1];V.value=D.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const D=this.resume(),V=this.stack[this.stack.length-1];V.value=D.replace(/(\r?\n|\r)$/g,"")}function b(D){const V=this.resume(),ft=this.stack[this.stack.length-1];ft.label=V,ft.identifier=xn(this.sliceSerialize(D)).toLowerCase()}function C(){const D=this.resume(),V=this.stack[this.stack.length-1];V.title=D}function S(){const D=this.resume(),V=this.stack[this.stack.length-1];V.url=D}function v(D){const V=this.stack[this.stack.length-1];if(!V.depth){const ft=this.sliceSerialize(D).length;V.depth=ft}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function F(D){const V=this.stack[this.stack.length-1];V.depth=this.sliceSerialize(D).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function q(D){const ft=this.stack[this.stack.length-1].children;let gt=ft[ft.length-1];(!gt||gt.type!=="text")&&(gt=$r(),gt.position={start:wr(D.start),end:void 0},ft.push(gt)),this.stack.push(gt)}function O(D){const V=this.stack.pop();V.value+=this.sliceSerialize(D),V.position.end=wr(D.end)}function E(D){const V=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ft=V.children[V.children.length-1];ft.position.end=wr(D.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(V.type)&&(q.call(this,D),O.call(this,D))}function R(){this.data.atHardBreak=!0}function N(){const D=this.resume(),V=this.stack[this.stack.length-1];V.value=D}function $(){const D=this.resume(),V=this.stack[this.stack.length-1];V.value=D}function I(){const D=this.resume(),V=this.stack[this.stack.length-1];V.value=D}function A(){const D=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";D.type+="Reference",D.referenceType=V,delete D.url,delete D.title}else delete D.identifier,delete D.label;this.data.referenceType=void 0}function B(){const D=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";D.type+="Reference",D.referenceType=V,delete D.url,delete D.title}else delete D.identifier,delete D.label;this.data.referenceType=void 0}function L(D){const V=this.sliceSerialize(D),ft=this.stack[this.stack.length-2];ft.label=ED(V),ft.identifier=xn(V).toLowerCase()}function W(){const D=this.stack[this.stack.length-1],V=this.resume(),ft=this.stack[this.stack.length-1];if(this.data.inReference=!0,ft.type==="link"){const gt=D.children;ft.children=gt}else ft.alt=V}function w(){const D=this.resume(),V=this.stack[this.stack.length-1];V.url=D}function j(){const D=this.resume(),V=this.stack[this.stack.length-1];V.title=D}function pt(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function yt(D){const V=this.resume(),ft=this.stack[this.stack.length-1];ft.label=V,ft.identifier=xn(this.sliceSerialize(D)).toLowerCase(),this.data.referenceType="full"}function ot(D){this.data.characterReferenceType=D.type}function bt(D){const V=this.sliceSerialize(D),ft=this.data.characterReferenceType;let gt;ft?(gt=Ex(V,ft==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):gt=Zc(V);const wt=this.stack[this.stack.length-1];wt.value+=gt}function Ot(D){const V=this.stack.pop();V.position.end=wr(D.end)}function Nt(D){O.call(this,D);const V=this.stack[this.stack.length-1];V.url=this.sliceSerialize(D)}function $t(D){O.call(this,D);const V=this.stack[this.stack.length-1];V.url="mailto:"+this.sliceSerialize(D)}function Tt(){return{type:"blockquote",children:[]}}function qt(){return{type:"code",lang:null,meta:null,value:""}}function ce(){return{type:"inlineCode",value:""}}function qe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ir(){return{type:"emphasis",children:[]}}function sn(){return{type:"heading",depth:0,children:[]}}function on(){return{type:"break"}}function ar(){return{type:"html",value:""}}function ln(){return{type:"image",title:null,url:"",alt:null}}function Ir(){return{type:"link",title:null,url:"",children:[]}}function Xn(D){return{type:"list",ordered:D.type==="listOrdered",start:null,spread:D._spread,children:[]}}function ra(D){return{type:"listItem",spread:D._spread,checked:null,children:[]}}function Gs(){return{type:"paragraph",children:[]}}function Kn(){return{type:"strong",children:[]}}function $r(){return{type:"text",value:""}}function xr(){return{type:"thematicBreak"}}}function wr(t){return{line:t.line,column:t.column,offset:t.offset}}function Ox(t,e){let r=-1;for(;++r<e.length;){const n=e[r];Array.isArray(n)?Ox(t,n):MD(t,n)}}function MD(t,e){let r;for(r in e)if(Px.call(e,r))switch(r){case"canContainEols":{const n=e[r];n&&t[r].push(...n);break}case"transforms":{const n=e[r];n&&t[r].push(...n);break}case"enter":case"exit":{const n=e[r];n&&Object.assign(t[r],n);break}}}function Bf(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Ai({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Ai({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Ai({start:e.start,end:e.end})+") is still open")}function FD(t){const e=this;e.parser=r;function r(n){return LD(n,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function ID(t,e){const r={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,r),t.applyData(e,r)}function $D(t,e){const r={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,r),[t.applyData(e,r),{type:"text",value:`
`}]}function DD(t,e){const r=e.value?e.value+`
`:"",n={};e.lang&&(n.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function RD(t,e){const r={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function PD(t,e){const r={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function OD(t,e){const r=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=String(e.identifier).toUpperCase(),i=Gn(n.toLowerCase()),a=t.footnoteOrder.indexOf(n);let s,o=t.footnoteCounts.get(n);o===void 0?(o=0,t.footnoteOrder.push(n),s=t.footnoteOrder.length):s=a+1,o+=1,t.footnoteCounts.set(n,o);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function ND(t,e){const r={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function zD(t,e){if(t.options.allowDangerousHtml){const r={type:"raw",value:e.value};return t.patch(e,r),t.applyData(e,r)}}function Nx(t,e){const r=e.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+n}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=n:i.push({type:"text",value:n}),i}function qD(t,e){const r=String(e.identifier).toUpperCase(),n=t.definitionById.get(r);if(!n)return Nx(t,e);const i={src:Gn(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function HD(t,e){const r={src:Gn(e.url)};e.alt!==null&&e.alt!==void 0&&(r.alt=e.alt),e.title!==null&&e.title!==void 0&&(r.title=e.title);const n={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,n),t.applyData(e,n)}function WD(t,e){const r={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return t.patch(e,n),t.applyData(e,n)}function jD(t,e){const r=String(e.identifier).toUpperCase(),n=t.definitionById.get(r);if(!n)return Nx(t,e);const i={href:Gn(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function UD(t,e){const r={href:Gn(e.url)};e.title!==null&&e.title!==void 0&&(r.title=e.title);const n={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function YD(t,e,r){const n=t.all(e),i=r?VD(r):zx(e),a={},s=[];if(typeof e.checked=="boolean"){const h=n[0];let u;h&&h.type==="element"&&h.tagName==="p"?u=h:(u={type:"element",tagName:"p",properties:{},children:[]},n.unshift(u)),u.children.length>0&&u.children.unshift({type:"text",value:" "}),u.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const h=n[o];(i||o!==0||h.type!=="element"||h.tagName!=="p")&&s.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?s.push(...h.children):s.push(h)}const l=n[n.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,c),t.applyData(e,c)}function VD(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const r=t.children;let n=-1;for(;!e&&++n<r.length;)e=zx(r[n])}return e}function zx(t){const e=t.spread;return e??t.children.length>1}function GD(t,e){const r={},n=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(r.start=e.start);++i<n.length;){const s=n[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:r,children:t.wrap(n,!0)};return t.patch(e,a),t.applyData(e,a)}function XD(t,e){const r={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function KD(t,e){const r={type:"root",children:t.wrap(t.all(e))};return t.patch(e,r),t.applyData(e,r)}function ZD(t,e){const r={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function QD(t,e){const r=t.all(e),n=r.shift(),i=[];if(n){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([n],!0)};t.patch(e.children[0],s),i.push(s)}if(r.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(r,!0)},o=Vc(e.children[1]),l=wx(e.children[e.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function JD(t,e,r){const n=r?r.children:void 0,a=(n?n.indexOf(e):1)===0?"th":"td",s=r&&r.type==="table"?r.align:void 0,o=s?s.length:e.children.length;let l=-1;const c=[];for(;++l<o;){const u=e.children[l],f={},p=s?s[l]:void 0;p&&(f.align=p);let d={type:"element",tagName:a,properties:f,children:[]};u&&(d.children=t.all(u),t.patch(u,d),d=t.applyData(u,d)),c.push(d)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,h),t.applyData(e,h)}function tR(t,e){const r={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}const Mf=9,Ff=32;function eR(t){const e=String(t),r=/\r?\n|\r/g;let n=r.exec(e),i=0;const a=[];for(;n;)a.push(If(e.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(e);return a.push(If(e.slice(i),i>0,!1)),a.join("")}function If(t,e,r){let n=0,i=t.length;if(e){let a=t.codePointAt(n);for(;a===Mf||a===Ff;)n++,a=t.codePointAt(n)}if(r){let a=t.codePointAt(i-1);for(;a===Mf||a===Ff;)i--,a=t.codePointAt(i-1)}return i>n?t.slice(n,i):""}function rR(t,e){const r={type:"text",value:eR(String(e.value))};return t.patch(e,r),t.applyData(e,r)}function nR(t,e){const r={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,r),t.applyData(e,r)}const iR={blockquote:ID,break:$D,code:DD,delete:RD,emphasis:PD,footnoteReference:OD,heading:ND,html:zD,imageReference:qD,image:HD,inlineCode:WD,linkReference:jD,link:UD,listItem:YD,list:GD,paragraph:XD,root:KD,strong:ZD,table:QD,tableCell:tR,tableRow:JD,text:rR,thematicBreak:nR,toml:ma,yaml:ma,definition:ma,footnoteDefinition:ma};function ma(){}const qx=-1,Us=0,ds=1,gs=2,th=3,eh=4,rh=5,nh=6,Hx=7,Wx=8,$f=typeof self=="object"?self:globalThis,aR=(t,e)=>{const r=(i,a)=>(t.set(a,i),i),n=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case Us:case qx:return r(s,i);case ds:{const o=r([],i);for(const l of s)o.push(n(l));return o}case gs:{const o=r({},i);for(const[l,c]of s)o[n(l)]=n(c);return o}case th:return r(new Date(s),i);case eh:{const{source:o,flags:l}=s;return r(new RegExp(o,l),i)}case rh:{const o=r(new Map,i);for(const[l,c]of s)o.set(n(l),n(c));return o}case nh:{const o=r(new Set,i);for(const l of s)o.add(n(l));return o}case Hx:{const{name:o,message:l}=s;return r(new $f[o](l),i)}case Wx:return r(BigInt(s),i);case"BigInt":return r(Object(BigInt(s)),i)}return r(new $f[a](s),i)};return n},Df=t=>aR(new Map,t)(0),fn="",{toString:sR}={},{keys:oR}=Object,pi=t=>{const e=typeof t;if(e!=="object"||!t)return[Us,e];const r=sR.call(t).slice(8,-1);switch(r){case"Array":return[ds,fn];case"Object":return[gs,fn];case"Date":return[th,fn];case"RegExp":return[eh,fn];case"Map":return[rh,fn];case"Set":return[nh,fn]}return r.includes("Array")?[ds,r]:r.includes("Error")?[Hx,r]:[gs,r]},ya=([t,e])=>t===Us&&(e==="function"||e==="symbol"),lR=(t,e,r,n)=>{const i=(s,o)=>{const l=n.push(s)-1;return r.set(o,l),l},a=s=>{if(r.has(s))return r.get(s);let[o,l]=pi(s);switch(o){case Us:{let h=s;switch(l){case"bigint":o=Wx,h=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);h=null;break;case"undefined":return i([qx],s)}return i([o,h],s)}case ds:{if(l)return i([l,[...s]],s);const h=[],u=i([o,h],s);for(const f of s)h.push(a(f));return u}case gs:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const h=[],u=i([o,h],s);for(const f of oR(s))(t||!ya(pi(s[f])))&&h.push([a(f),a(s[f])]);return u}case th:return i([o,s.toISOString()],s);case eh:{const{source:h,flags:u}=s;return i([o,{source:h,flags:u}],s)}case rh:{const h=[],u=i([o,h],s);for(const[f,p]of s)(t||!(ya(pi(f))||ya(pi(p))))&&h.push([a(f),a(p)]);return u}case nh:{const h=[],u=i([o,h],s);for(const f of s)(t||!ya(pi(f)))&&h.push(a(f));return u}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},Rf=(t,{json:e,lossy:r}={})=>{const n=[];return lR(!(e||r),!!e,new Map,n)(t),n},ms=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Df(Rf(t,e)):structuredClone(t):(t,e)=>Df(Rf(t,e));function cR(t,e){const r=[{type:"text",value:"↩"}];return e>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),r}function hR(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function uR(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=t.options.footnoteBackContent||cR,n=t.options.footnoteBackLabel||hR,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const h=t.all(c),u=String(c.identifier).toUpperCase(),f=Gn(u.toLowerCase());let p=0;const d=[],m=t.footnoteCounts.get(u);for(;m!==void 0&&++p<=m;){d.length>0&&d.push({type:"text",value:" "});let b=typeof r=="string"?r:r(l,p);typeof b=="string"&&(b={type:"text",value:b}),d.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,p),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const x=h[h.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const b=x.children[x.children.length-1];b&&b.type==="text"?b.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...d)}else h.push(...d);const y={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(h,!0)};t.patch(c,y),o.push(y)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...ms(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const jx=function(t){if(t==null)return gR;if(typeof t=="function")return Ys(t);if(typeof t=="object")return Array.isArray(t)?fR(t):pR(t);if(typeof t=="string")return dR(t);throw new Error("Expected function, string, or object as test")};function fR(t){const e=[];let r=-1;for(;++r<t.length;)e[r]=jx(t[r]);return Ys(n);function n(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function pR(t){const e=t;return Ys(r);function r(n){const i=n;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function dR(t){return Ys(e);function e(r){return r&&r.type===t}}function Ys(t){return e;function e(r,n,i){return!!(mR(r)&&t.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function gR(){return!0}function mR(t){return t!==null&&typeof t=="object"&&"type"in t}const Ux=[],yR=!0,Pf=!1,xR="skip";function bR(t,e,r,n){let i;typeof e=="function"&&typeof r!="function"?(n=r,r=e):i=e;const a=jx(i),s=n?-1:1;o(t,void 0,[])();function o(l,c,h){const u=l&&typeof l=="object"?l:{};if(typeof u.type=="string"){const p=typeof u.tagName=="string"?u.tagName:typeof u.name=="string"?u.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=Ux,d,m,x;if((!e||a(l,c,h[h.length-1]||void 0))&&(p=wR(r(l,h)),p[0]===Pf))return p;if("children"in l&&l.children){const y=l;if(y.children&&p[0]!==xR)for(m=(n?y.children.length:-1)+s,x=h.concat(y);m>-1&&m<y.children.length;){const b=y.children[m];if(d=o(b,m,x)(),d[0]===Pf)return d;m=typeof d[1]=="number"?d[1]:m+s}}return p}}}function wR(t){return Array.isArray(t)?t:typeof t=="number"?[yR,t]:t==null?Ux:[t]}function Yx(t,e,r,n){let i,a,s;typeof e=="function"&&typeof r!="function"?(a=void 0,s=e,i=r):(a=e,s=r,i=n),bR(t,a,o,i);function o(l,c){const h=c[c.length-1],u=h?h.children.indexOf(l):void 0;return s(l,u,h)}}const Ol={}.hasOwnProperty,CR={};function kR(t,e){const r=e||CR,n=new Map,i=new Map,a=new Map,s={...iR,...r.handlers},o={all:c,applyData:vR,definitionById:n,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:r,patch:_R,wrap:TR};return Yx(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const u=h.type==="definition"?n:i,f=String(h.identifier).toUpperCase();u.has(f)||u.set(f,h)}}),o;function l(h,u){const f=h.type,p=o.handlers[f];if(Ol.call(o.handlers,f)&&p)return p(o,h,u);if(o.options.passThrough&&o.options.passThrough.includes(f)){if("children"in h){const{children:m,...x}=h,y=ms(x);return y.children=o.all(h),y}return ms(h)}return(o.options.unknownHandler||SR)(o,h,u)}function c(h){const u=[];if("children"in h){const f=h.children;let p=-1;for(;++p<f.length;){const d=o.one(f[p],h);if(d){if(p&&f[p-1].type==="break"&&(!Array.isArray(d)&&d.type==="text"&&(d.value=Of(d.value)),!Array.isArray(d)&&d.type==="element")){const m=d.children[0];m&&m.type==="text"&&(m.value=Of(m.value))}Array.isArray(d)?u.push(...d):u.push(d)}}}return u}}function _R(t,e){t.position&&(e.position=iI(t))}function vR(t,e){let r=e;if(t&&t.data){const n=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const s="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:s}}r.type==="element"&&a&&Object.assign(r.properties,ms(a)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function SR(t,e){const r=e.data||{},n="value"in e&&!(Ol.call(r,"hProperties")||Ol.call(r,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function TR(t,e){const r=[];let n=-1;for(e&&r.push({type:"text",value:`
`});++n<t.length;)n&&r.push({type:"text",value:`
`}),r.push(t[n]);return e&&t.length>0&&r.push({type:"text",value:`
`}),r}function Of(t){let e=0,r=t.charCodeAt(e);for(;r===9||r===32;)e++,r=t.charCodeAt(e);return t.slice(e)}function Nf(t,e){const r=kR(t,e),n=r.one(t,void 0),i=uR(r),a=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function ER(t,e){return t&&"run"in t?async function(r,n){const i=Nf(r,{file:n,...e});await t.run(i,n)}:function(r,n){return Nf(r,{file:n,...t||e})}}function zf(t){if(t)throw t}var Ia=Object.prototype.hasOwnProperty,Vx=Object.prototype.toString,qf=Object.defineProperty,Hf=Object.getOwnPropertyDescriptor,Wf=function(e){return typeof Array.isArray=="function"?Array.isArray(e):Vx.call(e)==="[object Array]"},jf=function(e){if(!e||Vx.call(e)!=="[object Object]")return!1;var r=Ia.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&Ia.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;var i;for(i in e);return typeof i>"u"||Ia.call(e,i)},Uf=function(e,r){qf&&r.name==="__proto__"?qf(e,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):e[r.name]=r.newValue},Yf=function(e,r){if(r==="__proto__")if(Ia.call(e,r)){if(Hf)return Hf(e,r).value}else return;return e[r]},AR=function t(){var e,r,n,i,a,s,o=arguments[0],l=1,c=arguments.length,h=!1;for(typeof o=="boolean"&&(h=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(e=arguments[l],e!=null)for(r in e)n=Yf(o,r),i=Yf(e,r),o!==i&&(h&&i&&(jf(i)||(a=Wf(i)))?(a?(a=!1,s=n&&Wf(n)?n:[]):s=n&&jf(n)?n:{},Uf(o,{name:r,newValue:t(h,s,i)})):typeof i<"u"&&Uf(o,{name:r,newValue:i}));return o};const vo=Jf(AR);function Nl(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function LR(){const t=[],e={run:r,use:n};return e;function r(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const h=t[++a];let u=-1;if(l){s(l);return}for(;++u<i.length;)(c[u]===null||c[u]===void 0)&&(c[u]=i[u]);i=c,h?BR(h,o)(...c):s(null,...c)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function BR(t,e){let r;return n;function n(...s){const o=t.length>s.length;let l;o&&s.push(i);try{l=t.apply(this,s)}catch(c){const h=c;if(o&&r)throw h;return i(h)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){r||(r=!0,e(s,...o))}function a(s){i(null,s)}}const Ue={basename:MR,dirname:FR,extname:IR,join:$R,sep:"/"};function MR(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');ea(t);let r=0,n=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){r=i+1;break}}else n<0&&(a=!0,n=i+1);return n<0?"":t.slice(r,n)}if(e===t)return"";let s=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){r=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(n=i):(o=-1,n=s));return r===n?n=s:n<0&&(n=t.length),t.slice(r,n)}function FR(t){if(ea(t),t.length===0)return".";let e=-1,r=t.length,n;for(;--r;)if(t.codePointAt(r)===47){if(n){e=r;break}}else n||(n=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function IR(t){ea(t);let e=t.length,r=-1,n=0,i=-1,a=0,s;for(;e--;){const o=t.codePointAt(e);if(o===47){if(s){n=e+1;break}continue}r<0&&(s=!0,r=e+1),o===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||r<0||a===0||a===1&&i===r-1&&i===n+1?"":t.slice(i,r)}function $R(...t){let e=-1,r;for(;++e<t.length;)ea(t[e]),t[e]&&(r=r===void 0?t[e]:r+"/"+t[e]);return r===void 0?".":DR(r)}function DR(t){ea(t);const e=t.codePointAt(0)===47;let r=RR(t,!e);return r.length===0&&!e&&(r="."),r.length>0&&t.codePointAt(t.length-1)===47&&(r+="/"),e?"/"+r:r}function RR(t,e){let r="",n=0,i=-1,a=0,s=-1,o,l;for(;++s<=t.length;){if(s<t.length)o=t.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=s,a=0;continue}}else if(r.length>0){r="",n=0,i=s,a=0;continue}}e&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+t.slice(i+1,s):r=t.slice(i+1,s),n=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return r}function ea(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const PR={cwd:OR};function OR(){return"/"}function zl(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function NR(t){if(typeof t=="string")t=new URL(t);else if(!zl(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return zR(t)}function zR(t){if(t.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const e=t.pathname;let r=-1;for(;++r<e.length;)if(e.codePointAt(r)===37&&e.codePointAt(r+1)===50){const n=e.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const So=["history","path","basename","stem","extname","dirname"];class Gx{constructor(e){let r;e?zl(e)?r={path:e}:typeof e=="string"||qR(e)?r={value:e}:r=e:r={},this.cwd="cwd"in r?"":PR.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<So.length;){const a=So[n];a in r&&r[a]!==void 0&&r[a]!==null&&(this[a]=a==="history"?[...r[a]]:r[a])}let i;for(i in r)So.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?Ue.basename(this.path):void 0}set basename(e){Eo(e,"basename"),To(e,"basename"),this.path=Ue.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ue.dirname(this.path):void 0}set dirname(e){Vf(this.basename,"dirname"),this.path=Ue.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ue.extname(this.path):void 0}set extname(e){if(To(e,"extname"),Vf(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ue.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){zl(e)&&(e=NR(e)),Eo(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ue.basename(this.path,this.extname):void 0}set stem(e){Eo(e,"stem"),To(e,"stem"),this.path=Ue.join(this.dirname||"",e+(this.extname||""))}fail(e,r,n){const i=this.message(e,r,n);throw i.fatal=!0,i}info(e,r,n){const i=this.message(e,r,n);return i.fatal=void 0,i}message(e,r,n){const i=new ee(e,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function To(t,e){if(t&&t.includes(Ue.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ue.sep+"`")}function Eo(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Vf(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function qR(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const HR=function(t){const n=this.constructor.prototype,i=n[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,n),a},WR={}.hasOwnProperty;class ih extends HR{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=LR()}copy(){const e=new ih;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];e.use(...n)}return e.data(vo(!0,{},this.namespace)),e}data(e,r){return typeof e=="string"?arguments.length===2?(Bo("data",this.frozen),this.namespace[e]=r,this):WR.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Bo("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(e,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const r=xa(e),n=this.parser||this.Parser;return Ao("parse",n),n(String(r),r)}process(e,r){const n=this;return this.freeze(),Ao("process",this.parser||this.Parser),Lo("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(a,s){const o=xa(e),l=n.parse(o);n.run(l,o,function(h,u,f){if(h||!u||!f)return c(h);const p=u,d=n.stringify(p,f);YR(d)?f.value=d:f.result=d,c(h,f)});function c(h,u){h||!u?s(h):a?a(u):r(void 0,u)}}}processSync(e){let r=!1,n;return this.freeze(),Ao("processSync",this.parser||this.Parser),Lo("processSync",this.compiler||this.Compiler),this.process(e,i),Xf("processSync","process",r),n;function i(a,s){r=!0,zf(a),n=s}}run(e,r,n){Gf(e),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?a(void 0,n):new Promise(a);function a(s,o){const l=xa(r);i.run(e,l,c);function c(h,u,f){const p=u||e;h?o(h):s?s(p):n(void 0,p,f)}}}runSync(e,r){let n=!1,i;return this.run(e,r,a),Xf("runSync","run",n),i;function a(s,o){zf(s),i=o,n=!0}}stringify(e,r){this.freeze();const n=xa(r),i=this.compiler||this.Compiler;return Lo("stringify",i),Gf(e),i(e,n)}use(e,...r){const n=this.attachers,i=this.namespace;if(Bo("use",this.frozen),e!=null)if(typeof e=="function")l(e,r);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[h,...u]=c;l(h,u)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=vo(!0,i.settings,c.settings))}function o(c){let h=-1;if(c!=null)if(Array.isArray(c))for(;++h<c.length;){const u=c[h];a(u)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,h){let u=-1,f=-1;for(;++u<n.length;)if(n[u][0]===c){f=u;break}if(f===-1)n.push([c,...h]);else if(h.length>0){let[p,...d]=h;const m=n[f][1];Nl(m)&&Nl(p)&&(p=vo(!0,m,p)),n[f]=[c,p,...d]}}}}const jR=new ih().freeze();function Ao(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Lo(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Bo(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Gf(t){if(!Nl(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Xf(t,e,r){if(!r)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function xa(t){return UR(t)?t:new Gx(t)}function UR(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function YR(t){return typeof t=="string"||VR(t)}function VR(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const GR="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Kf=[],Zf={allowDangerousHtml:!0},XR=/^(https?|ircs?|mailto|xmpp)$/i,KR=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ZR(t){const e=t.allowedElements,r=t.allowElement,n=t.children||"",i=t.className,a=t.components,s=t.disallowedElements,o=t.rehypePlugins||Kf,l=t.remarkPlugins||Kf,c=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Zf}:Zf,h=t.skipHtml,u=t.unwrapDisallowed,f=t.urlTransform||QR,p=jR().use(FD).use(l).use(ER,c).use(o),d=new Gx;typeof n=="string"&&(d.value=n);for(const b of KR)Object.hasOwn(t,b.from)&&(""+b.from+(b.to?"use `"+b.to+"` instead":"remove it")+GR+b.id,void 0);const m=p.parse(d);let x=p.runSync(m,d);return i&&(x={type:"element",tagName:"div",properties:{className:i},children:x.type==="root"?x.children:[x]}),Yx(x,y),hI(x,{Fragment:U.Fragment,components:a,ignoreInvalidStyle:!0,jsx:U.jsx,jsxs:U.jsxs,passKeys:!0,passNode:!0});function y(b,C,S){if(b.type==="raw"&&S&&typeof C=="number")return h?S.children.splice(C,1):S.children[C]={type:"text",value:b.value},C;if(b.type==="element"){let v;for(v in Co)if(Object.hasOwn(Co,v)&&Object.hasOwn(b.properties,v)){const _=b.properties[v],F=Co[v];(F===null||F.includes(b.tagName))&&(b.properties[v]=f(String(_||""),v,b))}}if(b.type==="element"){let v=e?!e.includes(b.tagName):s?s.includes(b.tagName):!1;if(!v&&r&&typeof C=="number"&&(v=!r(b,C,S)),v&&S&&typeof C=="number")return u&&b.children?S.children.splice(C,1,...b.children):S.children.splice(C,1),C}}}function QR(t){const e=t.indexOf(":"),r=t.indexOf("?"),n=t.indexOf("#"),i=t.indexOf("/");return e<0||i>-1&&e>i||r>-1&&e>r||n>-1&&e>n||XR.test(t.slice(0,e))?t:""}const Qf=t=>t.replace(/[-–—]/g,"").replace(/[,.'’"!@#$%^&*()′″°+=\[\]{}|\\/<>:;_\s]/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,"").trim(),Mo=t=>t.trim().replace(/[©®*"’`]/g,"");function JR(t){const e=X.useRef({value:t,previous:t});return X.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function t3(t){const[e,r]=X.useState(void 0);return Mb(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,o=c.blockSize}else s=t.offsetWidth,o=t.offsetHeight;r({width:s,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var ah="Switch",[e3,eP]=tp(ah),[r3,n3]=e3(ah),Xx=X.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:s,disabled:o,value:l="on",onCheckedChange:c,form:h,...u}=t,[f,p]=X.useState(null),d=ep(e,C=>p(C)),m=X.useRef(!1),x=f?h||!!f.closest("form"):!0,[y=!1,b]=Ul({prop:i,defaultProp:a,onChange:c});return U.jsxs(r3,{scope:r,checked:y,disabled:o,children:[U.jsx(Br.button,{type:"button",role:"switch","aria-checked":y,"aria-required":s,"data-state":Qx(y),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:d,onClick:Ze(t.onClick,C=>{b(S=>!S),x&&(m.current=C.isPropagationStopped(),m.current||C.stopPropagation())})}),x&&U.jsx(i3,{control:f,bubbles:!m.current,name:n,value:l,checked:y,required:s,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});Xx.displayName=ah;var Kx="SwitchThumb",Zx=X.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=n3(Kx,r);return U.jsx(Br.span,{"data-state":Qx(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});Zx.displayName=Kx;var i3=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,a=X.useRef(null),s=JR(r),o=t3(e);return X.useEffect(()=>{const l=a.current,c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"checked").set;if(s!==r&&u){const f=new Event("click",{bubbles:n});u.call(l,r),l.dispatchEvent(f)}},[s,r,n]),U.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Qx(t){return t?"checked":"unchecked"}var Jx=Xx,a3=Zx;const ql=X.forwardRef(({className:t,...e},r)=>U.jsx(Jx,{className:Sr("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:U.jsx(a3,{className:Sr("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));ql.displayName=Jx.displayName;function s3(t,e=[]){let r=[];function n(a,s){const o=X.createContext(s),l=r.length;r=[...r,s];function c(u){const{scope:f,children:p,...d}=u,m=(f==null?void 0:f[t][l])||o,x=X.useMemo(()=>d,Object.values(d));return U.jsx(m.Provider,{value:x,children:p})}function h(u,f){const p=(f==null?void 0:f[t][l])||o,d=X.useContext(p);if(d)return d;if(s!==void 0)return s;throw new Error(`\`${u}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,h]}const i=()=>{const a=r.map(s=>X.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return X.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,o3(i,...e)]}function o3(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((o,{useScope:l,scopeName:c})=>{const u=l(a)[`__scope${c}`];return{...o,...u}},{});return X.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}var l3=X.createContext(void 0);function tb(t){const e=X.useContext(l3);return t||e||"ltr"}var Fo="rovingFocusGroup.onEntryFocus",c3={bubbles:!1,cancelable:!0},Vs="RovingFocusGroup",[Hl,eb,h3]=Fb(Vs),[u3,rb]=s3(Vs,[h3]),[f3,p3]=u3(Vs),nb=X.forwardRef((t,e)=>U.jsx(Hl.Provider,{scope:t.__scopeRovingFocusGroup,children:U.jsx(Hl.Slot,{scope:t.__scopeRovingFocusGroup,children:U.jsx(d3,{...t,ref:e})})}));nb.displayName=Vs;var d3=X.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:h=!1,...u}=t,f=X.useRef(null),p=ep(e,f),d=tb(a),[m=null,x]=Ul({prop:s,defaultProp:o,onChange:l}),[y,b]=X.useState(!1),C=Ib(c),S=eb(r),v=X.useRef(!1),[_,F]=X.useState(0);return X.useEffect(()=>{const P=f.current;if(P)return P.addEventListener(Fo,C),()=>P.removeEventListener(Fo,C)},[C]),U.jsx(f3,{scope:r,orientation:n,dir:d,loop:i,currentTabStopId:m,onItemFocus:X.useCallback(P=>x(P),[x]),onItemShiftTab:X.useCallback(()=>b(!0),[]),onFocusableItemAdd:X.useCallback(()=>F(P=>P+1),[]),onFocusableItemRemove:X.useCallback(()=>F(P=>P-1),[]),children:U.jsx(Br.div,{tabIndex:y||_===0?-1:0,"data-orientation":n,...u,ref:p,style:{outline:"none",...t.style},onMouseDown:Ze(t.onMouseDown,()=>{v.current=!0}),onFocus:Ze(t.onFocus,P=>{const q=!v.current;if(P.target===P.currentTarget&&q&&!y){const O=new CustomEvent(Fo,c3);if(P.currentTarget.dispatchEvent(O),!O.defaultPrevented){const E=S().filter(A=>A.focusable),R=E.find(A=>A.active),N=E.find(A=>A.id===m),I=[R,N,...E].filter(Boolean).map(A=>A.ref.current);sb(I,h)}}v.current=!1}),onBlur:Ze(t.onBlur,()=>b(!1))})})}),ib="RovingFocusGroupItem",ab=X.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,...s}=t,o=rp(),l=a||o,c=p3(ib,r),h=c.currentTabStopId===l,u=eb(r),{onFocusableItemAdd:f,onFocusableItemRemove:p}=c;return X.useEffect(()=>{if(n)return f(),()=>p()},[n,f,p]),U.jsx(Hl.ItemSlot,{scope:r,id:l,focusable:n,active:i,children:U.jsx(Br.span,{tabIndex:h?0:-1,"data-orientation":c.orientation,...s,ref:e,onMouseDown:Ze(t.onMouseDown,d=>{n?c.onItemFocus(l):d.preventDefault()}),onFocus:Ze(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Ze(t.onKeyDown,d=>{if(d.key==="Tab"&&d.shiftKey){c.onItemShiftTab();return}if(d.target!==d.currentTarget)return;const m=y3(d,c.orientation,c.dir);if(m!==void 0){if(d.metaKey||d.ctrlKey||d.altKey||d.shiftKey)return;d.preventDefault();let y=u().filter(b=>b.focusable).map(b=>b.ref.current);if(m==="last")y.reverse();else if(m==="prev"||m==="next"){m==="prev"&&y.reverse();const b=y.indexOf(d.currentTarget);y=c.loop?x3(y,b+1):y.slice(b+1)}setTimeout(()=>sb(y))}})})})});ab.displayName=ib;var g3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function m3(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function y3(t,e,r){const n=m3(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return g3[n]}function sb(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function x3(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var b3=nb,w3=ab,sh="Tabs",[C3,rP]=tp(sh,[rb]),ob=rb(),[k3,oh]=C3(sh),lb=X.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:o,activationMode:l="automatic",...c}=t,h=tb(o),[u,f]=Ul({prop:n,onChange:i,defaultProp:a});return U.jsx(k3,{scope:r,baseId:rp(),value:u,onValueChange:f,orientation:s,dir:h,activationMode:l,children:U.jsx(Br.div,{dir:h,"data-orientation":s,...c,ref:e})})});lb.displayName=sh;var cb="TabsList",hb=X.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=oh(cb,r),s=ob(r);return U.jsx(b3,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:n,children:U.jsx(Br.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});hb.displayName=cb;var ub="TabsTrigger",fb=X.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,s=oh(ub,r),o=ob(r),l=gb(s.baseId,n),c=mb(s.baseId,n),h=n===s.value;return U.jsx(w3,{asChild:!0,...o,focusable:!i,active:h,children:U.jsx(Br.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":c,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:Ze(t.onMouseDown,u=>{!i&&u.button===0&&u.ctrlKey===!1?s.onValueChange(n):u.preventDefault()}),onKeyDown:Ze(t.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&s.onValueChange(n)}),onFocus:Ze(t.onFocus,()=>{const u=s.activationMode!=="manual";!h&&!i&&u&&s.onValueChange(n)})})})});fb.displayName=ub;var pb="TabsContent",db=X.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...s}=t,o=oh(pb,r),l=gb(o.baseId,n),c=mb(o.baseId,n),h=n===o.value,u=X.useRef(h);return X.useEffect(()=>{const f=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(f)},[]),U.jsx($b,{present:i||h,children:({present:f})=>U.jsx(Br.div,{"data-state":h?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:u.current?"0s":void 0},children:f&&a})})});db.displayName=pb;function gb(t,e){return`${t}-trigger-${e}`}function mb(t,e){return`${t}-content-${e}`}var _3=lb,yb=hb,xb=fb,bb=db;const v3=_3,wb=X.forwardRef(({className:t,...e},r)=>U.jsx(yb,{ref:r,className:Sr("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));wb.displayName=yb.displayName;const Wl=X.forwardRef(({className:t,...e},r)=>U.jsx(xb,{ref:r,className:Sr("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));Wl.displayName=xb.displayName;const jl=X.forwardRef(({className:t,...e},r)=>U.jsx(bb,{ref:r,className:Sr("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));jl.displayName=bb.displayName;const S3=t=>{const r=Math.min(t/10,1),n=Math.floor(255-r*100);return`rgb(${n}, ${n+50}, 255)`};function T3({entities:t,minimumEntityCount:e,setMinimumEntityCount:r,selectedEntity:n,handleShowAllRelationships:i,handleEntityClick:a,deleteEntity:s}){const o=(l,c)=>{l.preventDefault(),window.confirm(`Delete ${c} and its relationships?`)&&s(c)};return U.jsx("div",{className:"entities-list",children:U.jsxs("div",{className:"chips-container mb-4 flex flex-wrap",children:[U.jsx("button",{className:"chip-button border rounded-sm px-2 py-1 mr-1 my-1 flex items-center hover:bg-gray-800 hover:text-white",style:{backgroundColor:n===null?"green":"inherit",color:n===null?"white":"inherit"},onClick:i,children:"All"},"Docagram-All"),t.sort((l,c)=>c.count-l.count).filter(l=>l.count>=e).map(l=>U.jsxs("button",{className:"chip-button border rounded-sm px-2 py-1 mr-1 my-1 flex items-center hover:bg-gray-800 hover:text-white",style:{backgroundColor:l.name===n?"green":S3(l.count),color:l.name===n?"white":"inherit"},onClick:()=>a(l.name),onContextMenu:c=>o(c,l.name),children:[l.name," ",U.jsxs("span",{className:"ml-1 text-sm",children:["(",l.count,")"]})]},l.name))]})})}function E3({loading:t,aiService:e,relationshipService:r}){const[n,i]=X.useState([]),[a,s]=X.useState(""),[o,l]=X.useState(null),[c,h]=X.useState(!0),[u,f]=X.useState(!0),[p,d]=X.useState(null),[m,x]=X.useState([]),[y,b]=X.useState([]),[C,S]=X.useState("diagram"),[v,_]=X.useState(null),[F,P]=X.useState(1);X.useEffect(()=>()=>{chrome.tabs.query({active:!0,currentWindow:!0},B=>{B[0].id&&chrome.tabs.sendMessage(B[0].id,{action:"highlight",entity:""})})},[]);const q=B=>{let L=`graph LR
`;return B.forEach(W=>{const{entity1:w,entity2:j,description:pt}=W,k=Qf(w),yt=Qf(j),ot=Mo(pt);L+=`    ${k}[${Mo(w)}] -->|${ot}| ${yt}[${Mo(j)}]
`,L+=`    style ${k} fill:#0077be,color:#fff
`,L+=`    style ${yt} fill:#0077be,color:#fff
`}),L},O=X.useCallback(async()=>{try{r.reset(),i([]),l(null),s("Analyzing page content..."),d(null),x([]),b([]),_(null);const B=await Eh.getPageContent(),L=await Eh.splitIntoChunks(B),W=window.location.href,w=[];for(let j=0;j<L.length;j++){const pt=L[j];s(`Processing section ${j+1} of ${L.length}`);try{const k=await e.summarizeContent(pt),yt=await e.streamAnalysis(k,j,L.length);let ot="";const bt=yt.getReader();for(;;){const{done:Ot,value:Nt}=await bt.read();if(Ot)break;ot=Nt;const $t=new np;$t.parseRelationships(ot,W);const Tt=$t.getRelationships(),qt={summary:k,relationships:Tt,diagram:q(Tt),message:ot};w[j]=qt,i([...w])}}catch(k){console.error(`Error processing section ${j+1}:`,k),l(`Error processing section ${j+1}: ${k.message}`)}await new Promise(k=>setTimeout(k,0))}}catch(B){console.error("Analysis failed:",B),l(B.message)}finally{s("")}},[e]),E=async B=>{try{const[L]=await chrome.tabs.query({active:!0,currentWindow:!0});L.id&&await chrome.tabs.sendMessage(L.id,{action:"highlight",entity:B===v?"":B})}catch(L){console.error("Failed to send highlight message:",L)}},R=B=>{if(B===v){_(null);const L=q(m);d(L)}else{_(B);const L=m.filter(w=>w.entity1===B||w.entity2===B),W=q(L);d(W)}},N=()=>{_(null);const B=q(m);d(B)},$=B=>{const L=m.filter(j=>j.entity1!==B&&j.entity2!==B);x(L);const W=y.filter(j=>j.name!==B);b(W);const w=q(L);d(w),v===B&&_(null)},I=B=>{E(B),R(B)},A=()=>{const B=n.flatMap(j=>j.relationships),L=q(B);d(L),x(B);const W=new Map;B.forEach(j=>{W.set(j.entity1,(W.get(j.entity1)||0)+1),W.set(j.entity2,(W.get(j.entity2)||0)+1)});const w=Array.from(W.entries()).map(([j,pt])=>({name:j,count:pt}));b(w)};return U.jsx(Ks,{className:"w-full",children:U.jsxs(Zs,{className:"pt-0",children:[U.jsx("div",{className:"sticky top-0 bg-white z-10 border-b",style:{borderBottom:"1px solid #e5e7eb"},children:U.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2 md:p-4",children:[U.jsx(ia,{onClick:O,disabled:t,className:"mr-4",children:"Analyze"}),U.jsx(ia,{className:"block md:hidden",onClick:A,disabled:n.length===0,variant:"outline",children:"Combine All Diagrams"}),U.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[U.jsxs("div",{className:"flex items-center",children:[U.jsx(ql,{id:"show-summaries",checked:c,onCheckedChange:h}),U.jsx(Th,{htmlFor:"show-summaries",className:"ml-2 mr-4",children:"Show Summaries"})]}),U.jsxs("div",{className:"flex items-center",children:[U.jsx(ql,{id:"show-diagrams",checked:u,onCheckedChange:f}),U.jsx(Th,{htmlFor:"show-diagrams",className:"ml-2 mr-4",children:"Show Diagrams"})]}),U.jsx(ia,{className:"hidden md:block",onClick:A,disabled:n.length===0,variant:"outline",children:"Combine All Diagrams"})]})]})}),U.jsxs("div",{className:"space-y-6 pt-6",children:[U.jsx(zb,{status:a,error:o}),p&&U.jsx(Ks,{className:"mb-6",children:U.jsx(Zs,{children:U.jsxs(v3,{value:C,onValueChange:S,children:[U.jsxs("div",{className:"flex gap-8 pt-4",children:[U.jsx("h2",{className:"text-xl font-bold",children:"Combined Diagram"}),U.jsxs(wb,{children:[U.jsx(Wl,{value:"diagram",children:"Diagram"}),U.jsx(Wl,{value:"entities",children:"Entities"})]}),v&&U.jsx(ia,{variant:"outline",onClick:N,children:"Show All"})]}),U.jsx(jl,{value:"diagram",children:U.jsx(of,{diagramDefinition:p,onNodeClick:I})}),U.jsx(jl,{value:"entities",children:U.jsx(T3,{entities:y,minimumEntityCount:F,setMinimumEntityCount:P,selectedEntity:v,handleShowAllRelationships:N,handleEntityClick:B=>{R(B),S("diagram")},deleteEntity:$})})]})})}),n.map((B,L)=>U.jsx(Ks,{className:"mb-6",children:U.jsxs(Zs,{className:"space-y-4",children:[U.jsxs("h2",{className:"text-xl font-bold pt-4",children:["Section ",L+1]}),c&&U.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[U.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Summary"}),U.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:U.jsx(ZR,{children:B.summary})})]}),u&&U.jsx(of,{diagramDefinition:B.diagram,onNodeClick:E})]})},L))]})]})})}function A3(){const[t,e]=X.useState(!1),[r,n]=X.useState(null),a=X.useRef(new Pb).current,o=X.useRef(new np).current;return X.useEffect(()=>((async()=>{try{await a.initialize();const c=a.getSessionStats();console.log("AI Service Initialized:",c);const h=await a.checkSupport();n(h)}catch(c){console.error("AIService initialization failed:",c)}})(),()=>{a.destroy()}),[]),U.jsx("div",{className:"p-4 space-y-4 w-full",children:U.jsx(E3,{loading:t,aiService:a,relationshipService:o})})}const lh=document.createElement("div");lh.className="container";document.body.appendChild(lh);const L3=Db.createRoot(lh);L3.render(U.jsx(Rb.StrictMode,{children:U.jsx(A3,{})}));export{cv as $,ki as A,bp as B,Lc as C,Ne as D,gE as E,cw as F,CL as G,Yu as H,S1 as I,yC as J,pv as K,Mn as L,I3 as M,Gl as N,$s as O,F3 as P,Yg as Q,dE as R,Ui as S,y1 as T,Lp as U,Z1 as V,ji as W,rt as X,at as Y,sE as Z,g as _,Gt as a,kr as a$,hu as a0,cu as a1,j3 as a2,N3 as a3,H3 as a4,q3 as a5,P3 as a6,gc as a7,W3 as a8,O3 as a9,GS as aA,XT as aB,wc as aC,tf as aD,aA as aE,hv as aF,NC as aG,zC as aH,_s as aI,tn as aJ,nE as aK,dm as aL,Ls as aM,Is as aN,ns as aO,mm as aP,pm as aQ,IT as aR,hc as aS,Lg as aT,ye as aU,Gi as aV,R_ as aW,Fg as aX,R3 as aY,jb as aZ,uc as a_,hn as aa,Y3 as ab,U3 as ac,z3 as ad,FA as ae,y0 as af,Z3 as ag,km as ah,Xt as ai,Wn as aj,sc as ak,QA as al,Vm as am,Hn as an,lt as ao,Je as ap,xL as aq,K3 as ar,Q3 as as,G3 as at,nt as au,X3 as av,sL as aw,rL as ax,eL as ay,rE as az,aw as b,Ri as b0,nu as b1,W_ as b2,eE as b3,GT as b4,DS as b5,Cc as b6,LT as b7,aE as b8,Ki as b9,zn as ba,ts as bb,zT as bc,qL as bd,Xi as be,rs as bf,$T as bg,om as bh,OS as bi,NS as bj,Nr as bk,Su as bl,zS as bm,kc as bn,PS as bo,WS as bp,qn as bq,Mr as br,wu as bs,_c as bt,cm as bu,Al as bv,iE as bw,Fs as bx,Et as by,iw as c,_t as d,Nn as e,vm as f,nw as g,Rn as h,Gr as i,kt as j,Ap as k,z as l,gg as m,$3 as n,D3 as o,sw as p,ow as q,xC as r,rw as s,ZA as t,Ve as u,ew as v,xE as w,V3 as x,tP as y,J3 as z};
